#!/usr/bin/env node
"use strict";
var __create = Object.create;
var __defProp = Object.defineProperty;
var __getOwnPropDesc = Object.getOwnPropertyDescriptor;
var __getOwnPropNames = Object.getOwnPropertyNames;
var __getProtoOf = Object.getPrototypeOf;
var __hasOwnProp = Object.prototype.hasOwnProperty;
var __esm = (fn, res) => function __init() {
  return fn && (res = (0, fn[__getOwnPropNames(fn)[0]])(fn = 0)), res;
};
var __commonJS = (cb, mod) => function __require() {
  return mod || (0, cb[__getOwnPropNames(cb)[0]])((mod = { exports: {} }).exports, mod), mod.exports;
};
var __copyProps = (to, from, except, desc) => {
  if (from && typeof from === "object" || typeof from === "function") {
    for (let key of __getOwnPropNames(from))
      if (!__hasOwnProp.call(to, key) && key !== except)
        __defProp(to, key, { get: () => from[key], enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable });
  }
  return to;
};
var __toESM = (mod, isNodeMode, target) => (target = mod != null ? __create(__getProtoOf(mod)) : {}, __copyProps(
  // If the importer is in node compatibility mode or this is not an ESM
  // file that has been converted to a CommonJS file using a Babel-
  // compatible transform (i.e. "__esModule" has not been set), then set
  // "default" to the CommonJS "module.exports" for node compatibility.
  isNodeMode || !mod || !mod.__esModule ? __defProp(target, "default", { value: mod, enumerable: true }) : target,
  mod
));

// ../../node_modules/tsup/assets/cjs_shims.js
var getImportMetaUrl, importMetaUrl;
var init_cjs_shims = __esm({
  "../../node_modules/tsup/assets/cjs_shims.js"() {
    getImportMetaUrl = () => typeof document === "undefined" ? new URL("file:" + __filename).href : document.currentScript && document.currentScript.src || new URL("main.js", document.baseURI).href;
    importMetaUrl = /* @__PURE__ */ getImportMetaUrl();
  }
});

// lib/errors.ts
var ValidationError;
var init_errors = __esm({
  "lib/errors.ts"() {
    "use strict";
    init_cjs_shims();
    ValidationError = class extends Error {
      constructor(message) {
        super(message);
        this.name = "";
      }
    };
  }
});

// lib/log.ts
var import_chalk, import_util, log, info, withError, withWarning, warn, error, title, divider, spacer, cyan, blue, red, green, gray, white, magenta, bold;
var init_log = __esm({
  "lib/log.ts"() {
    "use strict";
    init_cjs_shims();
    import_chalk = __toESM(require("chalk"));
    import_util = __toESM(require("util"));
    log = (...args) => console.log(import_util.default.format(...args));
    info = log;
    withError = (msg) => import_chalk.default.bgRed.white(" ERROR ") + " " + msg;
    withWarning = (msg) => import_chalk.default.bgYellow.black(" WARNING ") + " " + msg;
    warn = (...args) => log(withWarning(import_util.default.format(...args)));
    error = (...args) => log(withError(import_util.default.format(...args)) + "\n");
    title = (color, ...args) => info("\n  " + import_chalk.default[color].bold(import_util.default.format(...args)) + "  \n");
    divider = () => console.log("\n" + import_chalk.default.gray(Array(100).fill("=").join("")) + "\n");
    spacer = (n = 0) => console.log(Array(n).fill("").join("\n"));
    cyan = import_chalk.default.cyan;
    blue = import_chalk.default.blueBright;
    red = import_chalk.default.red;
    green = import_chalk.default.greenBright;
    gray = import_chalk.default.gray;
    white = import_chalk.default.white;
    magenta = import_chalk.default.magenta;
    bold = import_chalk.default.bold;
  }
});

// lib/httpClient/config.ts
var import_axios, isRetriableError, getDelay, baseURL, getAPIBaseUrl, setAPIBaseUrl;
var init_config = __esm({
  "lib/httpClient/config.ts"() {
    "use strict";
    init_cjs_shims();
    import_axios = require("axios");
    isRetriableError = (err) => {
      if (!(0, import_axios.isAxiosError)(err)) {
        return false;
      }
      if (err.code === "ECONNREFUSED") {
        return true;
      }
      return !!(err?.response?.status && 500 <= err.response.status && err.response.status < 600);
    };
    getDelay = (i) => [15 * 1e3, 30 * 1e3, 60 * 1e3][i - 1];
    baseURL = "https://cy.currents.dev";
    getAPIBaseUrl = () => baseURL ?? "https://cy.currents.dev";
    setAPIBaseUrl = (url) => baseURL = url ?? "https://cy.currents.dev";
  }
});

// lib/httpClient/printErrors.ts
function maybePrintErrors(err) {
  if (!err.response?.data || !err.response?.status) {
    return;
  }
  const { message, errors } = err.response.data;
  switch (err.response.status) {
    case 401:
      warn("Received 401 Unauthorized");
      break;
    case 422:
      spacer(1);
      warn(...formatGenericError(message, errors));
      spacer(1);
      break;
    default:
      break;
  }
}
function formatGenericError(message, errors) {
  if (!import_lodash.default.isString(message)) {
    return ["Unexpected error from the cloud service"];
  }
  if (errors?.length === 0) {
    return [message];
  }
  return [
    message,
    `
${(errors ?? []).map((e) => `  - ${e}`).join("\n")}
`
  ];
}
var import_lodash;
var init_printErrors = __esm({
  "lib/httpClient/printErrors.ts"() {
    "use strict";
    init_cjs_shims();
    import_lodash = __toESM(require("lodash"));
    init_log();
  }
});

// lib/httpClient/httpClient.ts
function getClient() {
  if (_client) {
    return _client;
  }
  _client = import_axios2.default.create({
    baseURL: getAPIBaseUrl()
  });
  _client.interceptors.request.use((config) => {
    const req = {
      ...config,
      headers: {
        "Content-Type": "application/json",
        ...config.headers,
        // @ts-ignore
        "x-cypress-request-attempt": config["axios-retry"]?.retryCount ?? 0,
        "x-cypress-run-id": _runId,
        "x-cypress-version": _cypressVersion,
        "x-ccy-version": _currentsVersion ?? "0.0.0"
      }
    };
    debug("network request: %o", req);
    return req;
  });
  (0, import_axios_retry.default)(_client, {
    retries: MAX_RETRIES,
    retryCondition: isRetriableError,
    retryDelay: getDelay,
    // @ts-ignore
    onRetry
  });
  return _client;
}
function onRetry(retryCount, err, _config2) {
  warn(
    "Network request failed: '%s'. Next attempt is in %s (%d/%d).",
    err.message,
    (0, import_pretty_ms.default)(getDelay(retryCount)),
    retryCount,
    MAX_RETRIES
  );
}
var import_axios2, import_axios_retry, import_debug, import_lodash2, import_pretty_ms, debug, MAX_RETRIES, _client, _runId, setRunId, _cypressVersion, setCypressVersion, _currentsVersion, setCurrentsVersion, makeRequest;
var init_httpClient = __esm({
  "lib/httpClient/httpClient.ts"() {
    "use strict";
    init_cjs_shims();
    import_axios2 = __toESM(require("axios"));
    import_axios_retry = __toESM(require("axios-retry"));
    import_debug = __toESM(require("debug"));
    import_lodash2 = __toESM(require("lodash"));
    import_pretty_ms = __toESM(require("pretty-ms"));
    init_errors();
    init_log();
    init_config();
    init_printErrors();
    debug = (0, import_debug.default)("currents:api");
    MAX_RETRIES = 3;
    _client = null;
    _runId = void 0;
    setRunId = (runId) => {
      _runId = runId;
    };
    _cypressVersion = void 0;
    setCypressVersion = (cypressVersion) => {
      _cypressVersion = cypressVersion;
    };
    _currentsVersion = void 0;
    setCurrentsVersion = (v) => {
      _currentsVersion = v;
    };
    makeRequest = (config) => {
      return getClient()(config).then((res) => {
        debug("network request response: %o", import_lodash2.default.omit(res, "request", "config"));
        return res;
      }).catch((error2) => {
        maybePrintErrors(error2);
        throw new ValidationError(error2.message);
      });
    };
  }
});

// lib/httpClient/index.ts
var init_httpClient2 = __esm({
  "lib/httpClient/index.ts"() {
    "use strict";
    init_cjs_shims();
    init_config();
    init_httpClient();
  }
});

// lib/capture.ts
var import_debug2, debug2, _write, _log, restore, stdout, initialOutput, capturedOutput, initCapture, cutInitialOutput, resetCapture, getCapturedOutput, getInitialOutput;
var init_capture = __esm({
  "lib/capture.ts"() {
    "use strict";
    init_cjs_shims();
    import_debug2 = __toESM(require("debug"));
    debug2 = (0, import_debug2.default)("currents:capture");
    _write = process.stdout.write;
    _log = process.log;
    restore = function() {
      process.stdout.write = _write;
      process.log = _log;
    };
    stdout = function() {
      debug2("capturing stdout");
      let logs = [];
      const { write } = process.stdout;
      const { log: log2 } = process;
      if (log2) {
        process.log = function(str) {
          logs.push(str);
          return log2.apply(this, arguments);
        };
      }
      process.stdout.write = function(str) {
        logs.push(str);
        return write.apply(this, arguments);
      };
      return {
        toString() {
          return logs.join("");
        },
        data: logs,
        restore,
        reset: () => {
          debug2("resetting captured stdout");
          logs = [];
        }
      };
    };
    initialOutput = "";
    capturedOutput = null;
    initCapture = () => capturedOutput = stdout();
    cutInitialOutput = () => {
      if (!capturedOutput)
        throw new Error("capturedOutput is null");
      initialOutput = capturedOutput.toString();
      capturedOutput.reset();
    };
    resetCapture = () => {
      if (!capturedOutput)
        throw new Error("capturedOutput is null");
      capturedOutput.reset();
    };
    getCapturedOutput = () => {
      if (!capturedOutput)
        throw new Error("capturedOutput is null");
      return capturedOutput.toString();
    };
    getInitialOutput = () => initialOutput;
  }
});

// lib/require.ts
var import_module, require2;
var init_require = __esm({
  "lib/require.ts"() {
    "use strict";
    init_cjs_shims();
    import_module = require("module");
    require2 = (0, import_module.createRequire)(importMetaUrl);
  }
});

// lib/stdout.ts
var import_child_process, orginal;
var init_stdout = __esm({
  "lib/stdout.ts"() {
    "use strict";
    init_cjs_shims();
    import_child_process = __toESM(require("child_process"));
    orginal = import_child_process.default.spawn;
    import_child_process.default.spawn = function(command, args, options) {
      if (command.match(/Cypress/)) {
        const process2 = orginal(command, args, {
          ...options,
          // using pipe enables capturing stdout and stderr
          stdio: ["pipe", "pipe", "pipe"]
        });
        return process2;
      }
      return orginal(command, args, options);
    };
  }
});

// lib/ws.ts
var init_ws = __esm({
  "lib/ws.ts"() {
    "use strict";
    init_cjs_shims();
  }
});

// lib/init.ts
var init_exports = {};
var cypressPkg, pkg;
var init_init = __esm({
  "lib/init.ts"() {
    "use strict";
    init_cjs_shims();
    init_require();
    init_stdout();
    init_ws();
    init_capture();
    init_httpClient2();
    cypressPkg = require2("cypress/package.json");
    pkg = require2("cypress-cloud/package.json");
    initCapture();
    setCypressVersion(cypressPkg.version);
    setCurrentsVersion(pkg.version);
  }
});

// bin/lib/@commander-js/extra-typings/index.js
var require_extra_typings = __commonJS({
  "bin/lib/@commander-js/extra-typings/index.js"(exports, module2) {
    "use strict";
    init_cjs_shims();
    var commander = require("commander");
    exports = module2.exports = {};
    exports.program = new commander.Command();
    exports.Argument = commander.Argument;
    exports.Command = commander.Command;
    exports.CommanderError = commander.CommanderError;
    exports.Help = commander.Help;
    exports.InvalidArgumentError = commander.InvalidArgumentError;
    exports.InvalidOptionArgumentError = commander.InvalidArgumentError;
    exports.Option = commander.Option;
    exports.createCommand = (name) => new commander.Command(name);
    exports.createOption = (flags, description) => new commander.Option(flags, description);
    exports.createArgument = (name, description) => new commander.Argument(name, description);
  }
});

// bin/cli.ts
init_cjs_shims();
var import_register = require("source-map-support/register");
init_errors();
init_log();

// lib/run.ts
init_cjs_shims();
var import_debug17 = __toESM(require("debug"));

// lib/api/index.ts
init_cjs_shims();

// lib/api/api.ts
init_cjs_shims();
init_httpClient2();

// lib/api/warnings.ts
init_cjs_shims();
var import_lodash3 = __toESM(require("lodash"));
init_log();
init_log();
function printWarnings(warnings) {
  warn("Notice from cloud service:");
  warnings.map((w) => {
    spacer(1);
    info(magenta.bold(w.message));
    Object.entries(import_lodash3.default.omit(w, "message")).map(([key, value]) => {
      info("- %s: %s", key, value);
    });
    spacer(1);
  });
}

// lib/api/api.ts
var createRun = async (payload) => {
  const response = await makeRequest({
    method: "POST",
    url: "/runs",
    data: payload
  });
  if ((response.data.warnings?.length ?? 0) > 0) {
    printWarnings(response.data.warnings);
  }
  return response.data;
};
var createInstance = async ({
  runId,
  groupId,
  machineId,
  platform: platform2
}) => {
  const response = await makeRequest({
    method: "POST",
    url: `runs/${runId}/instances`,
    data: {
      runId,
      groupId,
      machineId,
      platform: platform2
    }
  });
  return response.data;
};
var createBatchedInstances = async (data) => {
  const respone = await makeRequest({
    method: "POST",
    url: `runs/${data.runId}/cy/instances`,
    data
  });
  return respone.data;
};
var setInstanceTests = (instanceId, payload) => makeRequest({
  method: "POST",
  url: `instances/${instanceId}/tests`,
  data: payload
}).then((result) => result.data);
var updateInstanceResults = (instanceId, payload) => makeRequest({
  method: "POST",
  url: `instances/${instanceId}/results`,
  data: payload
}).then((result) => result.data);
var reportInstanceResultsMerged = (instanceId, payload) => makeRequest({
  method: "POST",
  url: `instances/${instanceId}/cy/results`,
  data: payload
}).then((result) => result.data);
var updateInstanceStdout = (instanceId, stdout2) => makeRequest({
  method: "PUT",
  url: `instances/${instanceId}/stdout`,
  data: {
    stdout: stdout2
  }
});

// lib/api/types/index.ts
init_cjs_shims();

// lib/api/types/instance.ts
init_cjs_shims();

// lib/api/types/run.ts
init_cjs_shims();

// lib/api/types/test.ts
init_cjs_shims();

// lib/run.ts
init_capture();

// lib/ciProvider.ts
init_cjs_shims();
var import_debug3 = __toESM(require("debug"));
var import_lodash4 = __toESM(require("lodash"));
init_errors();
var debug3 = (0, import_debug3.default)("currents:ci");
var join = (char, ...pieces) => {
  return import_lodash4.default.chain(pieces).compact().join(char).value();
};
var toCamelObject = (obj, key) => {
  return import_lodash4.default.set(obj, import_lodash4.default.camelCase(key), process.env[key]);
};
var extract = (envKeys) => {
  return import_lodash4.default.transform(envKeys, toCamelObject, {});
};
var isTeamFoundation = () => {
  return process.env.TF_BUILD && process.env.TF_BUILD_BUILDNUMBER;
};
var isAzureCi = () => {
  return process.env.TF_BUILD && process.env.AZURE_HTTP_USER_AGENT;
};
var isAWSCodeBuild = () => {
  return import_lodash4.default.some(process.env, (val, key) => {
    return /^CODEBUILD_/.test(key);
  });
};
var isBamboo = () => {
  return process.env.bamboo_buildNumber;
};
var isCodeshipBasic = () => {
  return process.env.CI_NAME && process.env.CI_NAME === "codeship" && process.env.CODESHIP;
};
var isCodeshipPro = () => {
  return process.env.CI_NAME && process.env.CI_NAME === "codeship" && !process.env.CODESHIP;
};
var isConcourse = () => {
  return import_lodash4.default.some(process.env, (val, key) => {
    return /^CONCOURSE_/.test(key);
  });
};
var isGitlab = () => {
  return process.env.GITLAB_CI || process.env.CI_SERVER_NAME && /^GitLab/.test(process.env.CI_SERVER_NAME);
};
var isGoogleCloud = () => {
  return process.env.GCP_PROJECT || process.env.GCLOUD_PROJECT || process.env.GOOGLE_CLOUD_PROJECT;
};
var isJenkins = () => {
  return process.env.JENKINS_URL || process.env.JENKINS_HOME || process.env.JENKINS_VERSION || process.env.HUDSON_URL || process.env.HUDSON_HOME;
};
var isWercker = () => {
  return process.env.WERCKER || process.env.WERCKER_MAIN_PIPELINE_STARTED;
};
var CI_PROVIDERS = {
  appveyor: "APPVEYOR",
  azure: isAzureCi,
  awsCodeBuild: isAWSCodeBuild,
  bamboo: isBamboo,
  bitbucket: "BITBUCKET_BUILD_NUMBER",
  buildkite: "BUILDKITE",
  circle: "CIRCLECI",
  codeshipBasic: isCodeshipBasic,
  codeshipPro: isCodeshipPro,
  concourse: isConcourse,
  codeFresh: "CF_BUILD_ID",
  drone: "DRONE",
  githubActions: "GITHUB_ACTIONS",
  gitlab: isGitlab,
  goCD: "GO_JOB_NAME",
  googleCloud: isGoogleCloud,
  jenkins: isJenkins,
  semaphore: "SEMAPHORE",
  shippable: "SHIPPABLE",
  teamcity: "TEAMCITY_VERSION",
  teamfoundation: isTeamFoundation,
  travis: "TRAVIS",
  wercker: isWercker,
  netlify: "NETLIFY",
  layerci: "LAYERCI"
};
function _detectProviderName() {
  const { env } = process;
  return import_lodash4.default.findKey(CI_PROVIDERS, (value) => {
    if (import_lodash4.default.isString(value)) {
      return env[value];
    }
    if (import_lodash4.default.isFunction(value)) {
      return value();
    }
  });
}
var _providerCiParams = () => {
  return {
    appveyor: extract([
      "APPVEYOR_JOB_ID",
      "APPVEYOR_ACCOUNT_NAME",
      "APPVEYOR_PROJECT_SLUG",
      "APPVEYOR_BUILD_NUMBER",
      "APPVEYOR_BUILD_VERSION",
      "APPVEYOR_PULL_REQUEST_NUMBER",
      "APPVEYOR_PULL_REQUEST_HEAD_REPO_BRANCH"
    ]),
    azure: extract([
      "BUILD_BUILDID",
      "BUILD_BUILDNUMBER",
      "BUILD_CONTAINERID",
      "BUILD_REPOSITORY_URI"
    ]),
    awsCodeBuild: extract([
      "CODEBUILD_BUILD_ID",
      "CODEBUILD_BUILD_NUMBER",
      "CODEBUILD_RESOLVED_SOURCE_VERSION",
      "CODEBUILD_SOURCE_REPO_URL",
      "CODEBUILD_SOURCE_VERSION"
    ]),
    bamboo: extract([
      "bamboo_buildNumber",
      "bamboo_buildResultsUrl",
      "bamboo_planRepository_repositoryUrl",
      "bamboo_buildKey"
    ]),
    bitbucket: extract([
      "BITBUCKET_REPO_SLUG",
      "BITBUCKET_REPO_OWNER",
      "BITBUCKET_BUILD_NUMBER",
      "BITBUCKET_PARALLEL_STEP",
      "BITBUCKET_STEP_RUN_NUMBER",
      // the PR variables are only set on pull request builds
      "BITBUCKET_PR_ID",
      "BITBUCKET_PR_DESTINATION_BRANCH",
      "BITBUCKET_PR_DESTINATION_COMMIT"
    ]),
    buildkite: extract([
      "BUILDKITE_REPO",
      "BUILDKITE_SOURCE",
      "BUILDKITE_JOB_ID",
      "BUILDKITE_BUILD_ID",
      "BUILDKITE_BUILD_URL",
      "BUILDKITE_BUILD_NUMBER",
      "BUILDKITE_PULL_REQUEST",
      "BUILDKITE_PULL_REQUEST_REPO",
      "BUILDKITE_PULL_REQUEST_BASE_BRANCH"
    ]),
    circle: extract([
      "CIRCLE_JOB",
      "CIRCLE_BUILD_NUM",
      "CIRCLE_BUILD_URL",
      "CIRCLE_PR_NUMBER",
      "CIRCLE_PR_REPONAME",
      "CIRCLE_PR_USERNAME",
      "CIRCLE_COMPARE_URL",
      "CIRCLE_WORKFLOW_ID",
      "CIRCLE_PULL_REQUEST",
      "CIRCLE_REPOSITORY_URL",
      "CI_PULL_REQUEST"
    ]),
    codeshipBasic: extract([
      "CI_BUILD_ID",
      "CI_REPO_NAME",
      "CI_BUILD_URL",
      "CI_PROJECT_ID",
      "CI_BUILD_NUMBER",
      "CI_PULL_REQUEST"
    ]),
    // CodeshipPro provides very few CI variables
    // https://documentation.codeship.com/pro/builds-and-configuration/environment-variables/
    codeshipPro: extract(["CI_BUILD_ID", "CI_REPO_NAME", "CI_PROJECT_ID"]),
    // https://concourse-ci.org/implementing-resource-types.html#resource-metadata
    concourse: extract([
      "BUILD_ID",
      "BUILD_NAME",
      "BUILD_JOB_NAME",
      "BUILD_PIPELINE_NAME",
      "BUILD_TEAM_NAME",
      "ATC_EXTERNAL_URL"
    ]),
    // https://codefresh.io/docs/docs/codefresh-yaml/variables/
    codeFresh: extract([
      "CF_BUILD_ID",
      "CF_BUILD_URL",
      "CF_CURRENT_ATTEMPT",
      "CF_STEP_NAME",
      "CF_PIPELINE_NAME",
      "CF_PIPELINE_TRIGGER_ID",
      // variables added for pull requests
      "CF_PULL_REQUEST_ID",
      "CF_PULL_REQUEST_IS_FORK",
      "CF_PULL_REQUEST_NUMBER",
      "CF_PULL_REQUEST_TARGET"
    ]),
    drone: extract([
      "DRONE_JOB_NUMBER",
      "DRONE_BUILD_LINK",
      "DRONE_BUILD_NUMBER",
      "DRONE_PULL_REQUEST"
    ]),
    // https://help.github.com/en/actions/automating-your-workflow-with-github-actions/using-environment-variables#default-environment-variables
    githubActions: extract([
      "GITHUB_WORKFLOW",
      "GITHUB_ACTION",
      "GITHUB_EVENT_NAME",
      "GITHUB_RUN_ID",
      "GITHUB_RUN_ATTEMPT",
      "GITHUB_REPOSITORY"
    ]),
    // see https://docs.gitlab.com/ee/ci/variables/
    gitlab: extract([
      // pipeline is common among all jobs
      "CI_PIPELINE_ID",
      "CI_PIPELINE_URL",
      // individual jobs
      "CI_BUILD_ID",
      // build id and job id are aliases
      "CI_JOB_ID",
      "CI_JOB_URL",
      "CI_JOB_NAME",
      // other information
      "GITLAB_HOST",
      "CI_PROJECT_ID",
      "CI_PROJECT_URL",
      "CI_REPOSITORY_URL",
      "CI_ENVIRONMENT_URL",
      "CI_DEFAULT_BRANCH"
      // for PRs: https://gitlab.com/gitlab-org/gitlab-ce/issues/23902
    ]),
    // https://docs.gocd.org/current/faq/dev_use_current_revision_in_build.html#standard-gocd-environment-variables
    goCD: extract([
      "GO_SERVER_URL",
      "GO_ENVIRONMENT_NAME",
      "GO_PIPELINE_NAME",
      "GO_PIPELINE_COUNTER",
      "GO_PIPELINE_LABEL",
      "GO_STAGE_NAME",
      "GO_STAGE_COUNTER",
      "GO_JOB_NAME",
      "GO_TRIGGER_USER",
      "GO_REVISION",
      "GO_TO_REVISION",
      "GO_FROM_REVISION",
      "GO_MATERIAL_HAS_CHANGED"
    ]),
    googleCloud: extract([
      // individual jobs
      "BUILD_ID",
      "PROJECT_ID",
      // other information
      "REPO_NAME",
      "BRANCH_NAME",
      "TAG_NAME",
      "COMMIT_SHA",
      "SHORT_SHA"
      // https://cloud.google.com/cloud-build/docs/api/reference/rest/Shared.Types/Build
    ]),
    jenkins: extract(["BUILD_ID", "BUILD_URL", "BUILD_NUMBER", "ghprbPullId"]),
    // https://semaphoreci.com/docs/available-environment-variables.html
    // some come from v1, some from v2 of semaphore
    semaphore: extract([
      "SEMAPHORE_BRANCH_ID",
      "SEMAPHORE_BUILD_NUMBER",
      "SEMAPHORE_CURRENT_JOB",
      "SEMAPHORE_CURRENT_THREAD",
      "SEMAPHORE_EXECUTABLE_UUID",
      "SEMAPHORE_GIT_BRANCH",
      "SEMAPHORE_GIT_DIR",
      "SEMAPHORE_GIT_REF",
      "SEMAPHORE_GIT_REF_TYPE",
      "SEMAPHORE_GIT_REPO_SLUG",
      "SEMAPHORE_GIT_SHA",
      "SEMAPHORE_GIT_URL",
      "SEMAPHORE_JOB_COUNT",
      "SEMAPHORE_JOB_ID",
      // v2
      "SEMAPHORE_JOB_NAME",
      "SEMAPHORE_JOB_UUID",
      // v1
      "SEMAPHORE_PIPELINE_ID",
      "SEMAPHORE_PLATFORM",
      "SEMAPHORE_PROJECT_DIR",
      "SEMAPHORE_PROJECT_HASH_ID",
      "SEMAPHORE_PROJECT_ID",
      // v2
      "SEMAPHORE_PROJECT_NAME",
      "SEMAPHORE_PROJECT_UUID",
      // v1
      "SEMAPHORE_REPO_SLUG",
      "SEMAPHORE_TRIGGER_SOURCE",
      "SEMAPHORE_WORKFLOW_ID",
      "PULL_REQUEST_NUMBER"
      // pull requests from forks ONLY
    ]),
    // see http://docs.shippable.com/ci/env-vars/
    shippable: extract([
      // build variables
      "SHIPPABLE_BUILD_ID",
      // "5b93354cabfabb07007f01fd"
      "SHIPPABLE_BUILD_NUMBER",
      // "4"
      "SHIPPABLE_COMMIT_RANGE",
      // "sha1...sha2"
      "SHIPPABLE_CONTAINER_NAME",
      // "c.exec.cypress-example-kitchensink.4.1"
      "SHIPPABLE_JOB_ID",
      // "1"
      "SHIPPABLE_JOB_NUMBER",
      // "1"
      "SHIPPABLE_REPO_SLUG",
      // "<username>/<repo>"
      // additional information that Shippable provides
      "IS_FORK",
      // "true"
      "IS_GIT_TAG",
      // "false"
      "IS_PRERELEASE",
      // "false"
      "IS_RELEASE",
      // "false"
      "REPOSITORY_URL",
      // "https://github.com/....git"
      "REPO_FULL_NAME",
      // "<username>/<repo>"
      "REPO_NAME",
      // "cypress-example-kitchensink"
      "BUILD_URL",
      // "https://app.shippable.com/github/<username>/<repo>/runs/1"
      // Pull request information
      "BASE_BRANCH",
      // Name of the target branch into which the pull request changes will be merged.
      "HEAD_BRANCH",
      // This is only set for pull requests and is the name of the branch the pull request was opened from.
      "IS_PULL_REQUEST",
      // "false" or "true"
      "PULL_REQUEST",
      // Pull request number if the job is a pull request. If not, this will be set to false.
      "PULL_REQUEST_BASE_BRANCH",
      // Name of the branch that the pull request will be merged into. It should be the same as BASE_BRANCH.
      "PULL_REQUEST_REPO_FULL_NAME"
      // Full name of the repository from where the pull request originated.
    ]),
    teamcity: null,
    teamfoundation: extract([
      "BUILD_BUILDID",
      "BUILD_BUILDNUMBER",
      "BUILD_CONTAINERID"
    ]),
    travis: extract([
      "TRAVIS_JOB_ID",
      "TRAVIS_BUILD_ID",
      "TRAVIS_BUILD_WEB_URL",
      "TRAVIS_REPO_SLUG",
      "TRAVIS_JOB_NUMBER",
      "TRAVIS_EVENT_TYPE",
      "TRAVIS_COMMIT_RANGE",
      "TRAVIS_BUILD_NUMBER",
      "TRAVIS_PULL_REQUEST",
      "TRAVIS_PULL_REQUEST_BRANCH",
      "TRAVIS_PULL_REQUEST_SHA"
    ]),
    wercker: null,
    // https://docs.netlify.com/configure-builds/environment-variables/#deploy-urls-and-metadata
    netlify: extract([
      "BUILD_ID",
      "CONTEXT",
      "URL",
      "DEPLOY_URL",
      "DEPLOY_PRIME_URL",
      "DEPLOY_ID"
    ]),
    // https://layerci.com/docs/layerfile-reference/build-env
    layerci: extract([
      "LAYERCI_JOB_ID",
      "LAYERCI_RUNNER_ID",
      "RETRY_INDEX",
      "LAYERCI_PULL_REQUEST",
      "LAYERCI_REPO_NAME",
      "LAYERCI_REPO_OWNER",
      "LAYERCI_BRANCH",
      "GIT_TAG"
      // short hex for commits
    ])
  };
};
var _providerCommitParams = () => {
  const { env } = process;
  return {
    appveyor: {
      sha: env.APPVEYOR_REPO_COMMIT,
      // since APPVEYOR_REPO_BRANCH will be the target branch on a PR
      // we need to use PULL_REQUEST_HEAD_REPO_BRANCH if it exists.
      // e.g. if you have a PR: develop <- my-feature-branch
      // my-feature-branch is APPVEYOR_PULL_REQUEST_HEAD_REPO_BRANCH
      // develop           is APPVEYOR_REPO_BRANCH
      branch: env.APPVEYOR_PULL_REQUEST_HEAD_REPO_BRANCH || env.APPVEYOR_REPO_BRANCH,
      message: join(
        "\n",
        env.APPVEYOR_REPO_COMMIT_MESSAGE,
        env.APPVEYOR_REPO_COMMIT_MESSAGE_EXTENDED
      ),
      authorName: env.APPVEYOR_REPO_COMMIT_AUTHOR,
      authorEmail: env.APPVEYOR_REPO_COMMIT_AUTHOR_EMAIL
      // remoteOrigin: ???
      // defaultBranch: ???
    },
    awsCodeBuild: {
      sha: env.CODEBUILD_RESOLVED_SOURCE_VERSION,
      // branch: ???,
      // message: ???
      // authorName: ???
      // authorEmail: ???
      remoteOrigin: env.CODEBUILD_SOURCE_REPO_URL
      // defaultBranch: ???
    },
    azure: {
      sha: env.BUILD_SOURCEVERSION,
      branch: env.BUILD_SOURCEBRANCHNAME,
      message: env.BUILD_SOURCEVERSIONMESSAGE,
      authorName: env.BUILD_SOURCEVERSIONAUTHOR,
      authorEmail: env.BUILD_REQUESTEDFOREMAIL
    },
    bamboo: {
      sha: env.bamboo_planRepository_revision,
      branch: env.bamboo_planRepository_branch,
      // message: ???
      authorName: env.bamboo_planRepository_username,
      // authorEmail: ???
      remoteOrigin: env.bamboo_planRepository_repositoryURL
      // defaultBranch: ???
    },
    bitbucket: {
      sha: env.BITBUCKET_COMMIT,
      branch: env.BITBUCKET_BRANCH
      // message: ???
      // authorName: ???
      // authorEmail: ???
      // remoteOrigin: ???
      // defaultBranch: ???
    },
    buildkite: {
      sha: env.BUILDKITE_COMMIT,
      branch: env.BUILDKITE_BRANCH,
      message: env.BUILDKITE_MESSAGE,
      authorName: env.BUILDKITE_BUILD_CREATOR,
      authorEmail: env.BUILDKITE_BUILD_CREATOR_EMAIL,
      remoteOrigin: env.BUILDKITE_REPO,
      defaultBranch: env.BUILDKITE_PIPELINE_DEFAULT_BRANCH
    },
    circle: {
      sha: env.CIRCLE_SHA1,
      branch: env.CIRCLE_BRANCH,
      // message: ???
      authorName: env.CIRCLE_USERNAME,
      // authorEmail: ???
      remoteOrigin: env.CIRCLE_REPOSITORY_URL
      // defaultBranch: ???
    },
    codeshipBasic: {
      sha: env.CI_COMMIT_ID,
      branch: env.CI_BRANCH,
      message: env.CI_COMMIT_MESSAGE,
      authorName: env.CI_COMMITTER_NAME,
      authorEmail: env.CI_COMMITTER_EMAIL
      // remoteOrigin: ???
      // defaultBranch: ???
    },
    codeshipPro: {
      sha: env.CI_COMMIT_ID,
      branch: env.CI_BRANCH,
      message: env.CI_COMMIT_MESSAGE,
      authorName: env.CI_COMMITTER_NAME,
      authorEmail: env.CI_COMMITTER_EMAIL
      // remoteOrigin: ???
      // defaultBranch: ???
    },
    codeFresh: {
      sha: env.CF_REVISION,
      branch: env.CF_BRANCH,
      message: env.CF_COMMIT_MESSAGE,
      authorName: env.CF_COMMIT_AUTHOR
    },
    drone: {
      sha: env.DRONE_COMMIT_SHA,
      // https://docs.drone.io/pipeline/environment/reference/drone-source-branch/
      branch: env.DRONE_SOURCE_BRANCH,
      message: env.DRONE_COMMIT_MESSAGE,
      authorName: env.DRONE_COMMIT_AUTHOR,
      authorEmail: env.DRONE_COMMIT_AUTHOR_EMAIL,
      remoteOrigin: env.DRONE_GIT_HTTP_URL,
      defaultBranch: env.DRONE_REPO_BRANCH
    },
    githubActions: {
      sha: env.GITHUB_SHA,
      branch: env.GH_BRANCH || env.GITHUB_REF,
      defaultBranch: env.GITHUB_BASE_REF,
      remoteBranch: env.GITHUB_HEAD_REF,
      runAttempt: env.GITHUB_RUN_ATTEMPT
    },
    gitlab: {
      sha: env.CI_COMMIT_SHA,
      branch: env.CI_COMMIT_REF_NAME,
      message: env.CI_COMMIT_MESSAGE,
      authorName: env.GITLAB_USER_NAME,
      authorEmail: env.GITLAB_USER_EMAIL,
      remoteOrigin: env.CI_REPOSITORY_URL,
      defaultBranch: env.CI_DEFAULT_BRANCH
    },
    googleCloud: {
      sha: env.COMMIT_SHA,
      branch: env.BRANCH_NAME
      // message: ??
      // authorName: ??
      // authorEmail: ??
      // remoteOrigin: ???
      // defaultBranch: ??
    },
    jenkins: {
      sha: env.GIT_COMMIT,
      branch: env.GIT_BRANCH
      // message: ???
      // authorName: ???
      // authorEmail: ???
      // remoteOrigin: ???
      // defaultBranch: ???
    },
    // Only from forks? https://semaphoreci.com/docs/available-environment-variables.html
    semaphore: {
      sha: env.SEMAPHORE_GIT_SHA,
      branch: env.SEMAPHORE_GIT_BRANCH,
      // message: ???
      // authorName: ???
      // authorEmail: ???
      remoteOrigin: env.SEMAPHORE_GIT_REPO_SLUG
      // defaultBranch: ???
    },
    shippable: {
      sha: env.COMMIT,
      branch: env.BRANCH,
      message: env.COMMIT_MESSAGE,
      authorName: env.COMMITTER
      // authorEmail: ???
      // remoteOrigin: ???
      // defaultBranch: ???
    },
    snap: null,
    teamcity: null,
    teamfoundation: {
      sha: env.BUILD_SOURCEVERSION,
      branch: env.BUILD_SOURCEBRANCHNAME,
      message: env.BUILD_SOURCEVERSIONMESSAGE,
      authorName: env.BUILD_SOURCEVERSIONAUTHOR
    },
    travis: {
      sha: env.TRAVIS_PULL_REQUEST_SHA || env.TRAVIS_COMMIT,
      // for PRs, TRAVIS_BRANCH is the base branch being merged into
      branch: env.TRAVIS_PULL_REQUEST_BRANCH || env.TRAVIS_BRANCH,
      // authorName: ???
      // authorEmail: ???
      message: env.TRAVIS_COMMIT_MESSAGE
      // remoteOrigin: ???
      // defaultBranch: ???
    },
    wercker: null,
    netlify: {
      sha: env.COMMIT_REF,
      branch: env.BRANCH,
      remoteOrigin: env.REPOSITORY_URL
    },
    layerci: {
      sha: env.GIT_COMMIT,
      branch: env.LAYERCI_BRANCH,
      message: env.GIT_COMMIT_TITLE
    }
  };
};
var _get = (fn) => {
  const providerName = getCiProvider();
  if (!providerName)
    return {};
  return import_lodash4.default.chain(fn()).get(providerName).value();
};
function checkForCiBuildFromCi(ciProvider) {
  if (ciProvider && detectableCiBuildIdProviders().includes(ciProvider))
    return true;
  throw new ValidationError(
    `Could not determine CI build ID from the environment. Please provide a unique CI build ID using the --ci-build-id CLI flag or 'ciBuildId' parameter for 'run' method.`
  );
}
function detectableCiBuildIdProviders() {
  return import_lodash4.default.chain(_providerCiParams()).omitBy(import_lodash4.default.isNull).keys().value();
}
function getCiProvider() {
  return _detectProviderName() || null;
}
function getCiParams() {
  return _get(_providerCiParams);
}
function getCommitParams() {
  return _get(_providerCommitParams);
}
function getCI(ciBuildId) {
  const params = getCiParams();
  const provider = getCiProvider();
  if (!ciBuildId)
    checkForCiBuildFromCi(provider);
  debug3("detected CI provider: %s", provider);
  debug3("detected CI params: %O", params);
  return {
    params,
    provider
  };
}
function getCommitDefaults(existingInfo) {
  debug3("git commit existing info");
  debug3(existingInfo);
  const commitParamsObj = getCommitParams();
  debug3("commit info from provider environment variables: %O", commitParamsObj);
  const combined = import_lodash4.default.transform(
    existingInfo,
    (memo, value, key) => {
      return memo[key] = import_lodash4.default.defaultTo(value || commitParamsObj[key], null);
    }
  );
  debug3("combined git and environment variables from provider");
  debug3(combined);
  return combined;
}

// lib/config/index.ts
init_cjs_shims();

// lib/config/config.ts
init_cjs_shims();
var import_debug6 = __toESM(require("debug"));
var import_path2 = __toESM(require("path"));

// lib/bootstrap/bootstrap.ts
init_cjs_shims();
var import_cy2 = require("cy2");
var import_debug5 = __toESM(require("debug"));
var import_execa = __toESM(require("execa"));
var import_fs = __toESM(require("fs"));
init_errors();

// lib/fs.ts
init_cjs_shims();
var import_tmp_promise = require("tmp-promise");
var createTempFile = async () => {
  const { path: path4 } = await (0, import_tmp_promise.file)();
  return path4;
};

// lib/bootstrap/bootstrap.ts
init_log();
init_require();

// lib/bootstrap/serializer.ts
init_cjs_shims();
var import_debug4 = __toESM(require("debug"));
var import_lodash5 = __toESM(require("lodash"));
var import_nanoid = require("nanoid");
var debug4 = (0, import_debug4.default)("currents:boot");
var getDummySpec = (0, import_nanoid.customAlphabet)("abcdefghijklmnopqrstuvwxyz", 10);
function getBootstrapArgs({
  params,
  port,
  tempFilePath
}) {
  return import_lodash5.default.chain(getCypressCLIParams(params)).thru((opts) => ({
    ...opts,
    // merge the env with the currents specific env variables
    env: {
      ...opts.env ?? {},
      currents_temp_file: tempFilePath,
      currents_port: port,
      currents_debug_enabled: process.env.DEBUG?.includes("currents:") ? true : false
    }
  })).tap((opts) => {
    debug4("cypress bootstrap params: %o", opts);
  }).thru(serializeOptions).tap((opts) => {
    debug4("cypress bootstrap serialized params: %o", opts);
  }).filter(Boolean).thru((args) => {
    return [
      ...args,
      "--spec",
      getDummySpec(),
      params.testingType === "component" ? "--component" : "--e2e"
    ];
  }).value();
}
function getCypressCLIParams(params) {
  const result = getStrippedCypressOptions(params);
  const testingType = result.testingType === "component" ? {
    component: true
  } : {};
  return {
    ...import_lodash5.default.omit(result, "testingType"),
    ...testingType
  };
}
function serializeOptions(options) {
  return Object.entries(options).flatMap(([key, value]) => {
    const _key = dashed(key);
    if (typeof value === "boolean") {
      return value === true ? [`--${_key}`] : [];
    }
    if (import_lodash5.default.isObject(value)) {
      return [`--${_key}`, serializeComplexParam(value)];
    }
    return [`--${_key}`, value.toString()];
  }).filter(Boolean);
}
function serializeComplexParam(param) {
  return JSON.stringify(param);
}
var dashed = (v) => v.replace(/[A-Z]/g, (m) => "-" + m.toLowerCase());

// lib/bootstrap/bootstrap.ts
var debug5 = (0, import_debug5.default)("currents:boot");
var bootCypress = async (port, params) => {
  debug5("booting cypress...");
  const tempFilePath = await createTempFile();
  const cypressBin = await (0, import_cy2.getBinPath)(require2.resolve("cypress"));
  debug5("cypress executable location: %s", cypressBin);
  const args = getBootstrapArgs({ port, tempFilePath, params });
  debug5("booting cypress with args: %o", args);
  const { stdout: stdout2, stderr } = await execCypress(cypressBin, args);
  if (!import_fs.default.existsSync(tempFilePath)) {
    throw new Error(
      `Cannot resolve cypress configuration from ${tempFilePath}. Please report the issue.`
    );
  }
  try {
    const f = import_fs.default.readFileSync(tempFilePath, "utf-8");
    if (!f) {
      throw new Error("Is cypress-cloud/plugin installed?");
    }
    debug5("cypress config '%s': '%s'", tempFilePath, f);
    return JSON.parse(f);
  } catch (err) {
    debug5("read config temp file failed: %o", err);
    info(bold("Cypress stdout:\n"), stdout2);
    info(bold("Cypress stderr:\n"), stderr);
    throw new ValidationError(`Unable to resolve cypress configuration
- make sure that 'cypress-cloud/plugin' is installed
- report the issue together with cypress stdout and stderr
`);
  }
};
async function execCypress(cypressBin, args) {
  let stdout2 = "";
  let stderr = "";
  try {
    await (0, import_execa.default)(cypressBin, ["run", ...args], {
      stdio: "pipe",
      env: {
        ...process.env,
        // prevent warnings about recording mode
        CYPRESS_RECORD_KEY: void 0,
        CYPRESS_PROJECT_ID: void 0
      }
    });
  } catch (err) {
    debug5("exec cypress failed (certain failures are expected): %o", err);
    stdout2 = err.stdout;
    stderr = err.stderr;
  }
  return { stdout: stdout2, stderr };
}

// lib/config/config.ts
init_log();
init_require();

// lib/utils.ts
init_cjs_shims();
var import_path = __toESM(require("path"));
function toArray(val) {
  return val ? typeof val === "string" ? [val] : val : [];
}
function toPosix(file2, sep = import_path.default.sep) {
  return file2.split(sep).join(import_path.default.posix.sep);
}
var getRandomPort = () => {
  const min = 1024;
  const max = 65535;
  return Math.floor(Math.random() * (max - min + 1)) + min;
};

// lib/config/config.ts
var debug6 = (0, import_debug6.default)("currents:config");
var _config = null;
function getCurrentsConfig() {
  if (_config) {
    return _config;
  }
  const configFilePath = getConfigFilePath();
  debug6("loading currents config file from '%s'", configFilePath);
  const defaultConfig = {
    e2e: {
      batchSize: 3
    },
    component: {
      batchSize: 5
    },
    cloudServiceUrl: "https://cy.currents.dev"
  };
  try {
    const fsConfig = require2(configFilePath);
    _config = {
      ...defaultConfig,
      ...fsConfig
    };
    return _config;
  } catch (e) {
    warn("failed to load config file: %s", configFilePath);
    debug6("failure details: %s", e);
    _config = defaultConfig;
    return _config;
  }
}
async function getMergedConfig(params) {
  debug6("resolving cypress config ");
  const cypressResolvedConfig = await bootCypress(getRandomPort(), params);
  debug6("cypress resolvedConfig: %O", cypressResolvedConfig);
  const rawE2EPattern = cypressResolvedConfig.rawJson?.e2e?.specPattern;
  let additionalIgnorePattern = [];
  if (params.testingType === "component" && rawE2EPattern) {
    additionalIgnorePattern = rawE2EPattern;
  }
  const result = {
    projectRoot: cypressResolvedConfig?.projectRoot || process.cwd(),
    projectId: params.projectId,
    specPattern: cypressResolvedConfig?.specPattern || "**/*.*",
    excludeSpecPattern: (
      // @ts-ignore
      cypressResolvedConfig?.resolved.excludeSpecPattern.value ?? []
    ),
    additionalIgnorePattern,
    resolved: cypressResolvedConfig
  };
  debug6("merged config: %O", result);
  return result;
}
function getConfigFilePath(explicitLocation = null) {
  return import_path2.default.resolve(explicitLocation ?? process.cwd(), "currents.config.js");
}

// lib/config/params.ts
init_cjs_shims();
var import_debug7 = __toESM(require("debug"));
var import_lodash6 = __toESM(require("lodash"));
init_errors();
init_log();
var debug7 = (0, import_debug7.default)("currents:validateParams");
function resolveCurrentsParams(params) {
  const configFromFile = getCurrentsConfig();
  const cloudServiceUrl = params.cloudServiceUrl ?? process.env.CURRENTS_API_URL ?? configFromFile.cloudServiceUrl;
  const recordKey = params.recordKey ?? process.env.CURRENTS_RECORD_KEY ?? configFromFile.recordKey;
  const projectId = params.projectId ?? process.env.CURRENTS_PROJECT_ID ?? configFromFile.projectId;
  const testingType = params.testingType ?? "e2e";
  const batchSize = testingType === "e2e" ? configFromFile.e2e.batchSize : configFromFile.component.batchSize;
  return {
    ...params,
    cloudServiceUrl,
    recordKey,
    projectId,
    batchSize,
    testingType
  };
}
var projectIdError = `Cannot resolve projectId. Please use one of the following:
- set CURRENTS_PROJECT_ID environment variable
- set "projectId" in "currents.config.js" file
- provide it as a "projectId" property for "run" API method`;
var cloudServiceUrlError = `Cannot resolve cloud service URL. Please use one of the following:
- set CURRENTS_API_URL environment variable
- set "cloudServiceUrl" in "currents.config.js" file
- provide it as a "cloudServiceUrl" property for "run" API method`;
var cloudServiceInvalidUrlError = `Invalid cloud service URL provided`;
var recordKeyError = `Cannot resolve record key. Please use one of the following:
- set CURRENTS_RECORD_KEY environment variable
- pass it as a cli flag '-k, --key <record-key>'
- set "recordKey" in "currents.config.js" file
- provide it as a "recordKey" property for "run" API method`;
function validateParams(_params) {
  const params = resolveCurrentsParams(_params);
  if (!params.cloudServiceUrl) {
    throw new ValidationError(cloudServiceUrlError);
  }
  if (!params.projectId) {
    throw new ValidationError(projectIdError);
  }
  if (!params.recordKey) {
    throw new ValidationError(recordKeyError);
  }
  try {
    new URL(params.cloudServiceUrl);
  } catch (err) {
    throw new ValidationError(
      `${cloudServiceInvalidUrlError}: "${params.cloudServiceUrl}"`
    );
  }
  const requiredParameters = [
    "testingType",
    "batchSize"
  ];
  requiredParameters.forEach((key) => {
    if (typeof params[key] === "undefined") {
      error(
        'Missing required parameter "%s". Please provide at least the following parameters: %s',
        key,
        requiredParameters.join(", ")
      );
      throw new Error("Missing required parameter");
    }
  });
  debug7("validated currents parametes: %o", params);
  return params;
}
function getStrippedCypressOptions(params) {
  return import_lodash6.default.pickBy(
    import_lodash6.default.omit(params, [
      "cloudServiceUrl",
      "batchSize",
      "projectId",
      "record",
      "key",
      "recordKey",
      "group",
      "parallel",
      "tag",
      "ciBuildId",
      "spec",
      "exit",
      "headed",
      "headless"
    ]),
    Boolean
  );
}

// lib/git.ts
init_cjs_shims();
var import_commit_info = __toESM(require("@cypress/commit-info"));
var getGitInfo = async (projectRoot) => {
  const commitInfo = await import_commit_info.default.commitInfo(projectRoot);
  return getCommitDefaults({
    branch: commitInfo.branch,
    remoteOrigin: commitInfo.remote,
    authorEmail: commitInfo.email,
    authorName: commitInfo.author,
    message: commitInfo.message,
    sha: commitInfo.sha
  });
};

// lib/run.ts
init_httpClient2();
init_log();

// lib/platform/index.ts
init_cjs_shims();

// lib/platform/browser.ts
init_cjs_shims();
var import_debug8 = __toESM(require("debug"));
init_log();
var debug8 = (0, import_debug8.default)("currents:browser");
function guessBrowser(browser, availableBrowsers = []) {
  debug8(
    "guessing browser from '%s', available browsers: %o",
    browser,
    availableBrowsers
  );
  let result = availableBrowsers.find((b) => b.name === browser);
  if (result) {
    debug8("identified browser by name: %o", result);
    return {
      browserName: result.displayName,
      browserVersion: result.version
    };
  }
  result = availableBrowsers.find((b) => b.path === browser);
  if (result) {
    debug8("identified browser by path: %o", result);
    return {
      browserName: result.displayName ?? result.name,
      browserVersion: result.version
    };
  }
  warn("Unable to identify browser name and version");
  return {
    browserName: "unknown",
    browserVersion: "unknown"
  };
}

// lib/platform/platform.ts
init_cjs_shims();
var import_debug9 = __toESM(require("debug"));
var import_getos = __toESM(require("getos"));
var import_os = require("os");
var import_util2 = require("util");
var debug9 = (0, import_debug9.default)("currents:platform");
var getOsVersion = async () => {
  if ((0, import_os.platform)() === "linux") {
    try {
      const linuxOs = await (0, import_util2.promisify)(import_getos.default)();
      if ("dist" in linuxOs && "release" in linuxOs) {
        return [linuxOs.dist, linuxOs.release].join(" - ");
      } else {
        return (0, import_os.release)();
      }
    } catch {
      return (0, import_os.release)();
    }
  }
  return (0, import_os.release)();
};
var getPlatformInfo = async () => {
  const osVersion = await getOsVersion();
  const result = {
    osName: (0, import_os.platform)(),
    osVersion,
    osCpus: (0, import_os.cpus)(),
    osMemory: {
      free: (0, import_os.freemem)(),
      total: (0, import_os.totalmem)()
    }
  };
  debug9("platform info: %o", result);
  return result;
};

// lib/platform/index.ts
async function getPlatform({
  browser,
  config
}) {
  return {
    ...await getPlatformInfo(),
    ...guessBrowser(browser ?? "electron", config.resolved?.browsers)
  };
}

// lib/results/index.ts
init_cjs_shims();

// lib/results/results.ts
init_cjs_shims();
var import_debug10 = __toESM(require("debug"));
var import_lodash7 = __toESM(require("lodash"));
var import_nanoid2 = require("nanoid");
var debug10 = (0, import_debug10.default)("currents:results");
var isSuccessResult = (result) => {
  return result.status === "finished";
};
var getScreenshotsSummary = (tests = []) => {
  return tests.flatMap(
    (test, i) => test.attempts.flatMap(
      (a, ai) => a.screenshots.flatMap((s) => ({
        ...s,
        testId: `r${i}`,
        testAttemptIndex: ai,
        screenshotId: (0, import_nanoid2.nanoid)()
      }))
    )
  );
};
var getStats = (stats) => {
  return {
    ...stats,
    wallClockDuration: stats.duration,
    wallClockStartedAt: stats.startedAt,
    wallClockEndedAt: stats.endedAt
  };
};
var getTestAttempt = (attempt) => {
  return {
    ...attempt,
    state: attempt.state,
    wallClockDuration: attempt.duration,
    wallClockStartedAt: attempt.startedAt
  };
};
var getInstanceResultPayload = (runResult) => {
  const altTests = [];
  if (runResult.error && !runResult.tests?.length) {
    altTests.push(getFakeTestFromException(runResult.error, runResult.stats));
  }
  return {
    stats: getStats(runResult.stats),
    reporterStats: runResult.reporterStats,
    exception: runResult.error ?? null,
    video: !!runResult.video,
    // Did the instance generate a video?
    screenshots: getScreenshotsSummary(runResult.tests ?? []),
    tests: runResult.tests?.map((test, i) => ({
      displayError: test.displayError,
      state: test.state,
      hooks: runResult.hooks,
      attempts: test.attempts?.map(getTestAttempt) ?? [],
      clientId: `r${i}`
    })) ?? altTests
  };
};
function getFakeTestFromException(error2, stats) {
  return {
    title: ["Unknown"],
    body: "",
    displayError: error2.split("\n")[0],
    state: "failed",
    hooks: [],
    attempts: [
      getTestAttempt({
        state: "failed",
        duration: 0,
        error: {
          name: "Error",
          message: error2.split("\n")[0],
          stack: error2
        },
        screenshots: [],
        startedAt: stats.startedAt,
        videoTimestamp: 0
      })
    ],
    clientId: "r0"
  };
}
var getInstanceTestsPayload = (runResult, config) => {
  const altTests = [];
  if (runResult.error && !runResult.tests?.length) {
    altTests.push(getFakeTestFromException(runResult.error, runResult.stats));
  }
  return {
    config,
    tests: runResult.tests?.map((test, i) => ({
      title: test.title,
      config: null,
      body: test.body,
      clientId: `r${i}`,
      hookIds: []
    })) ?? altTests,
    hooks: runResult.hooks
  };
};
var summarizeTestResults = (input, config) => {
  if (!input.length) {
    return getEmptyCypressResults(config);
  }
  const overall = input.reduce(
    (acc, {
      totalDuration,
      totalFailed,
      totalPassed,
      totalPending,
      totalSkipped,
      totalTests,
      totalSuites
    }) => ({
      totalDuration: acc.totalDuration + totalDuration,
      totalSuites: acc.totalSuites + totalSuites,
      totalPending: acc.totalPending + totalPending,
      totalFailed: acc.totalFailed + totalFailed,
      totalSkipped: acc.totalSkipped + totalSkipped,
      totalPassed: acc.totalPassed + totalPassed,
      totalTests: acc.totalTests + totalTests
    }),
    emptyStats
  );
  const firstResult = input[0];
  const startItems = input.map((i) => i.startedTestsAt).sort();
  const endItems = input.map((i) => i.endedTestsAt).sort();
  const runs = input.map((i) => i.runs).flat();
  return {
    ...overall,
    runs,
    startedTestsAt: import_lodash7.default.first(startItems),
    endedTestsAt: import_lodash7.default.last(endItems),
    ...import_lodash7.default.pick(
      firstResult,
      "browserName",
      "browserVersion",
      "browserPath",
      "osName",
      "osVersion",
      "cypressVersion",
      "config"
    ),
    status: "finished"
  };
};
function getEmptyCypressResults(config) {
  return {
    ...emptyStats,
    status: "finished",
    startedTestsAt: (/* @__PURE__ */ new Date()).toISOString(),
    endedTestsAt: (/* @__PURE__ */ new Date()).toISOString(),
    runs: [],
    // @ts-ignore
    config
  };
}
var emptyStats = {
  totalDuration: 0,
  totalSuites: 0,
  totalPending: 0,
  totalFailed: 0,
  totalSkipped: 0,
  totalPassed: 0,
  totalTests: 0
};
function getFailedDummyResult({
  specs,
  error: error2,
  config
}) {
  const start = (/* @__PURE__ */ new Date()).toISOString();
  const end = (/* @__PURE__ */ new Date()).toISOString();
  return {
    config,
    status: "finished",
    startedTestsAt: (/* @__PURE__ */ new Date()).toISOString(),
    endedTestsAt: (/* @__PURE__ */ new Date()).toISOString(),
    totalDuration: 0,
    totalSuites: 1,
    totalFailed: 1,
    totalPassed: 0,
    totalPending: 0,
    totalSkipped: 0,
    totalTests: 1,
    browserName: "unknown",
    browserVersion: "unknown",
    browserPath: "unknown",
    osName: "unknown",
    osVersion: "unknown",
    cypressVersion: "unknown",
    runs: specs.map((s) => ({
      stats: {
        suites: 1,
        tests: 1,
        passes: 0,
        pending: 0,
        skipped: 0,
        failures: 1,
        startedAt: start,
        endedAt: end,
        duration: 0
      },
      reporter: "spec",
      reporterStats: {},
      hooks: [],
      error: error2,
      video: null,
      spec: {
        name: s,
        relative: "",
        absolute: "",
        relativeToCommonRoot: ""
      },
      tests: [
        {
          title: ["Unknown"],
          state: "failed",
          body: "// This test is automatically generated due to execution failure",
          displayError: error2,
          attempts: [
            {
              state: "failed",
              startedAt: start,
              duration: 0,
              videoTimestamp: 0,
              screenshots: [],
              error: {
                name: "CloudExecutionError",
                message: error2,
                stack: ""
              }
            }
          ]
        }
      ],
      shouldUploadVideo: false,
      skippedSpec: false
    }))
  };
}
function normalizeRawResult(rawResult, specs, config) {
  if (!isSuccessResult(rawResult)) {
    return getFailedDummyResult({
      specs,
      error: rawResult.message,
      config
    });
  }
  return rawResult;
}
function getSummaryForSpec(spec, runResult) {
  const run2 = runResult.runs.find((r) => r.spec.relative === spec);
  if (!run2) {
    return;
  }
  const stats = getStats(run2.stats);
  return {
    ...runResult,
    runs: [run2],
    totalSuites: 1,
    totalDuration: stats.wallClockDuration,
    totalTests: stats.tests,
    totalFailed: stats.failures,
    totalPassed: stats.passes,
    totalPending: stats.pending,
    totalSkipped: stats.skipped,
    startedTestsAt: stats.wallClockStartedAt,
    endedTestsAt: stats.wallClockEndedAt
  };
}

// lib/results/table.ts
init_cjs_shims();
var import_lodash8 = __toESM(require("lodash"));
var import_pretty_ms2 = __toESM(require("pretty-ms"));
var import_table = require("table");
init_log();
var failureIcon = red("\u2716");
var successIcon = green("\u2714");
var summaryTable = (r) => {
  const overallSpecCount = r.runs.length;
  const failedSpecsCount = import_lodash8.default.sum(
    r.runs.filter((v) => v.stats.failures + v.stats.skipped > 0).map(() => 1)
  );
  const hasFailed = failedSpecsCount > 0;
  const verdict = hasFailed ? red(`${failedSpecsCount} of ${overallSpecCount} failed`) : overallSpecCount > 0 ? "All specs passed!" : "No specs executed";
  const data = r.runs.map((r2) => [
    r2.stats.failures + r2.stats.skipped > 0 ? failureIcon : successIcon,
    r2.spec.relativeToCommonRoot,
    gray((0, import_pretty_ms2.default)(r2.stats.duration)),
    white(r2.stats.tests ?? 0),
    r2.stats.passes ? green(r2.stats.passes) : gray("-"),
    r2.stats.failures ? red(r2.stats.failures) : gray("-"),
    r2.stats.pending ? cyan(r2.stats.pending) : gray("-"),
    r2.stats.skipped ? red(r2.stats.skipped) : gray("-")
  ]);
  return (0, import_table.table)(
    [
      [
        "",
        // marker
        gray("Spec"),
        "",
        gray("Tests"),
        gray("Passing"),
        gray("Failing"),
        gray("Pending"),
        gray("Skipped")
      ],
      ...data,
      [
        hasFailed ? failureIcon : successIcon,
        // marker
        verdict,
        gray((0, import_pretty_ms2.default)(r.totalDuration ?? 0)),
        overallSpecCount > 0 ? white(r.totalTests ?? 0) : gray("-"),
        r.totalPassed ? green(r.totalPassed) : gray("-"),
        r.totalFailed ? red(r.totalFailed) : gray("-"),
        r.totalPending ? cyan(r.totalPending) : gray("-"),
        r.totalSkipped ? red(r.totalSkipped) : gray("-")
      ]
    ],
    {
      border,
      columnDefault: {
        width: 8
      },
      columns: [
        { alignment: "left", width: 2 },
        { alignment: "left", width: 30 },
        { alignment: "right" },
        { alignment: "right" },
        { alignment: "right" },
        { alignment: "right" },
        { alignment: "right" },
        { alignment: "right" }
      ],
      // singleLine: true,
      drawHorizontalLine: (lineIndex, rowCount) => {
        return lineIndex === 1 || lineIndex === 0 || lineIndex === rowCount - 1 || lineIndex === rowCount;
      },
      drawVerticalLine: (lineIndex, rowCount) => {
        return lineIndex === 0 || rowCount === lineIndex;
      }
    }
  );
};
var border = import_lodash8.default.mapValues(
  {
    topBody: `\u2500`,
    topJoin: `\u252C`,
    topLeft: `  \u250C`,
    topRight: `\u2510`,
    bottomBody: `\u2500`,
    bottomJoin: `\u2534`,
    bottomLeft: `  \u2514`,
    bottomRight: `\u2518`,
    bodyLeft: `  \u2502`,
    bodyRight: `\u2502`,
    bodyJoin: `\u2502`,
    joinBody: `\u2500`,
    joinLeft: `  \u251C`,
    joinRight: `\u2524`,
    joinJoin: `\u253C`
  },
  (v) => gray(v)
);

// lib/results/uploadResults.ts
init_cjs_shims();
var import_debug13 = __toESM(require("debug"));

// lib/artifacts.ts
init_cjs_shims();
var import_debug12 = __toESM(require("debug"));

// lib/lang.ts
init_cjs_shims();
var safe = (fn, ifFaled, ifSucceed) => async (...args) => {
  try {
    const r = await fn(...args);
    ifSucceed();
    return r;
  } catch (e) {
    ifFaled(e);
  }
};

// lib/artifacts.ts
init_log();

// lib/upload.ts
init_cjs_shims();
var import_debug11 = __toESM(require("debug"));
var import_fs3 = __toESM(require("fs"));
init_httpClient2();
var readFile = import_fs3.default.promises.readFile;
var debug11 = (0, import_debug11.default)("currents:upload");
function uploadVideo(file2, url) {
  return uploadFile(file2, url, "video/mp4");
}
function uploadImage(file2, url) {
  return uploadFile(file2, url, "image/png");
}
async function uploadFile(file2, url, type) {
  debug11('uploading file "%s" to "%s"', file2, url);
  const f = await readFile(file2);
  await makeRequest({
    url,
    method: "PUT",
    data: f,
    headers: {
      "Content-Type": type
    }
  });
}

// lib/artifacts.ts
var debug12 = (0, import_debug12.default)("currents:artifacts");
async function uploadArtifacts({
  videoPath,
  videoUploadUrl,
  screenshots,
  screenshotUploadUrls
}) {
  debug12("uploading artifacts: %o", {
    videoPath,
    videoUploadUrl,
    screenshots,
    screenshotUploadUrls
  });
  const totalUploads = (videoPath ? 1 : 0) + screenshots.length;
  if (totalUploads === 0) {
    return;
  }
  if (videoUploadUrl && videoPath) {
    await safe(
      uploadVideo,
      (e) => debug12("failed uploading video %s. Error: %o", videoPath, e),
      () => debug12("success uploading", videoPath)
    )(videoPath, videoUploadUrl);
  }
  if (screenshotUploadUrls.length) {
    await Promise.all(
      screenshots.map((screenshot) => {
        const url = screenshotUploadUrls.find(
          (urls) => urls.screenshotId === screenshot.screenshotId
        )?.uploadUrl;
        if (!url) {
          debug12(
            "No upload url for screenshot %o, screenshotUploadUrls: %o",
            screenshot,
            screenshotUploadUrls
          );
          warn("Cannot find upload url for screenshot: %s", screenshot.path);
          return Promise.resolve();
        }
        return safe(
          uploadImage,
          (e) => debug12(
            "failed uploading screenshot %s. Error: %o",
            screenshot.path,
            e
          ),
          () => debug12("success uploading", screenshot.path)
        )(screenshot.path, url);
      })
    );
  }
}
var uploadStdoutSafe = safe(
  updateInstanceStdout,
  () => {
  },
  () => {
  }
);

// lib/results/uploadResults.ts
init_capture();

// lib/env.ts
init_cjs_shims();
init_config();
var isCurrents = () => !!process.env.CURRENTS_ENFORCE_IS_CURRENTS || getAPIBaseUrl() === "https://cy.currents.dev";

// lib/results/uploadResults.ts
init_log();
var debug13 = (0, import_debug13.default)("currents:results");
async function getUploadResultsTask({
  instanceId,
  spec,
  runResult,
  output
}) {
  const run2 = runResult.runs.find((r) => r.spec.relative === spec);
  if (!run2) {
    warn('Cannot determine run result for spec "%s"', spec);
    return;
  }
  return processCypressResults(
    instanceId,
    {
      // replace the runs with the run for the specified spec
      ...runResult,
      runs: [run2]
    },
    output
  );
}
async function processCypressResults(instanceId, results, stdout2) {
  const run2 = results.runs[0];
  if (!run2) {
    throw new Error("No run found in Cypress results");
  }
  const instanceResults = getInstanceResultPayload(run2);
  const instanceTests = getInstanceTestsPayload(run2, results.config);
  const { videoUploadUrl, screenshotUploadUrls } = await reportResults(
    instanceId,
    instanceTests,
    instanceResults
  );
  debug13("instance %s artifact upload instructions %o", instanceId, {
    videoUploadUrl,
    screenshotUploadUrls
  });
  return Promise.all([
    uploadArtifacts({
      videoUploadUrl,
      videoPath: run2.video,
      screenshotUploadUrls,
      screenshots: instanceResults.screenshots
    }),
    uploadStdoutSafe(instanceId, getInitialOutput() + stdout2)
  ]);
}
async function reportResults(instanceId, instanceTests, instanceResults) {
  debug13("reporting instance %s results...", instanceId);
  if (isCurrents()) {
    return reportInstanceResultsMerged(instanceId, {
      tests: instanceTests,
      results: instanceResults
    });
  }
  await setInstanceTests(instanceId, instanceTests);
  return updateInstanceResults(instanceId, instanceResults);
}

// lib/runner.ts
init_cjs_shims();
init_capture();
var import_debug15 = __toESM(require("debug"));

// lib/cypress.ts
init_cjs_shims();
var import_cypress = __toESM(require("cypress"));
var import_debug14 = __toESM(require("debug"));
var debug14 = (0, import_debug14.default)("currents:cypress");
async function runSpecFile({ spec }, cypressRunOptions) {
  const runAPIOptions = getStrippedCypressOptions(cypressRunOptions);
  const options = {
    ...runAPIOptions,
    config: {
      ...runAPIOptions.config,
      trashAssetsBeforeRuns: false
    },
    env: {
      ...runAPIOptions.env,
      currents_ws: true
    },
    spec
  };
  debug14("running cypress with options %o", options);
  const result = await import_cypress.default.run(options);
  debug14("cypress run result %o", result);
  return result;
}
var runSpecFileSafe = async ({ spec }, cypressRunOptions) => {
  try {
    return await runSpecFile({ spec }, cypressRunOptions);
  } catch (error2) {
    debug14("cypress run exception %o", error2);
    return {
      status: "failed",
      failures: 1,
      message: `Cypress process crashed with an error:
${error2.message}
${error2.stack}}`
    };
  }
};

// lib/runner.ts
init_log();
Promise.resolve().then(() => init_init());
var debug15 = (0, import_debug15.default)("currents:runner");
async function runTillDone({
  runId,
  groupId,
  machineId,
  platform: platform2,
  config
}, params) {
  const summary = {};
  const uploadTasks = [];
  let hasMore = true;
  while (hasMore) {
    const newTasks = await runBatch({
      runMeta: {
        runId,
        groupId,
        machineId,
        platform: platform2
      },
      params,
      config
    });
    if (!newTasks.length) {
      debug15("No more tasks to run. Uploads queue: %d", uploadTasks.length);
      hasMore = false;
      break;
    }
    newTasks.forEach((task) => {
      if (task.summary.specSummary) {
        summary[task.summary.spec] = task.summary.specSummary;
      }
      uploadTasks.push(task.uploadTasks);
    });
  }
  await Promise.allSettled(uploadTasks);
  return summary;
}
async function runBatch({
  runMeta,
  config,
  params
}) {
  let batch = {
    specs: [],
    claimedInstances: 0,
    totalInstances: 0
  };
  if (isCurrents()) {
    debug15("Getting batched tasks: %d", params.batchSize);
    batch = await createBatchedInstances({
      ...runMeta,
      batchSize: params.batchSize
    });
  } else {
    const response = await createInstance(runMeta);
    if (response.spec !== null && response.instanceId !== null) {
      batch.specs.push({
        spec: response.spec,
        instanceId: response.instanceId
      });
    }
    batch.claimedInstances = response.claimedInstances;
    batch.totalInstances = response.totalInstances;
  }
  if (batch.specs.length === 0) {
    return [];
  }
  divider();
  info(
    "Running: %s (%d/%d)",
    batch.specs.map((s) => s.spec).join(", "),
    batch.claimedInstances,
    batch.totalInstances
  );
  const rawResult = await runSpecFileSafe(
    { spec: batch.specs.map((s) => s.spec).join(",") },
    params
  );
  const normalizedResult = normalizeRawResult(
    rawResult,
    batch.specs.map((s) => s.spec),
    config
  );
  title("blue", "Reporting results and artifacts in background...");
  const output = getCapturedOutput();
  resetCapture();
  const batchResult = batch.specs.map((spec) => {
    const specSummary = getSummaryForSpec(spec.spec, normalizedResult);
    if (!specSummary) {
      warn('Cannot find run result for spec "%s"', spec.spec);
    }
    return {
      summary: {
        spec: spec.spec,
        specSummary
      },
      uploadTasks: getUploadResultsTask({
        ...spec,
        runResult: normalizedResult,
        output
      }).catch(error)
    };
  });
  return batchResult;
}

// lib/specMatcher/index.ts
init_cjs_shims();

// lib/specMatcher/getSpecFiles.ts
init_cjs_shims();
init_log();

// lib/specMatcher/specMatcher.ts
init_cjs_shims();
var import_debug16 = __toESM(require("debug"));
var import_path3 = __toESM(require("path"));
var import_common_path_prefix = __toESM(require("common-path-prefix"));
var import_globby = __toESM(require("globby"));
var import_lodash9 = __toESM(require("lodash"));
var import_os2 = __toESM(require("os"));
var debug16 = (0, import_debug16.default)("currents:specs");
async function findSpecs({
  projectRoot,
  testingType,
  specPattern,
  configSpecPattern,
  excludeSpecPattern,
  additionalIgnorePattern
}) {
  configSpecPattern = toArray(configSpecPattern);
  specPattern = toArray(specPattern);
  excludeSpecPattern = toArray(excludeSpecPattern) || [];
  additionalIgnorePattern = toArray(additionalIgnorePattern) || [];
  debug16("exploring spec files for execution %O", {
    testingType,
    projectRoot,
    specPattern,
    configSpecPattern,
    excludeSpecPattern,
    additionalIgnorePattern
  });
  if (!specPattern || !configSpecPattern) {
    throw Error("Could not find glob patterns for exploring specs");
  }
  let specAbsolutePaths = await getFilesByGlob(projectRoot, specPattern, {
    absolute: true,
    ignore: [...excludeSpecPattern, ...additionalIgnorePattern]
  });
  if (!import_lodash9.default.isEqual(specPattern, configSpecPattern)) {
    const defaultSpecAbsolutePaths = await getFilesByGlob(
      projectRoot,
      configSpecPattern,
      {
        absolute: true,
        ignore: [...excludeSpecPattern, ...additionalIgnorePattern]
      }
    );
    specAbsolutePaths = import_lodash9.default.intersection(
      specAbsolutePaths,
      defaultSpecAbsolutePaths
    );
  }
  return matchedSpecs({
    projectRoot,
    testingType,
    specAbsolutePaths,
    specPattern
  });
}
async function getFilesByGlob(cwd, glob, globOptions) {
  const globs = [].concat(glob).map((globPattern) => {
    const workingDirectoryPrefix = import_path3.default.join(cwd, import_path3.default.sep);
    if (globPattern.startsWith(workingDirectoryPrefix)) {
      return globPattern.replace(workingDirectoryPrefix, "");
    }
    return globPattern;
  });
  const ignoreGlob = (globOptions?.ignore ?? []).concat("**/node_modules/**");
  if (import_os2.default.platform() === "win32") {
    debug16("updating glob patterns to POSIX");
    for (const i in globs) {
      const cur = globs[i];
      if (!cur)
        throw new Error("undefined glob received");
      globs[i] = toPosix(cur);
    }
  }
  try {
    debug16("globbing pattern(s): %o", globs);
    debug16("within directory: %s", cwd);
    const files = await matchGlobs(globs, {
      onlyFiles: true,
      absolute: true,
      cwd,
      ...globOptions,
      ignore: ignoreGlob
    });
    return files;
  } catch (e) {
    debug16("error in getFilesByGlob %o", e);
    return [];
  }
}
var matchGlobs = async (globs, globbyOptions) => {
  return await (0, import_globby.default)(globs, globbyOptions);
};
function matchedSpecs({
  projectRoot,
  testingType,
  specAbsolutePaths
}) {
  debug16("found specs %o", specAbsolutePaths);
  let commonRoot = "";
  if (specAbsolutePaths.length === 1) {
    commonRoot = import_path3.default.dirname(specAbsolutePaths[0]);
  } else {
    commonRoot = (0, import_common_path_prefix.default)(specAbsolutePaths);
  }
  const specs = specAbsolutePaths.map((absolute) => {
    return transformSpec({
      projectRoot,
      absolute,
      testingType,
      commonRoot,
      platform: import_os2.default.platform(),
      sep: import_path3.default.sep
    });
  });
  return specs;
}
function transformSpec({
  projectRoot,
  absolute,
  testingType,
  commonRoot,
  platform: platform2,
  sep
}) {
  if (platform2 === "win32") {
    absolute = toPosix(absolute, sep);
    projectRoot = toPosix(projectRoot, sep);
  }
  const relative = import_path3.default.relative(projectRoot, absolute);
  const parsedFile = import_path3.default.parse(absolute);
  const fileExtension = import_path3.default.extname(absolute);
  const specFileExtension = [".spec", ".test", "-spec", "-test", ".cy"].map((ext) => ext + fileExtension).find((ext) => absolute.endsWith(ext)) || fileExtension;
  const parts = absolute.split(projectRoot);
  let name = parts[parts.length - 1] || "";
  if (name.startsWith("/")) {
    name = name.slice(1);
  }
  const LEADING_SLASH = /^\/|/g;
  const relativeToCommonRoot = absolute.replace(commonRoot, "").replace(LEADING_SLASH, "");
  return {
    fileExtension,
    baseName: parsedFile.base,
    fileName: parsedFile.base.replace(specFileExtension, ""),
    specFileExtension,
    relativeToCommonRoot,
    specType: testingType === "component" ? "component" : "integration",
    name,
    relative,
    absolute
  };
}

// lib/specMatcher/getSpecFiles.ts
var getSpecPattern = (configPattern, explicit) => explicit || configPattern;
var getSpecFiles = async ({
  config,
  params
}) => {
  const specPattern = getSpecPattern(config.specPattern, params.spec);
  const specs = await findSpecs({
    projectRoot: config.projectRoot,
    testingType: params.testingType,
    specPattern,
    configSpecPattern: config.specPattern,
    excludeSpecPattern: config.excludeSpecPattern,
    additionalIgnorePattern: config.additionalIgnorePattern
  });
  if (specs.length === 0) {
    warn("No spec files found to execute. Configuration: %O", {
      specPattern,
      configSpecPattern: config.specPattern,
      excludeSpecPattern: [
        config.excludeSpecPattern,
        config.additionalIgnorePattern
      ].flat(2),
      testingType: params.testingType
    });
    return { specs: [], specPattern };
  }
  return { specs, specPattern };
};

// lib/run.ts
var debug17 = (0, import_debug17.default)("currents:run");
async function run(params) {
  debug17("run params %o", params);
  const validatedParams = validateParams(params);
  setAPIBaseUrl(validatedParams.cloudServiceUrl);
  const {
    recordKey,
    projectId,
    group,
    parallel,
    ciBuildId,
    tag,
    testingType,
    batchSize
  } = validatedParams;
  const config = await getMergedConfig(validatedParams);
  const { specs, specPattern } = await getSpecFiles({
    config,
    params: validatedParams
  });
  if (specs.length === 0) {
    return;
  }
  const platform2 = await getPlatform({
    config,
    browser: validatedParams.browser
  });
  divider();
  info("Discovered %d spec files", specs.length);
  info(
    `Tags: ${tag?.join(",") ?? false}; Group: ${group ?? false}; Parallel: ${parallel ?? false}; Batch Size: ${batchSize}`
  );
  info("Connecting to cloud orchestration service...");
  const run2 = await createRun({
    ci: getCI(ciBuildId),
    specs: specs.map((spec) => spec.relative),
    commit: await getGitInfo(config.projectRoot),
    group,
    platform: platform2,
    parallel: parallel ?? false,
    ciBuildId,
    projectId,
    recordKey,
    specPattern: [specPattern].flat(2),
    tags: tag,
    testingType,
    batchSize
  });
  info("\u{1F3A5} Run URL:", bold(run2.runUrl));
  setRunId(run2.runId);
  cutInitialOutput();
  const results = await runTillDone(
    {
      runId: run2.runId,
      groupId: run2.groupId,
      machineId: run2.machineId,
      platform: platform2,
      config
    },
    validatedParams
  );
  divider();
  const summary = summarizeTestResults(Object.values(results), config);
  title("white", "Cloud Run Finished");
  console.log(summaryTable(summary));
  info("\u{1F3C1} Recorded Run:", bold(run2.runUrl));
  spacer();
  return summary;
}

// bin/lib/index.ts
init_cjs_shims();

// bin/lib/cli.ts
init_cjs_shims();
var import_debug18 = __toESM(require("debug"));

// bin/lib/parser.ts
init_cjs_shims();
var import_lodash10 = __toESM(require("lodash"));
var import_node_assert = __toESM(require("assert"));
init_log();
var nestedObjectsInCurlyBracesRe = /\{(.+?)\}/g;
var nestedArraysInSquareBracketsRe = /\[(.+?)\]/g;
var everythingAfterFirstEqualRe = /=(.*)/;
var sanitizeAndConvertNestedArgs = (str, argName) => {
  if (!str) {
    return;
  }
  (0, import_node_assert.default)(import_lodash10.default.isString(argName) && argName.trim() !== "");
  try {
    if (typeof str === "object") {
      return str;
    }
    const parsed = tryJSONParse(str);
    if (parsed) {
      return parsed;
    }
    return import_lodash10.default.chain(str).replace(nestedObjectsInCurlyBracesRe, commasToPipes).replace(nestedArraysInSquareBracketsRe, commasToPipes).split(",").map((pair) => {
      return pair.split(everythingAfterFirstEqualRe);
    }).fromPairs().mapValues(JSONOrCoerce).value();
  } catch (err) {
    error("could not parse CLI option '%s' value: %s", argName, str);
    error("error %o", err);
    return void 0;
  }
};
var tryJSONParse = (str) => {
  try {
    return JSON.parse(str) === Infinity ? null : JSON.parse(str);
  } catch (err) {
    return null;
  }
};
var commasToPipes = (match) => {
  return match.split(",").join("|");
};
var pipesToCommas = (str) => {
  return str.split("|").join(",");
};
var JSONOrCoerce = (str) => {
  const parsed = tryJSONParse(str);
  if (parsed) {
    return parsed;
  }
  str = pipesToCommas(str);
  const parsed2 = tryJSONParse(str);
  if (parsed2) {
    return parsed2;
  }
  return coerce(str);
};
var coerce = (value) => {
  const num = import_lodash10.default.toNumber(value);
  if (import_lodash10.default.invoke(num, "toString") === value) {
    return num;
  }
  const bool = toBoolean(value);
  if (import_lodash10.default.invoke(bool, "toString") === value) {
    return bool;
  }
  const obj = tryJSONParse(value);
  if (obj && typeof obj === "object") {
    return obj;
  }
  const arr = import_lodash10.default.toArray(value);
  if (import_lodash10.default.invoke(arr, "toString") === value) {
    return arr;
  }
  return value;
};
var toBoolean = (value) => {
  switch (value) {
    case "true":
      return true;
    case "false":
      return false;
    default:
      return value;
  }
};

// bin/lib/program.ts
init_cjs_shims();
var import_extra_typings = __toESM(require_extra_typings());
var createProgram = (command = new import_extra_typings.Command()) => command.name("cypress-cloud").description(
  "Runs Cypress tests on CI using Currents as an orchestration and reporting service"
).option(
  "-b, --browser <browser-name-or-path>",
  "runs Cypress in the browser with the given name; if a filesystem path is supplied, Cypress will attempt to use the browser at that path"
).option(
  "--ci-build-id <id>",
  "the unique identifier for a run, this value is automatically detected for most CI providers"
).addOption(
  new import_extra_typings.Option("--component", "runs Cypress component test").default(false).implies({
    e2e: false
  })
).option(
  "-c, --config <config>",
  "sets Cypress configuration values. separate multiple values with a comma. overrides any value in cypress.config.{js,ts,mjs,cjs}"
).option(
  "-e, --env <env>",
  "sets environment variables. separate multiple values with a comma. overrides any value in cypress.config.{js,ts,mjs,cjs} or cypress.env.json"
).option(
  "-C, --config-file <config-file>",
  'specify Cypress config file, path to script file where Cypress configuration values are set. defaults to "cypress.config.{js,ts,mjs,cjs}"'
).addOption(new import_extra_typings.Option("--e2e", "runs end to end tests").default(true)).option("--group <name>", "a named group for recorded runs in Currents").addOption(
  new import_extra_typings.Option(
    "-k, --key <record-key>",
    "your secret Record Key obtained from Currents. you can omit this if you set a CURRENTS_RECORD_KEY environment variable"
  ).env("CURRENTS_RECORD_KEY")
).option(
  "--parallel",
  "enables concurrent runs and automatic load balancing of specs across multiple machines or processes",
  false
).addOption(
  new import_extra_typings.Option(
    "-p, --port <number>",
    "runs Cypress on a specific port. overrides any value in cypress.config.{js,ts,mjs,cjs}"
  ).argParser((i) => parseInt(i, 10))
).option(
  "-P, --project <project-path>",
  "path to your Cypress project root location"
).option("-q, --quiet", "suppress verbose output from Cypress").addOption(
  new import_extra_typings.Option(
    "--record [bool]",
    "records the run and sends test results, screenshots and videos to Currents"
  ).default(true).argParser((i) => i === "false" ? false : true)
).option(
  "-r, --reporter <reporter>",
  'use a specific mocha reporter for Cypress, pass a path to use a custom reporter, defaults to "spec"'
).option(
  "-o, --reporter-options <reporter-options>",
  'options for the mocha reporter. defaults to "null"'
).addOption(
  new import_extra_typings.Option(
    "-s, --spec <spec-pattern>",
    'define specific glob pattern for running the spec file(s), Defaults to the "specMatch" entry from the "cypress.config.{js,ts,mjs,cjs}" file'
  ).argParser(parseCommaSeparatedList)
).option(
  "-t, --tag <tag>",
  "comma-separated tag(s) for recorded runs in Currents",
  parseCommaSeparatedList
);
var program = createProgram();
function parseCommaSeparatedList(value, previous = []) {
  if (value) {
    return previous.concat(value.split(",").map((t) => t.trim()));
  }
  return previous;
}

// bin/lib/cli.ts
var debug18 = (0, import_debug18.default)("currents:cli");
function parseCLIOptions(_program = program, ...args) {
  _program.parse(...args);
  debug18("parsed CLI flags %o", _program.opts());
  const { e2e, component } = _program.opts();
  if (e2e && component) {
    _program.error("Cannot use both e2e and component options");
  }
  return getRunParametersFromCLI(_program.opts());
}
function getRunParametersFromCLI(cliOptions) {
  const { component, e2e, ...restOptions } = cliOptions;
  const testingType = component ? "component" : "e2e";
  const result = {
    ...restOptions,
    config: sanitizeAndConvertNestedArgs(cliOptions.config, "config"),
    env: sanitizeAndConvertNestedArgs(cliOptions.env, "env"),
    reporterOptions: sanitizeAndConvertNestedArgs(
      cliOptions.reporterOptions,
      "reporterOptions"
    ),
    testingType,
    recordKey: cliOptions.key
  };
  debug18("parsed run params: %o", result);
  return result;
}

// bin/cli.ts
async function main() {
  return run(parseCLIOptions());
}
main().then((result) => {
  if (!result) {
    process.exit(0);
  }
  const overallFailed = result.totalFailed + result.totalSkipped;
  if (overallFailed > 0) {
    process.exit(overallFailed);
  }
  process.exit(0);
}).catch((err) => {
  if (err instanceof ValidationError) {
    program.error(withError(err.toString()));
  } else {
    console.error(err);
  }
  process.exit(1);
});
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3RzdXAvYXNzZXRzL2Nqc19zaGltcy5qcyIsICIuLi8uLi9saWIvZXJyb3JzLnRzIiwgIi4uLy4uL2xpYi9sb2cudHMiLCAiLi4vLi4vbGliL2h0dHBDbGllbnQvY29uZmlnLnRzIiwgIi4uLy4uL2xpYi9odHRwQ2xpZW50L3ByaW50RXJyb3JzLnRzIiwgIi4uLy4uL2xpYi9odHRwQ2xpZW50L2h0dHBDbGllbnQudHMiLCAiLi4vLi4vbGliL2h0dHBDbGllbnQvaW5kZXgudHMiLCAiLi4vLi4vbGliL2NhcHR1cmUudHMiLCAiLi4vLi4vbGliL3JlcXVpcmUudHMiLCAiLi4vLi4vbGliL3N0ZG91dC50cyIsICIuLi8uLi9saWIvd3MudHMiLCAiLi4vLi4vbGliL2luaXQudHMiLCAiLi4vLi4vYmluL2xpYi9AY29tbWFuZGVyLWpzL2V4dHJhLXR5cGluZ3MvaW5kZXguanMiLCAiLi4vLi4vYmluL2NsaS50cyIsICIuLi8uLi9saWIvcnVuLnRzIiwgIi4uLy4uL2xpYi9hcGkvaW5kZXgudHMiLCAiLi4vLi4vbGliL2FwaS9hcGkudHMiLCAiLi4vLi4vbGliL2FwaS93YXJuaW5ncy50cyIsICIuLi8uLi9saWIvYXBpL3R5cGVzL2luZGV4LnRzIiwgIi4uLy4uL2xpYi9hcGkvdHlwZXMvaW5zdGFuY2UudHMiLCAiLi4vLi4vbGliL2FwaS90eXBlcy9ydW4udHMiLCAiLi4vLi4vbGliL2FwaS90eXBlcy90ZXN0LnRzIiwgIi4uLy4uL2xpYi9jaVByb3ZpZGVyLnRzIiwgIi4uLy4uL2xpYi9jb25maWcvaW5kZXgudHMiLCAiLi4vLi4vbGliL2NvbmZpZy9jb25maWcudHMiLCAiLi4vLi4vbGliL2Jvb3RzdHJhcC9ib290c3RyYXAudHMiLCAiLi4vLi4vbGliL2ZzLnRzIiwgIi4uLy4uL2xpYi9ib290c3RyYXAvc2VyaWFsaXplci50cyIsICIuLi8uLi9saWIvdXRpbHMudHMiLCAiLi4vLi4vbGliL2NvbmZpZy9wYXJhbXMudHMiLCAiLi4vLi4vbGliL2dpdC50cyIsICIuLi8uLi9saWIvcGxhdGZvcm0vaW5kZXgudHMiLCAiLi4vLi4vbGliL3BsYXRmb3JtL2Jyb3dzZXIudHMiLCAiLi4vLi4vbGliL3BsYXRmb3JtL3BsYXRmb3JtLnRzIiwgIi4uLy4uL2xpYi9yZXN1bHRzL2luZGV4LnRzIiwgIi4uLy4uL2xpYi9yZXN1bHRzL3Jlc3VsdHMudHMiLCAiLi4vLi4vbGliL3Jlc3VsdHMvdGFibGUudHMiLCAiLi4vLi4vbGliL3Jlc3VsdHMvdXBsb2FkUmVzdWx0cy50cyIsICIuLi8uLi9saWIvYXJ0aWZhY3RzLnRzIiwgIi4uLy4uL2xpYi9sYW5nLnRzIiwgIi4uLy4uL2xpYi91cGxvYWQudHMiLCAiLi4vLi4vbGliL2Vudi50cyIsICIuLi8uLi9saWIvcnVubmVyLnRzIiwgIi4uLy4uL2xpYi9jeXByZXNzLnRzIiwgIi4uLy4uL2xpYi9zcGVjTWF0Y2hlci9pbmRleC50cyIsICIuLi8uLi9saWIvc3BlY01hdGNoZXIvZ2V0U3BlY0ZpbGVzLnRzIiwgIi4uLy4uL2xpYi9zcGVjTWF0Y2hlci9zcGVjTWF0Y2hlci50cyIsICIuLi8uLi9iaW4vbGliL2luZGV4LnRzIiwgIi4uLy4uL2Jpbi9saWIvY2xpLnRzIiwgIi4uLy4uL2Jpbi9saWIvcGFyc2VyLnRzIiwgIi4uLy4uL2Jpbi9saWIvcHJvZ3JhbS50cyJdLAogICJzb3VyY2VzQ29udGVudCI6IFsiLy8gU2hpbSBnbG9iYWxzIGluIGNqcyBidW5kbGVcbi8vIFRoZXJlJ3MgYSB3ZWlyZCBidWcgdGhhdCBlc2J1aWxkIHdpbGwgYWx3YXlzIGluamVjdCBpbXBvcnRNZXRhVXJsXG4vLyBpZiB3ZSBleHBvcnQgaXQgYXMgYGNvbnN0IGltcG9ydE1ldGFVcmwgPSAuLi4gX19maWxlbmFtZSAuLi5gXG4vLyBCdXQgdXNpbmcgYSBmdW5jdGlvbiB3aWxsIG5vdCBjYXVzZSB0aGlzIGlzc3VlXG5cbmNvbnN0IGdldEltcG9ydE1ldGFVcmwgPSAoKSA9PlxuICB0eXBlb2YgZG9jdW1lbnQgPT09ICd1bmRlZmluZWQnXG4gICAgPyBuZXcgVVJMKCdmaWxlOicgKyBfX2ZpbGVuYW1lKS5ocmVmXG4gICAgOiAoZG9jdW1lbnQuY3VycmVudFNjcmlwdCAmJiBkb2N1bWVudC5jdXJyZW50U2NyaXB0LnNyYykgfHxcbiAgICAgIG5ldyBVUkwoJ21haW4uanMnLCBkb2N1bWVudC5iYXNlVVJJKS5ocmVmXG5cbmV4cG9ydCBjb25zdCBpbXBvcnRNZXRhVXJsID0gLyogQF9fUFVSRV9fICovIGdldEltcG9ydE1ldGFVcmwoKVxuIiwgImV4cG9ydCBjbGFzcyBWYWxpZGF0aW9uRXJyb3IgZXh0ZW5kcyBFcnJvciB7XG4gIGNvbnN0cnVjdG9yKG1lc3NhZ2U6IHN0cmluZykge1xuICAgIHN1cGVyKG1lc3NhZ2UpO1xuICAgIHRoaXMubmFtZSA9IFwiXCI7XG4gIH1cbn1cbiIsICJpbXBvcnQgY2hhbGsgZnJvbSBcImNoYWxrXCI7XG5pbXBvcnQgdXRpbCBmcm9tIFwidXRpbFwiO1xuXG5jb25zdCBsb2cgPSAoLi4uYXJnczogdW5rbm93bltdKSA9PiBjb25zb2xlLmxvZyh1dGlsLmZvcm1hdCguLi5hcmdzKSk7XG5cbmV4cG9ydCBjb25zdCBpbmZvID0gbG9nO1xuXG5leHBvcnQgY29uc3Qgd2l0aEVycm9yID0gKG1zZzogc3RyaW5nKSA9PlxuICBjaGFsay5iZ1JlZC53aGl0ZShcIiBFUlJPUiBcIikgKyBcIiBcIiArIG1zZztcbmV4cG9ydCBjb25zdCB3aXRoV2FybmluZyA9IChtc2c6IHN0cmluZykgPT5cbiAgY2hhbGsuYmdZZWxsb3cuYmxhY2soXCIgV0FSTklORyBcIikgKyBcIiBcIiArIG1zZztcblxuZXhwb3J0IGNvbnN0IHdhcm4gPSAoLi4uYXJnczogdW5rbm93bltdKSA9PlxuICBsb2cod2l0aFdhcm5pbmcodXRpbC5mb3JtYXQoLi4uYXJncykpKTtcblxuZXhwb3J0IGNvbnN0IHN1Y2Nlc3MgPSAoLi4uYXJnczogdW5rbm93bltdKSA9PlxuICBsb2coY2hhbGsuZ3JlZW4odXRpbC5mb3JtYXQoLi4uYXJncykpKTtcblxuZXhwb3J0IGNvbnN0IGVycm9yID0gKC4uLmFyZ3M6IHVua25vd25bXSkgPT5cbiAgbG9nKHdpdGhFcnJvcih1dGlsLmZvcm1hdCguLi5hcmdzKSkgKyBcIlxcblwiKTtcblxudHlwZSBDb2xvciA9IFwicmVkXCIgfCBcImdyZWVuXCIgfCBcInllbGxvd1wiIHwgXCJibHVlXCIgfCBcIm1hZ2VudGFcIiB8IFwiY3lhblwiIHwgXCJ3aGl0ZVwiO1xuZXhwb3J0IGNvbnN0IHRpdGxlID0gKGNvbG9yOiBDb2xvciwgLi4uYXJnczogdW5rbm93bltdKSA9PlxuICBpbmZvKFwiXFxuXCIgKyBcIiAgXCIgKyBjaGFsa1tjb2xvcl0uYm9sZCh1dGlsLmZvcm1hdCguLi5hcmdzKSkgKyBcIiAgXCIgKyBcIlxcblwiKTtcblxuZXhwb3J0IGNvbnN0IGRpdmlkZXIgPSAoKSA9PlxuICBjb25zb2xlLmxvZyhcIlxcblwiICsgY2hhbGsuZ3JheShBcnJheSgxMDApLmZpbGwoXCI9XCIpLmpvaW4oXCJcIikpICsgXCJcXG5cIik7XG5cbmV4cG9ydCBjb25zdCBzcGFjZXIgPSAobjogbnVtYmVyID0gMCkgPT5cbiAgY29uc29sZS5sb2coQXJyYXkobikuZmlsbChcIlwiKS5qb2luKFwiXFxuXCIpKTtcblxuZXhwb3J0IGNvbnN0IGN5YW4gPSBjaGFsay5jeWFuO1xuZXhwb3J0IGNvbnN0IGJsdWUgPSBjaGFsay5ibHVlQnJpZ2h0O1xuZXhwb3J0IGNvbnN0IHJlZCA9IGNoYWxrLnJlZDtcbmV4cG9ydCBjb25zdCBncmVlbiA9IGNoYWxrLmdyZWVuQnJpZ2h0O1xuZXhwb3J0IGNvbnN0IGdyYXkgPSBjaGFsay5ncmF5O1xuZXhwb3J0IGNvbnN0IHdoaXRlID0gY2hhbGsud2hpdGU7XG5leHBvcnQgY29uc3QgbWFnZW50YSA9IGNoYWxrLm1hZ2VudGE7XG5leHBvcnQgY29uc3QgYm9sZCA9IGNoYWxrLmJvbGQ7XG4iLCAiaW1wb3J0IHsgQXhpb3NFcnJvciwgaXNBeGlvc0Vycm9yIH0gZnJvbSBcImF4aW9zXCI7XG5cbmV4cG9ydCBjb25zdCBpc1JldHJpYWJsZUVycm9yID0gKGVycjogQXhpb3NFcnJvcik6IGJvb2xlYW4gPT4ge1xuICBpZiAoIWlzQXhpb3NFcnJvcihlcnIpKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIGlmIChlcnIuY29kZSA9PT0gXCJFQ09OTlJFRlVTRURcIikge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG4gIHJldHVybiAhIShcbiAgICBlcnI/LnJlc3BvbnNlPy5zdGF0dXMgJiZcbiAgICA1MDAgPD0gZXJyLnJlc3BvbnNlLnN0YXR1cyAmJlxuICAgIGVyci5yZXNwb25zZS5zdGF0dXMgPCA2MDBcbiAgKTtcbn07XG5cbmV4cG9ydCBjb25zdCBnZXREZWxheSA9IChpOiBudW1iZXIpID0+IFsxNSAqIDEwMDAsIDMwICogMTAwMCwgNjAgKiAxMDAwXVtpIC0gMV07XG5cbmxldCBiYXNlVVJMID0gXCJodHRwczovL2N5LmN1cnJlbnRzLmRldlwiO1xuZXhwb3J0IGNvbnN0IGdldEFQSUJhc2VVcmwgPSAoKSA9PiBiYXNlVVJMID8/IFwiaHR0cHM6Ly9jeS5jdXJyZW50cy5kZXZcIjtcbmV4cG9ydCBjb25zdCBzZXRBUElCYXNlVXJsID0gKHVybD86IHN0cmluZykgPT5cbiAgKGJhc2VVUkwgPSB1cmwgPz8gXCJodHRwczovL2N5LmN1cnJlbnRzLmRldlwiKTtcbiIsICJpbXBvcnQgeyBBeGlvc0Vycm9yIH0gZnJvbSBcImF4aW9zXCI7XG5pbXBvcnQgXyBmcm9tIFwibG9kYXNoXCI7XG5pbXBvcnQgeyBzcGFjZXIsIHdhcm4gfSBmcm9tIFwiLi4vbG9nXCI7XG5cbmV4cG9ydCBmdW5jdGlvbiBtYXliZVByaW50RXJyb3JzKFxuICBlcnI6IEF4aW9zRXJyb3I8eyBtZXNzYWdlOiBzdHJpbmc7IGVycm9ycz86IHN0cmluZ1tdIH0+XG4pIHtcbiAgaWYgKCFlcnIucmVzcG9uc2U/LmRhdGEgfHwgIWVyci5yZXNwb25zZT8uc3RhdHVzKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgY29uc3QgeyBtZXNzYWdlLCBlcnJvcnMgfSA9IGVyci5yZXNwb25zZS5kYXRhO1xuXG4gIHN3aXRjaCAoZXJyLnJlc3BvbnNlLnN0YXR1cykge1xuICAgIGNhc2UgNDAxOlxuICAgICAgd2FybihcIlJlY2VpdmVkIDQwMSBVbmF1dGhvcml6ZWRcIik7XG4gICAgICBicmVhaztcbiAgICBjYXNlIDQyMjpcbiAgICAgIHNwYWNlcigxKTtcbiAgICAgIHdhcm4oLi4uZm9ybWF0R2VuZXJpY0Vycm9yKG1lc3NhZ2UsIGVycm9ycykpO1xuICAgICAgc3BhY2VyKDEpO1xuICAgICAgYnJlYWs7XG4gICAgZGVmYXVsdDpcbiAgICAgIGJyZWFrO1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBmb3JtYXRHZW5lcmljRXJyb3IoXG4gIG1lc3NhZ2U/OiBzdHJpbmcsXG4gIGVycm9ycz86IHN0cmluZ1tdXG4pOiBzdHJpbmdbXSB7XG4gIGlmICghXy5pc1N0cmluZyhtZXNzYWdlKSkge1xuICAgIHJldHVybiBbXCJVbmV4cGVjdGVkIGVycm9yIGZyb20gdGhlIGNsb3VkIHNlcnZpY2VcIl07XG4gIH1cblxuICBpZiAoZXJyb3JzPy5sZW5ndGggPT09IDApIHtcbiAgICByZXR1cm4gW21lc3NhZ2UgYXMgc3RyaW5nXTtcbiAgfVxuICByZXR1cm4gW1xuICAgIG1lc3NhZ2UgYXMgc3RyaW5nLFxuICAgIGBcbiR7KGVycm9ycyA/PyBbXSkubWFwKChlKSA9PiBgICAtICR7ZX1gKS5qb2luKFwiXFxuXCIpfVxuYCxcbiAgXTtcbn1cbiIsICJpbXBvcnQgYXhpb3MsIHtcbiAgQXhpb3NFcnJvcixcbiAgQXhpb3NJbnN0YW5jZSxcbiAgQXhpb3NSZXF1ZXN0Q29uZmlnLFxuICBBeGlvc1Jlc3BvbnNlLFxufSBmcm9tIFwiYXhpb3NcIjtcbmltcG9ydCBheGlvc1JldHJ5IGZyb20gXCJheGlvcy1yZXRyeVwiO1xuaW1wb3J0IERlYnVnIGZyb20gXCJkZWJ1Z1wiO1xuaW1wb3J0IF8gZnJvbSBcImxvZGFzaFwiO1xuaW1wb3J0IHByZXR0eU1pbGxpc2Vjb25kcyBmcm9tIFwicHJldHR5LW1zXCI7XG5pbXBvcnQgeyBWYWxpZGF0aW9uRXJyb3IgfSBmcm9tIFwiLi4vZXJyb3JzXCI7XG5pbXBvcnQgeyB3YXJuIH0gZnJvbSBcIi4uL2xvZ1wiO1xuaW1wb3J0IHsgZ2V0QVBJQmFzZVVybCwgZ2V0RGVsYXksIGlzUmV0cmlhYmxlRXJyb3IgfSBmcm9tIFwiLi9jb25maWdcIjtcbmltcG9ydCB7IG1heWJlUHJpbnRFcnJvcnMgfSBmcm9tIFwiLi9wcmludEVycm9yc1wiO1xuXG5jb25zdCBkZWJ1ZyA9IERlYnVnKFwiY3VycmVudHM6YXBpXCIpO1xuXG5jb25zdCBNQVhfUkVUUklFUyA9IDM7XG5cbmxldCBfY2xpZW50OiBBeGlvc0luc3RhbmNlIHwgbnVsbCA9IG51bGw7XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRDbGllbnQoKSB7XG4gIGlmIChfY2xpZW50KSB7XG4gICAgcmV0dXJuIF9jbGllbnQ7XG4gIH1cbiAgX2NsaWVudCA9IGF4aW9zLmNyZWF0ZSh7XG4gICAgYmFzZVVSTDogZ2V0QVBJQmFzZVVybCgpLFxuICB9KTtcblxuICBfY2xpZW50LmludGVyY2VwdG9ycy5yZXF1ZXN0LnVzZSgoY29uZmlnKSA9PiB7XG4gICAgY29uc3QgcmVxID0ge1xuICAgICAgLi4uY29uZmlnLFxuICAgICAgaGVhZGVyczoge1xuICAgICAgICBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIixcbiAgICAgICAgLi4uY29uZmlnLmhlYWRlcnMsXG5cbiAgICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgICBcIngtY3lwcmVzcy1yZXF1ZXN0LWF0dGVtcHRcIjogY29uZmlnW1wiYXhpb3MtcmV0cnlcIl0/LnJldHJ5Q291bnQgPz8gMCxcbiAgICAgICAgXCJ4LWN5cHJlc3MtcnVuLWlkXCI6IF9ydW5JZCxcbiAgICAgICAgXCJ4LWN5cHJlc3MtdmVyc2lvblwiOiBfY3lwcmVzc1ZlcnNpb24sXG4gICAgICAgIFwieC1jY3ktdmVyc2lvblwiOiBfY3VycmVudHNWZXJzaW9uID8/IFwiMC4wLjBcIixcbiAgICAgIH0sXG4gICAgfTtcbiAgICBkZWJ1ZyhcIm5ldHdvcmsgcmVxdWVzdDogJW9cIiwgcmVxKTtcbiAgICByZXR1cm4gcmVxO1xuICB9KTtcblxuICBheGlvc1JldHJ5KF9jbGllbnQsIHtcbiAgICByZXRyaWVzOiBNQVhfUkVUUklFUyxcbiAgICByZXRyeUNvbmRpdGlvbjogaXNSZXRyaWFibGVFcnJvcixcbiAgICByZXRyeURlbGF5OiBnZXREZWxheSxcbiAgICAvLyBAdHMtaWdub3JlXG4gICAgb25SZXRyeSxcbiAgfSk7XG4gIHJldHVybiBfY2xpZW50O1xufVxuXG5sZXQgX3J1bklkOiBzdHJpbmcgfCB1bmRlZmluZWQgPSB1bmRlZmluZWQ7XG5leHBvcnQgY29uc3Qgc2V0UnVuSWQgPSAocnVuSWQ6IHN0cmluZykgPT4ge1xuICBfcnVuSWQgPSBydW5JZDtcbn07XG5cbmxldCBfY3lwcmVzc1ZlcnNpb246IHN0cmluZyB8IHVuZGVmaW5lZCA9IHVuZGVmaW5lZDtcbmV4cG9ydCBjb25zdCBzZXRDeXByZXNzVmVyc2lvbiA9IChjeXByZXNzVmVyc2lvbjogc3RyaW5nKSA9PiB7XG4gIF9jeXByZXNzVmVyc2lvbiA9IGN5cHJlc3NWZXJzaW9uO1xufTtcblxubGV0IF9jdXJyZW50c1ZlcnNpb246IHN0cmluZyB8IHVuZGVmaW5lZCA9IHVuZGVmaW5lZDtcbmV4cG9ydCBjb25zdCBzZXRDdXJyZW50c1ZlcnNpb24gPSAodjogc3RyaW5nKSA9PiB7XG4gIF9jdXJyZW50c1ZlcnNpb24gPSB2O1xufTtcblxuZnVuY3Rpb24gb25SZXRyeShcbiAgcmV0cnlDb3VudDogbnVtYmVyLFxuICBlcnI6IEF4aW9zRXJyb3I8eyBtZXNzYWdlOiBzdHJpbmc7IGVycm9ycz86IHN0cmluZ1tdIH0+LFxuICBfY29uZmlnOiBBeGlvc1JlcXVlc3RDb25maWdcbikge1xuICB3YXJuKFxuICAgIFwiTmV0d29yayByZXF1ZXN0IGZhaWxlZDogJyVzJy4gTmV4dCBhdHRlbXB0IGlzIGluICVzICglZC8lZCkuXCIsXG4gICAgZXJyLm1lc3NhZ2UsXG4gICAgcHJldHR5TWlsbGlzZWNvbmRzKGdldERlbGF5KHJldHJ5Q291bnQpKSxcbiAgICByZXRyeUNvdW50LFxuICAgIE1BWF9SRVRSSUVTXG4gICk7XG59XG5cbmV4cG9ydCBjb25zdCBtYWtlUmVxdWVzdCA9IDxUID0gYW55LCBEID0gYW55PihcbiAgY29uZmlnOiBBeGlvc1JlcXVlc3RDb25maWc8RD5cbikgPT4ge1xuICByZXR1cm4gZ2V0Q2xpZW50KCk8RCwgQXhpb3NSZXNwb25zZTxUPj4oY29uZmlnKVxuICAgIC50aGVuKChyZXMpID0+IHtcbiAgICAgIGRlYnVnKFwibmV0d29yayByZXF1ZXN0IHJlc3BvbnNlOiAlb1wiLCBfLm9taXQocmVzLCBcInJlcXVlc3RcIiwgXCJjb25maWdcIikpO1xuICAgICAgcmV0dXJuIHJlcztcbiAgICB9KVxuICAgIC5jYXRjaCgoZXJyb3IpID0+IHtcbiAgICAgIG1heWJlUHJpbnRFcnJvcnMoZXJyb3IpO1xuICAgICAgdGhyb3cgbmV3IFZhbGlkYXRpb25FcnJvcihlcnJvci5tZXNzYWdlKTtcbiAgICB9KTtcbn07XG4iLCAiZXhwb3J0ICogZnJvbSBcIi4vY29uZmlnXCI7XG5leHBvcnQgKiBmcm9tIFwiLi9odHRwQ2xpZW50XCI7XG4iLCAiaW1wb3J0IERlYnVnIGZyb20gXCJkZWJ1Z1wiO1xuY29uc3QgZGVidWcgPSBEZWJ1ZyhcImN1cnJlbnRzOmNhcHR1cmVcIik7XG5cbmNvbnN0IF93cml0ZSA9IHByb2Nlc3Muc3Rkb3V0LndyaXRlO1xuY29uc3QgX2xvZyA9IHByb2Nlc3MubG9nO1xuXG5leHBvcnQgY29uc3QgcmVzdG9yZSA9IGZ1bmN0aW9uICgpIHtcbiAgLy8gcmVzdG9yZSB0byB0aGUgb3JpZ2luYWxzXG4gIHByb2Nlc3Muc3Rkb3V0LndyaXRlID0gX3dyaXRlO1xuICBwcm9jZXNzLmxvZyA9IF9sb2c7XG59O1xuXG5jb25zdCBsb2dzOiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmdbXT4gPSB7fTtcblxuY29uc3Qgc3Rkb3V0ID0gZnVuY3Rpb24gKCkge1xuICBkZWJ1ZyhcImNhcHR1cmluZyBzdGRvdXRcIik7XG4gIGxldCBsb2dzOiBzdHJpbmdbXSA9IFtdO1xuXG4gIC8vIGxhemlseSBiYWNrdXAgd3JpdGUgdG8gZW5hYmxlIGluamVjdGlvblxuICBjb25zdCB7IHdyaXRlIH0gPSBwcm9jZXNzLnN0ZG91dDtcbiAgY29uc3QgeyBsb2cgfSA9IHByb2Nlc3M7XG5cbiAgLy8gZWxlY3Ryb24gYWRkcyBhIG5ldyBwcm9jZXNzLmxvZ1xuICAvLyBtZXRob2QgZm9yIHdpbmRvd3MgaW5zdGVhZCBvZiBwcm9jZXNzLnN0ZG91dC53cml0ZVxuICAvLyBodHRwczovL2dpdGh1Yi5jb20vY3lwcmVzcy1pby9jeXByZXNzL2lzc3Vlcy85NzdcbiAgaWYgKGxvZykge1xuICAgIHByb2Nlc3MubG9nID0gZnVuY3Rpb24gKHN0cjogc3RyaW5nKSB7XG4gICAgICBsb2dzLnB1c2goc3RyKTtcblxuICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIHByZWZlci1yZXN0LXBhcmFtc1xuICAgICAgcmV0dXJuIGxvZy5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgIH07XG4gIH1cblxuICBwcm9jZXNzLnN0ZG91dC53cml0ZSA9IGZ1bmN0aW9uIChzdHI6IHN0cmluZykge1xuICAgIGxvZ3MucHVzaChzdHIpO1xuXG4gICAgLy8gQHRzLWlnbm9yZVxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBwcmVmZXItcmVzdC1wYXJhbXNcbiAgICByZXR1cm4gd3JpdGUuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgfTtcblxuICByZXR1cm4ge1xuICAgIHRvU3RyaW5nKCkge1xuICAgICAgcmV0dXJuIGxvZ3Muam9pbihcIlwiKTtcbiAgICB9LFxuICAgIGRhdGE6IGxvZ3MsXG4gICAgcmVzdG9yZSxcbiAgICByZXNldDogKCkgPT4ge1xuICAgICAgZGVidWcoXCJyZXNldHRpbmcgY2FwdHVyZWQgc3Rkb3V0XCIpO1xuICAgICAgbG9ncyA9IFtdO1xuICAgIH0sXG4gIH07XG59O1xuXG5sZXQgaW5pdGlhbE91dHB1dDogc3RyaW5nID0gXCJcIjtcbmxldCBjYXB0dXJlZE91dHB1dDogbnVsbCB8IFJldHVyblR5cGU8dHlwZW9mIHN0ZG91dD4gPSBudWxsO1xuXG5leHBvcnQgY29uc3QgaW5pdENhcHR1cmUgPSAoKSA9PiAoY2FwdHVyZWRPdXRwdXQgPSBzdGRvdXQoKSk7XG5cbmV4cG9ydCBjb25zdCBjdXRJbml0aWFsT3V0cHV0ID0gKCkgPT4ge1xuICBpZiAoIWNhcHR1cmVkT3V0cHV0KSB0aHJvdyBuZXcgRXJyb3IoXCJjYXB0dXJlZE91dHB1dCBpcyBudWxsXCIpO1xuICBpbml0aWFsT3V0cHV0ID0gY2FwdHVyZWRPdXRwdXQudG9TdHJpbmcoKTtcbiAgY2FwdHVyZWRPdXRwdXQucmVzZXQoKTtcbn07XG5leHBvcnQgY29uc3QgcmVzZXRDYXB0dXJlID0gKCkgPT4ge1xuICBpZiAoIWNhcHR1cmVkT3V0cHV0KSB0aHJvdyBuZXcgRXJyb3IoXCJjYXB0dXJlZE91dHB1dCBpcyBudWxsXCIpO1xuICBjYXB0dXJlZE91dHB1dC5yZXNldCgpO1xufTtcblxuZXhwb3J0IGNvbnN0IGdldENhcHR1cmVkT3V0cHV0ID0gKCkgPT4ge1xuICBpZiAoIWNhcHR1cmVkT3V0cHV0KSB0aHJvdyBuZXcgRXJyb3IoXCJjYXB0dXJlZE91dHB1dCBpcyBudWxsXCIpO1xuICByZXR1cm4gY2FwdHVyZWRPdXRwdXQudG9TdHJpbmcoKTtcbn07XG5leHBvcnQgY29uc3QgZ2V0SW5pdGlhbE91dHB1dCA9ICgpID0+IGluaXRpYWxPdXRwdXQ7XG4iLCAiaW1wb3J0IHsgY3JlYXRlUmVxdWlyZSB9IGZyb20gXCJtb2R1bGVcIjtcbi8vIHJlcXVpcmVzIHNoaW09dHJ1ZSBpbiBwYWNrYWdlLmpzb25cbmV4cG9ydCBjb25zdCByZXF1aXJlID0gY3JlYXRlUmVxdWlyZShpbXBvcnQubWV0YS51cmwpO1xuIiwgImltcG9ydCBjcCBmcm9tIFwiY2hpbGRfcHJvY2Vzc1wiO1xuY29uc3Qgb3JnaW5hbCA9IGNwLnNwYXduO1xuXG4vLyBAdHMtaWdub3JlXG5jcC5zcGF3biA9IGZ1bmN0aW9uIChjb21tYW5kLCBhcmdzLCBvcHRpb25zKSB7XG4gIC8vIEB0cy1pZ25vcmVcbiAgaWYgKGNvbW1hbmQubWF0Y2goL0N5cHJlc3MvKSkge1xuICAgIC8vIEB0cy1pZ25vcmVcbiAgICBjb25zdCBwcm9jZXNzID0gb3JnaW5hbChjb21tYW5kLCBhcmdzLCB7XG4gICAgICAuLi5vcHRpb25zLFxuICAgICAgLy8gdXNpbmcgcGlwZSBlbmFibGVzIGNhcHR1cmluZyBzdGRvdXQgYW5kIHN0ZGVyclxuICAgICAgc3RkaW86IFtcInBpcGVcIiwgXCJwaXBlXCIsIFwicGlwZVwiXSxcbiAgICB9KTtcbiAgICByZXR1cm4gcHJvY2VzcztcbiAgfVxuXG4gIC8vIEB0cy1pZ25vcmVcbiAgcmV0dXJuIG9yZ2luYWwoY29tbWFuZCwgYXJncywgb3B0aW9ucyk7XG59O1xuIiwgIi8vIHBsdWcgZm9yIGZ1dHVyZSB3ZWJzb2NrZXQgc2VydmVyXG4iLCAiaW1wb3J0IHsgcmVxdWlyZSB9IGZyb20gXCIuLi9saWIvcmVxdWlyZVwiO1xuaW1wb3J0IFwiLi9zdGRvdXRcIjtcbmltcG9ydCBcIi4vd3NcIjtcblxuY29uc3QgY3lwcmVzc1BrZyA9IHJlcXVpcmUoXCJjeXByZXNzL3BhY2thZ2UuanNvblwiKTtcbmNvbnN0IHBrZyA9IHJlcXVpcmUoXCJjeXByZXNzLWNsb3VkL3BhY2thZ2UuanNvblwiKTtcblxuaW1wb3J0IHsgaW5pdENhcHR1cmUgfSBmcm9tIFwiLi9jYXB0dXJlXCI7XG5pbXBvcnQgeyBzZXRDdXJyZW50c1ZlcnNpb24sIHNldEN5cHJlc3NWZXJzaW9uIH0gZnJvbSBcIi4vaHR0cENsaWVudFwiO1xuXG5pbml0Q2FwdHVyZSgpO1xuc2V0Q3lwcmVzc1ZlcnNpb24oY3lwcmVzc1BrZy52ZXJzaW9uKTtcbnNldEN1cnJlbnRzVmVyc2lvbihwa2cudmVyc2lvbik7XG4iLCAiY29uc3QgY29tbWFuZGVyID0gcmVxdWlyZShcImNvbW1hbmRlclwiKTtcblxuLy8gQHRzLWNoZWNrXG5cbmV4cG9ydHMgPSBtb2R1bGUuZXhwb3J0cyA9IHt9O1xuXG4vLyBSZXR1cm4gYSBkaWZmZXJlbnQgZ2xvYmFsIHByb2dyYW0gdGhhbiBjb21tYW5kZXIsXG4vLyBhbmQgZG9uJ3QgYWxzbyByZXR1cm4gaXQgYXMgZGVmYXVsdCBleHBvcnQuXG5leHBvcnRzLnByb2dyYW0gPSBuZXcgY29tbWFuZGVyLkNvbW1hbmQoKTtcblxuLyoqXG4gKiBFeHBvc2UgY2xhc3Nlcy4gVGhlIEZvb1QgdmVyc2lvbnMgYXJlIGp1c3QgdHlwZXMsIHNvIHJldHVybiBDb21tYW5kZXIgb3JpZ2luYWwgaW1wbGVtZW50YXRpb25zIVxuICovXG5cbmV4cG9ydHMuQXJndW1lbnQgPSBjb21tYW5kZXIuQXJndW1lbnQ7XG5leHBvcnRzLkNvbW1hbmQgPSBjb21tYW5kZXIuQ29tbWFuZDtcbmV4cG9ydHMuQ29tbWFuZGVyRXJyb3IgPSBjb21tYW5kZXIuQ29tbWFuZGVyRXJyb3I7XG5leHBvcnRzLkhlbHAgPSBjb21tYW5kZXIuSGVscDtcbmV4cG9ydHMuSW52YWxpZEFyZ3VtZW50RXJyb3IgPSBjb21tYW5kZXIuSW52YWxpZEFyZ3VtZW50RXJyb3I7XG5leHBvcnRzLkludmFsaWRPcHRpb25Bcmd1bWVudEVycm9yID0gY29tbWFuZGVyLkludmFsaWRBcmd1bWVudEVycm9yOyAvLyBEZXByZWNhdGVkXG5leHBvcnRzLk9wdGlvbiA9IGNvbW1hbmRlci5PcHRpb247XG5cbi8vIEluIENvbW1hbmRlciwgdGhlIGNyZWF0ZSByb3V0aW5lcyBlbmQgdXAgYmVpbmcgYWxpYXNlcyBmb3IgdGhlIG1hdGNoaW5nXG4vLyBtZXRob2RzIG9uIHRoZSBnbG9iYWwgcHJvZ3JhbSBkdWUgdG8gdGhlIChkZXByZWNhdGVkKSBsZWdhY3kgZGVmYXVsdCBleHBvcnQuXG4vLyBIZXJlIHdlIHJvbGwgb3VyIG93biwgdGhlIHdheSBDb21tYW5kZXIgbWlnaHQgaW4gZnV0dXJlLlxuZXhwb3J0cy5jcmVhdGVDb21tYW5kID0gKG5hbWUpID0+IG5ldyBjb21tYW5kZXIuQ29tbWFuZChuYW1lKTtcbmV4cG9ydHMuY3JlYXRlT3B0aW9uID0gKGZsYWdzLCBkZXNjcmlwdGlvbikgPT5cbiAgbmV3IGNvbW1hbmRlci5PcHRpb24oZmxhZ3MsIGRlc2NyaXB0aW9uKTtcbmV4cG9ydHMuY3JlYXRlQXJndW1lbnQgPSAobmFtZSwgZGVzY3JpcHRpb24pID0+XG4gIG5ldyBjb21tYW5kZXIuQXJndW1lbnQobmFtZSwgZGVzY3JpcHRpb24pO1xuIiwgIiMhL3Vzci9iaW4vZW52IG5vZGVcbmltcG9ydCBcInNvdXJjZS1tYXAtc3VwcG9ydC9yZWdpc3RlclwiO1xuXG5pbXBvcnQgeyBWYWxpZGF0aW9uRXJyb3IgfSBmcm9tIFwiLi4vbGliL2Vycm9yc1wiO1xuaW1wb3J0IHsgd2l0aEVycm9yIH0gZnJvbSBcIi4uL2xpYi9sb2dcIjtcbmltcG9ydCB7IHJ1biB9IGZyb20gXCIuLi9saWIvcnVuXCI7XG5pbXBvcnQgeyBwYXJzZUNMSU9wdGlvbnMsIHByb2dyYW0gfSBmcm9tIFwiLi9saWJcIjtcblxuYXN5bmMgZnVuY3Rpb24gbWFpbigpIHtcbiAgcmV0dXJuIHJ1bihwYXJzZUNMSU9wdGlvbnMoKSk7XG59XG5cbm1haW4oKVxuICAudGhlbigocmVzdWx0KSA9PiB7XG4gICAgaWYgKCFyZXN1bHQpIHtcbiAgICAgIHByb2Nlc3MuZXhpdCgwKTtcbiAgICB9XG5cbiAgICBjb25zdCBvdmVyYWxsRmFpbGVkID0gcmVzdWx0LnRvdGFsRmFpbGVkICsgcmVzdWx0LnRvdGFsU2tpcHBlZDtcbiAgICBpZiAob3ZlcmFsbEZhaWxlZCA+IDApIHtcbiAgICAgIHByb2Nlc3MuZXhpdChvdmVyYWxsRmFpbGVkKTtcbiAgICB9XG4gICAgcHJvY2Vzcy5leGl0KDApO1xuICB9KVxuICAuY2F0Y2goKGVycikgPT4ge1xuICAgIGlmIChlcnIgaW5zdGFuY2VvZiBWYWxpZGF0aW9uRXJyb3IpIHtcbiAgICAgIHByb2dyYW0uZXJyb3Iod2l0aEVycm9yKGVyci50b1N0cmluZygpKSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoZXJyKTtcbiAgICB9XG4gICAgcHJvY2Vzcy5leGl0KDEpO1xuICB9KTtcbiIsICJpbXBvcnQgRGVidWcgZnJvbSBcImRlYnVnXCI7XG5pbXBvcnQgeyBDdXJyZW50c1J1blBhcmFtZXRlcnMgfSBmcm9tIFwiLi4vdHlwZXNcIjtcbmltcG9ydCB7IGNyZWF0ZVJ1biB9IGZyb20gXCIuL2FwaVwiO1xuaW1wb3J0IHsgY3V0SW5pdGlhbE91dHB1dCB9IGZyb20gXCIuL2NhcHR1cmVcIjtcbmltcG9ydCB7IGdldENJIH0gZnJvbSBcIi4vY2lQcm92aWRlclwiO1xuaW1wb3J0IHsgZ2V0TWVyZ2VkQ29uZmlnLCB2YWxpZGF0ZVBhcmFtcyB9IGZyb20gXCIuL2NvbmZpZ1wiO1xuaW1wb3J0IHsgZ2V0R2l0SW5mbyB9IGZyb20gXCIuL2dpdFwiO1xuaW1wb3J0IHsgc2V0QVBJQmFzZVVybCwgc2V0UnVuSWQgfSBmcm9tIFwiLi9odHRwQ2xpZW50XCI7XG5pbXBvcnQgeyBib2xkLCBkaXZpZGVyLCBpbmZvLCBzcGFjZXIsIHRpdGxlIH0gZnJvbSBcIi4vbG9nXCI7XG5pbXBvcnQgeyBnZXRQbGF0Zm9ybSB9IGZyb20gXCIuL3BsYXRmb3JtXCI7XG5pbXBvcnQgeyBzdW1tYXJpemVUZXN0UmVzdWx0cywgc3VtbWFyeVRhYmxlIH0gZnJvbSBcIi4vcmVzdWx0c1wiO1xuaW1wb3J0IHsgcnVuVGlsbERvbmUgfSBmcm9tIFwiLi9ydW5uZXJcIjtcbmltcG9ydCB7IGdldFNwZWNGaWxlcyB9IGZyb20gXCIuL3NwZWNNYXRjaGVyXCI7XG5cbmNvbnN0IGRlYnVnID0gRGVidWcoXCJjdXJyZW50czpydW5cIik7XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBydW4ocGFyYW1zOiBDdXJyZW50c1J1blBhcmFtZXRlcnMpIHtcbiAgZGVidWcoXCJydW4gcGFyYW1zICVvXCIsIHBhcmFtcyk7XG5cbiAgY29uc3QgdmFsaWRhdGVkUGFyYW1zID0gdmFsaWRhdGVQYXJhbXMocGFyYW1zKTtcbiAgc2V0QVBJQmFzZVVybCh2YWxpZGF0ZWRQYXJhbXMuY2xvdWRTZXJ2aWNlVXJsKTtcblxuICBjb25zdCB7XG4gICAgcmVjb3JkS2V5LFxuICAgIHByb2plY3RJZCxcbiAgICBncm91cCxcbiAgICBwYXJhbGxlbCxcbiAgICBjaUJ1aWxkSWQsXG4gICAgdGFnLFxuICAgIHRlc3RpbmdUeXBlLFxuICAgIGJhdGNoU2l6ZSxcbiAgfSA9IHZhbGlkYXRlZFBhcmFtcztcblxuICBjb25zdCBjb25maWcgPSBhd2FpdCBnZXRNZXJnZWRDb25maWcodmFsaWRhdGVkUGFyYW1zKTtcbiAgY29uc3QgeyBzcGVjcywgc3BlY1BhdHRlcm4gfSA9IGF3YWl0IGdldFNwZWNGaWxlcyh7XG4gICAgY29uZmlnLFxuICAgIHBhcmFtczogdmFsaWRhdGVkUGFyYW1zLFxuICB9KTtcbiAgaWYgKHNwZWNzLmxlbmd0aCA9PT0gMCkge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIGNvbnN0IHBsYXRmb3JtID0gYXdhaXQgZ2V0UGxhdGZvcm0oe1xuICAgIGNvbmZpZyxcbiAgICBicm93c2VyOiB2YWxpZGF0ZWRQYXJhbXMuYnJvd3NlcixcbiAgfSk7XG5cbiAgZGl2aWRlcigpO1xuXG4gIGluZm8oXCJEaXNjb3ZlcmVkICVkIHNwZWMgZmlsZXNcIiwgc3BlY3MubGVuZ3RoKTtcbiAgaW5mbyhcbiAgICBgVGFnczogJHt0YWc/LmpvaW4oXCIsXCIpID8/IGZhbHNlfTsgR3JvdXA6ICR7Z3JvdXAgPz8gZmFsc2V9OyBQYXJhbGxlbDogJHtcbiAgICAgIHBhcmFsbGVsID8/IGZhbHNlXG4gICAgfTsgQmF0Y2ggU2l6ZTogJHtiYXRjaFNpemV9YFxuICApO1xuICBpbmZvKFwiQ29ubmVjdGluZyB0byBjbG91ZCBvcmNoZXN0cmF0aW9uIHNlcnZpY2UuLi5cIik7XG5cbiAgY29uc3QgcnVuID0gYXdhaXQgY3JlYXRlUnVuKHtcbiAgICBjaTogZ2V0Q0koY2lCdWlsZElkKSxcbiAgICBzcGVjczogc3BlY3MubWFwKChzcGVjKSA9PiBzcGVjLnJlbGF0aXZlKSxcbiAgICBjb21taXQ6IGF3YWl0IGdldEdpdEluZm8oY29uZmlnLnByb2plY3RSb290KSxcbiAgICBncm91cCxcbiAgICBwbGF0Zm9ybSxcbiAgICBwYXJhbGxlbDogcGFyYWxsZWwgPz8gZmFsc2UsXG4gICAgY2lCdWlsZElkLFxuICAgIHByb2plY3RJZCxcbiAgICByZWNvcmRLZXksXG4gICAgc3BlY1BhdHRlcm46IFtzcGVjUGF0dGVybl0uZmxhdCgyKSxcbiAgICB0YWdzOiB0YWcsXG4gICAgdGVzdGluZ1R5cGUsXG4gICAgYmF0Y2hTaXplLFxuICB9KTtcblxuICBpbmZvKFwiXHVEODNDXHVERkE1IFJ1biBVUkw6XCIsIGJvbGQocnVuLnJ1blVybCkpO1xuXG4gIHNldFJ1bklkKHJ1bi5ydW5JZCk7XG5cbiAgY3V0SW5pdGlhbE91dHB1dCgpO1xuXG4gIGNvbnN0IHJlc3VsdHMgPSBhd2FpdCBydW5UaWxsRG9uZShcbiAgICB7XG4gICAgICBydW5JZDogcnVuLnJ1bklkLFxuICAgICAgZ3JvdXBJZDogcnVuLmdyb3VwSWQsXG4gICAgICBtYWNoaW5lSWQ6IHJ1bi5tYWNoaW5lSWQsXG4gICAgICBwbGF0Zm9ybSxcbiAgICAgIGNvbmZpZyxcbiAgICB9LFxuICAgIHZhbGlkYXRlZFBhcmFtc1xuICApO1xuXG4gIGRpdmlkZXIoKTtcblxuICBjb25zdCBzdW1tYXJ5ID0gc3VtbWFyaXplVGVzdFJlc3VsdHMoT2JqZWN0LnZhbHVlcyhyZXN1bHRzKSwgY29uZmlnKTtcblxuICB0aXRsZShcIndoaXRlXCIsIFwiQ2xvdWQgUnVuIEZpbmlzaGVkXCIpO1xuICBjb25zb2xlLmxvZyhzdW1tYXJ5VGFibGUoc3VtbWFyeSkpO1xuICBpbmZvKFwiXHVEODNDXHVERkMxIFJlY29yZGVkIFJ1bjpcIiwgYm9sZChydW4ucnVuVXJsKSk7XG5cbiAgc3BhY2VyKCk7XG4gIHJldHVybiBzdW1tYXJ5O1xufVxuIiwgImV4cG9ydCAqIGZyb20gXCIuL2FwaVwiO1xuZXhwb3J0ICogZnJvbSBcIi4vdHlwZXNcIjtcbiIsICJpbXBvcnQgeyBtYWtlUmVxdWVzdCB9IGZyb20gXCIuLi9odHRwQ2xpZW50XCI7XG5pbXBvcnQge1xuICBDcmVhdGVJbnN0YW5jZUN5UGF5bG9hZCxcbiAgQ3JlYXRlSW5zdGFuY2VQYXlsb2FkLFxuICBDcmVhdGVJbnN0YW5jZVJlc3BvbnNlLFxuICBDcmVhdGVJbnN0YW5jZXNSZXNwb25zZSxcbiAgQ3JlYXRlUnVuUGF5bG9hZCxcbiAgQ3JlYXRlUnVuUmVzcG9uc2UsXG4gIFNldEluc3RhbmNlVGVzdHNQYXlsb2FkLFxuICBVcGRhdGVJbnN0YW5jZVJlc3VsdHNNZXJnZWRQYXlsb2FkLFxuICBVcGRhdGVJbnN0YW5jZVJlc3VsdHNQYXlsb2FkLFxuICBVcGRhdGVJbnN0YW5jZVJlc3VsdHNSZXNwb25zZSxcbn0gZnJvbSBcIi4vdHlwZXNcIjtcbmltcG9ydCB7IHByaW50V2FybmluZ3MgfSBmcm9tIFwiLi93YXJuaW5nc1wiO1xuXG5leHBvcnQgY29uc3QgY3JlYXRlUnVuID0gYXN5bmMgKHBheWxvYWQ6IENyZWF0ZVJ1blBheWxvYWQpID0+IHtcbiAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBtYWtlUmVxdWVzdDxDcmVhdGVSdW5SZXNwb25zZSwgQ3JlYXRlUnVuUGF5bG9hZD4oe1xuICAgIG1ldGhvZDogXCJQT1NUXCIsXG4gICAgdXJsOiBcIi9ydW5zXCIsXG4gICAgZGF0YTogcGF5bG9hZCxcbiAgfSk7XG5cbiAgaWYgKChyZXNwb25zZS5kYXRhLndhcm5pbmdzPy5sZW5ndGggPz8gMCkgPiAwKSB7XG4gICAgcHJpbnRXYXJuaW5ncyhyZXNwb25zZS5kYXRhLndhcm5pbmdzKTtcbiAgfVxuXG4gIHJldHVybiByZXNwb25zZS5kYXRhO1xufTtcblxuZXhwb3J0IGNvbnN0IGNyZWF0ZUluc3RhbmNlID0gYXN5bmMgKHtcbiAgcnVuSWQsXG4gIGdyb3VwSWQsXG4gIG1hY2hpbmVJZCxcbiAgcGxhdGZvcm0sXG59OiBDcmVhdGVJbnN0YW5jZVBheWxvYWQpID0+IHtcbiAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBtYWtlUmVxdWVzdDxcbiAgICBDcmVhdGVJbnN0YW5jZVJlc3BvbnNlLFxuICAgIENyZWF0ZUluc3RhbmNlUGF5bG9hZFxuICA+KHtcbiAgICBtZXRob2Q6IFwiUE9TVFwiLFxuICAgIHVybDogYHJ1bnMvJHtydW5JZH0vaW5zdGFuY2VzYCxcbiAgICBkYXRhOiB7XG4gICAgICBydW5JZCxcbiAgICAgIGdyb3VwSWQsXG4gICAgICBtYWNoaW5lSWQsXG4gICAgICBwbGF0Zm9ybSxcbiAgICB9LFxuICB9KTtcblxuICByZXR1cm4gcmVzcG9uc2UuZGF0YTtcbn07XG5cbmV4cG9ydCBjb25zdCBjcmVhdGVCYXRjaGVkSW5zdGFuY2VzID0gYXN5bmMgKGRhdGE6IENyZWF0ZUluc3RhbmNlQ3lQYXlsb2FkKSA9PiB7XG4gIGNvbnN0IHJlc3BvbmUgPSBhd2FpdCBtYWtlUmVxdWVzdDxcbiAgICBDcmVhdGVJbnN0YW5jZXNSZXNwb25zZSxcbiAgICBDcmVhdGVJbnN0YW5jZUN5UGF5bG9hZFxuICA+KHtcbiAgICBtZXRob2Q6IFwiUE9TVFwiLFxuICAgIHVybDogYHJ1bnMvJHtkYXRhLnJ1bklkfS9jeS9pbnN0YW5jZXNgLFxuICAgIGRhdGEsXG4gIH0pO1xuXG4gIHJldHVybiByZXNwb25lLmRhdGE7XG59O1xuXG5leHBvcnQgY29uc3Qgc2V0SW5zdGFuY2VUZXN0cyA9IChcbiAgaW5zdGFuY2VJZDogc3RyaW5nLFxuICBwYXlsb2FkOiBTZXRJbnN0YW5jZVRlc3RzUGF5bG9hZFxuKSA9PlxuICBtYWtlUmVxdWVzdDx7fSwgU2V0SW5zdGFuY2VUZXN0c1BheWxvYWQ+KHtcbiAgICBtZXRob2Q6IFwiUE9TVFwiLFxuICAgIHVybDogYGluc3RhbmNlcy8ke2luc3RhbmNlSWR9L3Rlc3RzYCxcbiAgICBkYXRhOiBwYXlsb2FkLFxuICB9KS50aGVuKChyZXN1bHQpID0+IHJlc3VsdC5kYXRhKTtcblxuZXhwb3J0IGNvbnN0IHVwZGF0ZUluc3RhbmNlUmVzdWx0cyA9IChcbiAgaW5zdGFuY2VJZDogc3RyaW5nLFxuICBwYXlsb2FkOiBVcGRhdGVJbnN0YW5jZVJlc3VsdHNQYXlsb2FkXG4pID0+XG4gIG1ha2VSZXF1ZXN0PFVwZGF0ZUluc3RhbmNlUmVzdWx0c1Jlc3BvbnNlLCBVcGRhdGVJbnN0YW5jZVJlc3VsdHNQYXlsb2FkPih7XG4gICAgbWV0aG9kOiBcIlBPU1RcIixcbiAgICB1cmw6IGBpbnN0YW5jZXMvJHtpbnN0YW5jZUlkfS9yZXN1bHRzYCxcbiAgICBkYXRhOiBwYXlsb2FkLFxuICB9KS50aGVuKChyZXN1bHQpID0+IHJlc3VsdC5kYXRhKTtcblxuZXhwb3J0IGNvbnN0IHJlcG9ydEluc3RhbmNlUmVzdWx0c01lcmdlZCA9IChcbiAgaW5zdGFuY2VJZDogc3RyaW5nLFxuICBwYXlsb2FkOiBVcGRhdGVJbnN0YW5jZVJlc3VsdHNNZXJnZWRQYXlsb2FkXG4pID0+XG4gIG1ha2VSZXF1ZXN0PFxuICAgIFVwZGF0ZUluc3RhbmNlUmVzdWx0c1Jlc3BvbnNlLFxuICAgIFVwZGF0ZUluc3RhbmNlUmVzdWx0c01lcmdlZFBheWxvYWRcbiAgPih7XG4gICAgbWV0aG9kOiBcIlBPU1RcIixcbiAgICB1cmw6IGBpbnN0YW5jZXMvJHtpbnN0YW5jZUlkfS9jeS9yZXN1bHRzYCxcbiAgICBkYXRhOiBwYXlsb2FkLFxuICB9KS50aGVuKChyZXN1bHQpID0+IHJlc3VsdC5kYXRhKTtcblxuZXhwb3J0IGNvbnN0IHVwZGF0ZUluc3RhbmNlU3Rkb3V0ID0gKGluc3RhbmNlSWQ6IHN0cmluZywgc3Rkb3V0OiBzdHJpbmcpID0+XG4gIG1ha2VSZXF1ZXN0PGFueSwgeyBzdGRvdXQ6IHN0cmluZyB9Pih7XG4gICAgbWV0aG9kOiBcIlBVVFwiLFxuICAgIHVybDogYGluc3RhbmNlcy8ke2luc3RhbmNlSWR9L3N0ZG91dGAsXG4gICAgZGF0YToge1xuICAgICAgc3Rkb3V0LFxuICAgIH0sXG4gIH0pO1xuIiwgImltcG9ydCBfIGZyb20gXCJsb2Rhc2hcIjtcbmltcG9ydCB7IG1hZ2VudGEgfSBmcm9tIFwiLi4vbG9nXCI7XG5cbmltcG9ydCB7IGluZm8sIHNwYWNlciwgd2FybiB9IGZyb20gXCIuLi9sb2dcIjtcbmltcG9ydCB7IENsb3VkV2FybmluZyB9IGZyb20gXCIuL3R5cGVzXCI7XG5cbmV4cG9ydCBmdW5jdGlvbiBwcmludFdhcm5pbmdzKHdhcm5pbmdzOiBDbG91ZFdhcm5pbmdbXSkge1xuICB3YXJuKFwiTm90aWNlIGZyb20gY2xvdWQgc2VydmljZTpcIik7XG4gIHdhcm5pbmdzLm1hcCgodykgPT4ge1xuICAgIHNwYWNlcigxKTtcbiAgICBpbmZvKG1hZ2VudGEuYm9sZCh3Lm1lc3NhZ2UpKTtcbiAgICBPYmplY3QuZW50cmllcyhfLm9taXQodywgXCJtZXNzYWdlXCIpKS5tYXAoKFtrZXksIHZhbHVlXSkgPT4ge1xuICAgICAgaW5mbyhcIi0gJXM6ICVzXCIsIGtleSwgdmFsdWUpO1xuICAgIH0pO1xuICAgIHNwYWNlcigxKTtcbiAgfSk7XG59XG4iLCAiZXhwb3J0ICogZnJvbSBcIi4vaW5zdGFuY2VcIjtcbmV4cG9ydCAqIGZyb20gXCIuL3J1blwiO1xuZXhwb3J0ICogZnJvbSBcIi4vdGVzdFwiO1xuIiwgImltcG9ydCB7IFBsYXRmb3JtLCBTY3JlZW5zaG90QXJ0aWZhY3QgfSBmcm9tIFwiY3lwcmVzcy1jbG91ZC90eXBlc1wiO1xuaW1wb3J0IHsgU2V0VGVzdHNQYXlsb2FkLCBUZXN0IH0gZnJvbSBcIi4vdGVzdFwiO1xuXG5leHBvcnQgaW50ZXJmYWNlIFNjcmVlbnNob3Qge1xuICBzY3JlZW5zaG90SWQ6IHN0cmluZztcbiAgbmFtZTogc3RyaW5nIHwgbnVsbDtcbiAgdGVzdElkOiBzdHJpbmc7XG4gIHRha2VuQXQ6IHN0cmluZztcbiAgaGVpZ2h0OiBudW1iZXI7XG4gIHdpZHRoOiBudW1iZXI7XG4gIHNjcmVlbnNob3RVUkw6IHN0cmluZztcbn1cblxuZXhwb3J0IGludGVyZmFjZSBJbnN0YW5jZVJlc3VsdFN0YXRzIHtcbiAgc3VpdGVzOiBudW1iZXI7XG4gIHRlc3RzOiBudW1iZXI7XG4gIHBhc3NlczogbnVtYmVyO1xuICBwZW5kaW5nOiBudW1iZXI7XG4gIHNraXBwZWQ6IG51bWJlcjtcbiAgZmFpbHVyZXM6IG51bWJlcjtcbiAgd2FsbENsb2NrU3RhcnRlZEF0OiBzdHJpbmc7XG4gIHdhbGxDbG9ja0VuZGVkQXQ6IHN0cmluZztcbiAgd2FsbENsb2NrRHVyYXRpb246IG51bWJlcjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBSZXBvcnRlclN0YXRzIHtcbiAgc3VpdGVzOiBudW1iZXI7XG4gIHRlc3RzOiBudW1iZXI7XG4gIHBhc3NlczogbnVtYmVyO1xuICBwZW5kaW5nOiBudW1iZXI7XG4gIGZhaWx1cmVzOiBudW1iZXI7XG4gIHN0YXJ0OiBzdHJpbmc7XG4gIGVuZDogc3RyaW5nO1xuICBkdXJhdGlvbjogbnVtYmVyO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEN5cHJlc3NDb25maWcge1xuICB2aWRlbzogYm9vbGVhbjtcbiAgdmlkZW9VcGxvYWRPblBhc3NlczogYm9vbGVhbjtcbiAgW2tleTogc3RyaW5nXTogYW55O1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEluc3RhbmNlUmVzdWx0IHtcbiAgc3RhdHM6IEluc3RhbmNlUmVzdWx0U3RhdHM7XG4gIHRlc3RzOiBUZXN0W107XG4gIGVycm9yPzogc3RyaW5nO1xuICByZXBvcnRlclN0YXRzOiBSZXBvcnRlclN0YXRzO1xuICBleGNlcHRpb246IG51bGwgfCBzdHJpbmc7XG4gIGN5cHJlc3NDb25maWc/OiBQaWNrZWRDeXByZXNzQ29uZmlnIHwgbnVsbDtcbiAgc2NyZWVuc2hvdHM6IFNjcmVlbnNob3RbXTtcbiAgdmlkZW86IGJvb2xlYW47XG4gIHZpZGVvVXJsPzogc3RyaW5nO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEFzc2V0VXBsb2FkSW5zdHJ1Y3Rpb24ge1xuICB1cGxvYWRVcmw6IHN0cmluZztcbiAgcmVhZFVybDogc3RyaW5nO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFNjcmVlbnNob3RVcGxvYWRJbnN0cnVjdGlvbiBleHRlbmRzIEFzc2V0VXBsb2FkSW5zdHJ1Y3Rpb24ge1xuICBzY3JlZW5zaG90SWQ6IHN0cmluZztcbn1cblxuZXhwb3J0IHR5cGUgU2V0UmVzdWx0c1Rlc3RzUGF5bG9hZCA9IFBpY2s8XG4gIFRlc3QsXG4gIFwic3RhdGVcIiB8IFwiZGlzcGxheUVycm9yXCIgfCBcImF0dGVtcHRzXCJcbj4gJiB7IGNsaWVudElkOiBzdHJpbmcgfTtcblxuZXhwb3J0IGludGVyZmFjZSBTZXRJbnN0YW5jZVRlc3RzUGF5bG9hZCB7XG4gIGNvbmZpZzogUGlja2VkQ3lwcmVzc0NvbmZpZztcbiAgdGVzdHM6IEFycmF5PFNldFRlc3RzUGF5bG9hZD47XG4gIGhvb2tzOiBDeXByZXNzQ29tbWFuZExpbmUuUnVuUmVzdWx0W1wiaG9va3NcIl07XG59XG5cbmV4cG9ydCB0eXBlIFBpY2tlZEN5cHJlc3NDb25maWcgPSBQaWNrPFxuICBDeXByZXNzQ29uZmlnLFxuICBcInZpZGVvXCIgfCBcInZpZGVvVXBsb2FkT25QYXNzZXNcIlxuPjtcblxuZXhwb3J0IHR5cGUgQ3JlYXRlSW5zdGFuY2VQYXlsb2FkID0ge1xuICBydW5JZDogc3RyaW5nO1xuICBncm91cElkOiBzdHJpbmc7XG4gIG1hY2hpbmVJZDogc3RyaW5nO1xuICBwbGF0Zm9ybTogUGxhdGZvcm07XG59O1xuXG5leHBvcnQgdHlwZSBDcmVhdGVJbnN0YW5jZUN5UGF5bG9hZCA9IENyZWF0ZUluc3RhbmNlUGF5bG9hZCAmIHtcbiAgYmF0Y2hTaXplOiBudW1iZXI7XG59O1xuZXhwb3J0IHR5cGUgQ3JlYXRlSW5zdGFuY2VSZXNwb25zZSA9IHtcbiAgc3BlYzogc3RyaW5nIHwgbnVsbDtcbiAgaW5zdGFuY2VJZDogc3RyaW5nIHwgbnVsbDtcbiAgY2xhaW1lZEluc3RhbmNlczogbnVtYmVyO1xuICB0b3RhbEluc3RhbmNlczogbnVtYmVyO1xufTtcblxuZXhwb3J0IHR5cGUgSW5zdGFuY2VSZXNwb25zZVNwZWNEZXRhaWxzID0ge1xuICBzcGVjOiBzdHJpbmc7XG4gIGluc3RhbmNlSWQ6IHN0cmluZztcbn07XG5leHBvcnQgdHlwZSBDcmVhdGVJbnN0YW5jZXNSZXNwb25zZSA9IHtcbiAgc3BlY3M6IEFycmF5PEluc3RhbmNlUmVzcG9uc2VTcGVjRGV0YWlscz47XG4gIGNsYWltZWRJbnN0YW5jZXM6IG51bWJlcjtcbiAgdG90YWxJbnN0YW5jZXM6IG51bWJlcjtcbn07XG5cbmV4cG9ydCB0eXBlIFVwZGF0ZUluc3RhbmNlUmVzdWx0c1BheWxvYWQgPSBQaWNrPFxuICBJbnN0YW5jZVJlc3VsdCxcbiAgXCJzdGF0c1wiIHwgXCJleGNlcHRpb25cIiB8IFwidmlkZW9cIlxuPiAmIHtcbiAgdGVzdHM6IEFycmF5PFNldFJlc3VsdHNUZXN0c1BheWxvYWQ+IHwgbnVsbDtcbn0gJiB7XG4gIHJlcG9ydGVyU3RhdHM6IEN5cHJlc3NDb21tYW5kTGluZS5SdW5SZXN1bHRbXCJyZXBvcnRlclN0YXRzXCJdIHwgbnVsbDtcbn0gJiB7XG4gIHNjcmVlbnNob3RzOiBTY3JlZW5zaG90QXJ0aWZhY3RbXTtcbn07XG5cbmV4cG9ydCB0eXBlIFVwZGF0ZUluc3RhbmNlUmVzdWx0c01lcmdlZFBheWxvYWQgPSB7XG4gIHRlc3RzOiBTZXRJbnN0YW5jZVRlc3RzUGF5bG9hZDtcbiAgcmVzdWx0czogVXBkYXRlSW5zdGFuY2VSZXN1bHRzUGF5bG9hZDtcbn07XG5cbmV4cG9ydCBpbnRlcmZhY2UgVXBkYXRlSW5zdGFuY2VSZXN1bHRzUmVzcG9uc2Uge1xuICB2aWRlb1VwbG9hZFVybD86IHN0cmluZyB8IG51bGw7XG4gIHNjcmVlbnNob3RVcGxvYWRVcmxzOiBTY3JlZW5zaG90VXBsb2FkSW5zdHJ1Y3Rpb25bXTtcbn1cbiIsICJpbXBvcnQgeyBDaVBhcmFtcywgQ2lQcm92aWRlciB9IGZyb20gXCJjeXByZXNzLWNsb3VkL2xpYi9jaVByb3ZpZGVyXCI7XG5pbXBvcnQgeyBQbGF0Zm9ybSB9IGZyb20gXCJjeXByZXNzLWNsb3VkL3R5cGVzXCI7XG5cbmV4cG9ydCB0eXBlIENyZWF0ZVJ1blBheWxvYWQgPSB7XG4gIGNpOiB7XG4gICAgcGFyYW1zOiBDaVBhcmFtcztcbiAgICBwcm92aWRlcjogQ2lQcm92aWRlcjtcbiAgfTtcbiAgY2lCdWlsZElkPzogc3RyaW5nO1xuICBwcm9qZWN0SWQ6IHN0cmluZztcbiAgcmVjb3JkS2V5OiBzdHJpbmc7XG4gIGNvbW1pdDoge1xuICAgIFttZW1vS2V5OiBzdHJpbmddOiBzdHJpbmcgfCBudWxsO1xuICB9O1xuICBzcGVjczogc3RyaW5nW107XG4gIGdyb3VwPzogc3RyaW5nO1xuICBwbGF0Zm9ybTogUGxhdGZvcm07XG4gIHBhcmFsbGVsOiBib29sZWFuO1xuICBzcGVjUGF0dGVybjogc3RyaW5nW107XG4gIHRhZ3M/OiBzdHJpbmdbXTtcbiAgdGVzdGluZ1R5cGU6IFwiZTJlXCIgfCBcImNvbXBvbmVudFwiO1xuICB0aW1lb3V0PzogbnVtYmVyO1xuICBiYXRjaFNpemU/OiBudW1iZXI7XG59O1xuXG5leHBvcnQgdHlwZSBDbG91ZFdhcm5pbmcgPSB7XG4gIG1lc3NhZ2U6IHN0cmluZztcbiAgW2tleTogc3RyaW5nXTogc3RyaW5nIHwgbnVtYmVyIHwgRGF0ZTtcbn07XG5cbmV4cG9ydCB0eXBlIENyZWF0ZVJ1blJlc3BvbnNlID0ge1xuICB3YXJuaW5nczogQ2xvdWRXYXJuaW5nW107XG4gIGdyb3VwSWQ6IHN0cmluZztcbiAgbWFjaGluZUlkOiBzdHJpbmc7XG4gIHJ1bklkOiBzdHJpbmc7XG4gIHJ1blVybDogc3RyaW5nO1xuICBpc05ld1J1bjogYm9vbGVhbjtcbn07XG4iLCAiZXhwb3J0IGVudW0gVGVzdFN0YXRlIHtcbiAgRmFpbGVkID0gXCJmYWlsZWRcIixcbiAgUGFzc2VkID0gXCJwYXNzZWRcIixcbiAgUGVuZGluZyA9IFwicGVuZGluZ1wiLFxuICBTa2lwcGVkID0gXCJza2lwcGVkXCIsXG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgVGVzdEF0dGVtcHQge1xuICBzdGF0ZTogVGVzdFN0YXRlO1xuICBlcnJvcjogQ3lwcmVzc0NvbW1hbmRMaW5lLlRlc3RFcnJvciB8IG51bGw7XG4gIHdhbGxDbG9ja1N0YXJ0ZWRBdDogc3RyaW5nIHwgbnVsbDtcbiAgd2FsbENsb2NrRHVyYXRpb246IG51bWJlciB8IG51bGw7XG4gIHZpZGVvVGltZXN0YW1wOiBudW1iZXIgfCBudWxsO1xufVxuXG5pbnRlcmZhY2UgVGVzdENvbmZpZyB7XG4gIHJldHJpZXM6XG4gICAgfCB7XG4gICAgICAgIG9wZW5Nb2RlOiBudW1iZXI7XG4gICAgICAgIHJ1bk1vZGU6IG51bWJlcjtcbiAgICAgIH1cbiAgICB8IG51bWJlcjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBUZXN0SG9vayB7XG4gIGNsaWVudElkOiBzdHJpbmc7XG4gIHR5cGU6IFwiYmVmb3JlIGVhY2hcIjtcbiAgdGl0bGU6IHN0cmluZ1tdO1xuICBib2R5OiBzdHJpbmc7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgVGVzdCB7XG4gIHN0YXRlOiBUZXN0U3RhdGU7XG4gIHRlc3RJZDogc3RyaW5nO1xuICBkaXNwbGF5RXJyb3I6IHN0cmluZyB8IG51bGw7XG4gIHRpdGxlOiBzdHJpbmdbXTtcbiAgY29uZmlnPzogbnVsbCB8IFRlc3RDb25maWc7XG4gIGhvb2tJZHM6IHN0cmluZ1tdO1xuICBib2R5OiBzdHJpbmc7XG4gIGF0dGVtcHRzOiBUZXN0QXR0ZW1wdFtdO1xuICBob29rczogVGVzdEhvb2tbXSB8IG51bGw7XG59XG5cbmV4cG9ydCB0eXBlIFNldFRlc3RzUGF5bG9hZCA9IFBpY2s8XG4gIFRlc3QsXG4gIFwiYm9keVwiIHwgXCJ0aXRsZVwiIHwgXCJjb25maWdcIiB8IFwiaG9va0lkc1wiXG4+ICYgeyBjbGllbnRJZDogc3RyaW5nIH07XG4iLCAiaW1wb3J0IGRlYnVnRm4gZnJvbSBcImRlYnVnXCI7XG5cbmltcG9ydCBfIGZyb20gXCJsb2Rhc2hcIjtcbmltcG9ydCB7IFZhbGlkYXRpb25FcnJvciB9IGZyb20gXCIuL2Vycm9yc1wiO1xuXG5jb25zdCBkZWJ1ZyA9IGRlYnVnRm4oXCJjdXJyZW50czpjaVwiKTtcblxuY29uc3Qgam9pbiA9IChjaGFyOiBzdHJpbmcsIC4uLnBpZWNlczogKHN0cmluZyB8IHVuZGVmaW5lZClbXSkgPT4ge1xuICByZXR1cm4gXy5jaGFpbihwaWVjZXMpLmNvbXBhY3QoKS5qb2luKGNoYXIpLnZhbHVlKCk7XG59O1xuXG5jb25zdCB0b0NhbWVsT2JqZWN0ID0gKG9iajogYW55LCBrZXk6IHN0cmluZykgPT4ge1xuICByZXR1cm4gXy5zZXQob2JqLCBfLmNhbWVsQ2FzZShrZXkpLCBwcm9jZXNzLmVudltrZXldKTtcbn07XG5cbmNvbnN0IGV4dHJhY3QgPSAoZW52S2V5czogc3RyaW5nW10pID0+IHtcbiAgcmV0dXJuIF8udHJhbnNmb3JtKGVudktleXMsIHRvQ2FtZWxPYmplY3QsIHt9KTtcbn07XG5cbi8qKlxuICogUmV0dXJucyB0cnVlIGlmIHJ1bm5pbmcgb24gVGVhbUZvdW5kYXRpb24gc2VydmVyLlxuICogQHNlZSBodHRwczovL3RlY2huZXQubWljcm9zb2Z0LmNvbS9lbi11cy9oaDg1MDQ0OCh2PXZzLjkyKVxuICovXG5jb25zdCBpc1RlYW1Gb3VuZGF0aW9uID0gKCkgPT4ge1xuICByZXR1cm4gcHJvY2Vzcy5lbnYuVEZfQlVJTEQgJiYgcHJvY2Vzcy5lbnYuVEZfQlVJTERfQlVJTEROVU1CRVI7XG59O1xuXG4vKipcbiAqIFJldHVybnMgdHJ1ZSBpZiBydW5uaW5nIG9uIEF6dXJlIENJIHBpcGVsaW5lLlxuICogU2VlIGVudmlyb25tZW50IHZhcmlhYmxlcyBpbiB0aGUgaXNzdWUgIzM2NTdcbiAqIEBzZWUgaHR0cHM6Ly9naXRodWIuY29tL2N5cHJlc3MtaW8vY3lwcmVzcy9pc3N1ZXMvMzY1N1xuICovXG5jb25zdCBpc0F6dXJlQ2kgPSAoKSA9PiB7XG4gIHJldHVybiBwcm9jZXNzLmVudi5URl9CVUlMRCAmJiBwcm9jZXNzLmVudi5BWlVSRV9IVFRQX1VTRVJfQUdFTlQ7XG59O1xuXG5jb25zdCBpc0FXU0NvZGVCdWlsZCA9ICgpID0+IHtcbiAgcmV0dXJuIF8uc29tZShwcm9jZXNzLmVudiwgKHZhbCwga2V5KSA9PiB7XG4gICAgcmV0dXJuIC9eQ09ERUJVSUxEXy8udGVzdChrZXkpO1xuICB9KTtcbn07XG5cbmNvbnN0IGlzQmFtYm9vID0gKCkgPT4ge1xuICByZXR1cm4gcHJvY2Vzcy5lbnYuYmFtYm9vX2J1aWxkTnVtYmVyO1xufTtcblxuY29uc3QgaXNDb2Rlc2hpcEJhc2ljID0gKCkgPT4ge1xuICByZXR1cm4gKFxuICAgIHByb2Nlc3MuZW52LkNJX05BTUUgJiZcbiAgICBwcm9jZXNzLmVudi5DSV9OQU1FID09PSBcImNvZGVzaGlwXCIgJiZcbiAgICBwcm9jZXNzLmVudi5DT0RFU0hJUFxuICApO1xufTtcblxuY29uc3QgaXNDb2Rlc2hpcFBybyA9ICgpID0+IHtcbiAgcmV0dXJuIChcbiAgICBwcm9jZXNzLmVudi5DSV9OQU1FICYmXG4gICAgcHJvY2Vzcy5lbnYuQ0lfTkFNRSA9PT0gXCJjb2Rlc2hpcFwiICYmXG4gICAgIXByb2Nlc3MuZW52LkNPREVTSElQXG4gICk7XG59O1xuXG5jb25zdCBpc0NvbmNvdXJzZSA9ICgpID0+IHtcbiAgcmV0dXJuIF8uc29tZShwcm9jZXNzLmVudiwgKHZhbCwga2V5KSA9PiB7XG4gICAgcmV0dXJuIC9eQ09OQ09VUlNFXy8udGVzdChrZXkpO1xuICB9KTtcbn07XG5cbmNvbnN0IGlzR2l0bGFiID0gKCkgPT4ge1xuICByZXR1cm4gKFxuICAgIHByb2Nlc3MuZW52LkdJVExBQl9DSSB8fFxuICAgIChwcm9jZXNzLmVudi5DSV9TRVJWRVJfTkFNRSAmJiAvXkdpdExhYi8udGVzdChwcm9jZXNzLmVudi5DSV9TRVJWRVJfTkFNRSkpXG4gICk7XG59O1xuXG5jb25zdCBpc0dvb2dsZUNsb3VkID0gKCkgPT4ge1xuICAvLyBzZXQgYXV0b21hdGljYWxseSBmb3IgdGhlIE5vZGUuanMgNiwgTm9kZS5qcyA4IHJ1bnRpbWVzIChub3QgaW4gTm9kZSAxMClcbiAgLy8gVE9ETzogbWF5IGFsc28gcG90ZW50aWFsbHkgaGF2ZSBYX0dPT0dMRV8qIGVudiB2YXIgc2V0XG4gIC8vIGh0dHBzOi8vY2xvdWQuZ29vZ2xlLmNvbS9mdW5jdGlvbnMvZG9jcy9lbnYtdmFyI2Vudmlyb25tZW50X3ZhcmlhYmxlc19zZXRfYXV0b21hdGljYWxseVxuICByZXR1cm4gKFxuICAgIHByb2Nlc3MuZW52LkdDUF9QUk9KRUNUIHx8XG4gICAgcHJvY2Vzcy5lbnYuR0NMT1VEX1BST0pFQ1QgfHxcbiAgICBwcm9jZXNzLmVudi5HT09HTEVfQ0xPVURfUFJPSkVDVFxuICApO1xufTtcblxuY29uc3QgaXNKZW5raW5zID0gKCkgPT4ge1xuICByZXR1cm4gKFxuICAgIHByb2Nlc3MuZW52LkpFTktJTlNfVVJMIHx8XG4gICAgcHJvY2Vzcy5lbnYuSkVOS0lOU19IT01FIHx8XG4gICAgcHJvY2Vzcy5lbnYuSkVOS0lOU19WRVJTSU9OIHx8XG4gICAgcHJvY2Vzcy5lbnYuSFVEU09OX1VSTCB8fFxuICAgIHByb2Nlc3MuZW52LkhVRFNPTl9IT01FXG4gICk7XG59O1xuXG5jb25zdCBpc1dlcmNrZXIgPSAoKSA9PiB7XG4gIHJldHVybiBwcm9jZXNzLmVudi5XRVJDS0VSIHx8IHByb2Nlc3MuZW52LldFUkNLRVJfTUFJTl9QSVBFTElORV9TVEFSVEVEO1xufTtcblxuLyoqXG4gKiBXZSBkZXRlY3QgQ0kgcHJvdmlkZXJzIGJ5IGRldGVjdGluZyBhbiBlbnZpcm9ubWVudCB2YXJpYWJsZVxuICogdW5pcXVlIHRvIHRoZSBwcm92aWRlciwgb3IgYnkgY2FsbGluZyBhIGZ1bmN0aW9uIHRoYXQgcmV0dXJucyB0cnVlXG4gKiBmb3IgdGhhdCBwcm92aWRlci5cbiAqXG4gKiBGb3IgZXhhbXBsZSwgQXBwVmV5b3IgQ0kgaGFzIGVudmlyb25tZW50IHRoZVxuICogdmFyaWFibGUgXCJBUFBWRVlPUlwiIHNldCBkdXJpbmcgcnVuXG4gKi9cbmNvbnN0IENJX1BST1ZJREVSUyA9IHtcbiAgYXBwdmV5b3I6IFwiQVBQVkVZT1JcIixcbiAgYXp1cmU6IGlzQXp1cmVDaSxcbiAgYXdzQ29kZUJ1aWxkOiBpc0FXU0NvZGVCdWlsZCxcbiAgYmFtYm9vOiBpc0JhbWJvbyxcbiAgYml0YnVja2V0OiBcIkJJVEJVQ0tFVF9CVUlMRF9OVU1CRVJcIixcbiAgYnVpbGRraXRlOiBcIkJVSUxES0lURVwiLFxuICBjaXJjbGU6IFwiQ0lSQ0xFQ0lcIixcbiAgY29kZXNoaXBCYXNpYzogaXNDb2Rlc2hpcEJhc2ljLFxuICBjb2Rlc2hpcFBybzogaXNDb2Rlc2hpcFBybyxcbiAgY29uY291cnNlOiBpc0NvbmNvdXJzZSxcbiAgY29kZUZyZXNoOiBcIkNGX0JVSUxEX0lEXCIsXG4gIGRyb25lOiBcIkRST05FXCIsXG4gIGdpdGh1YkFjdGlvbnM6IFwiR0lUSFVCX0FDVElPTlNcIixcbiAgZ2l0bGFiOiBpc0dpdGxhYixcbiAgZ29DRDogXCJHT19KT0JfTkFNRVwiLFxuICBnb29nbGVDbG91ZDogaXNHb29nbGVDbG91ZCxcbiAgamVua2luczogaXNKZW5raW5zLFxuICBzZW1hcGhvcmU6IFwiU0VNQVBIT1JFXCIsXG4gIHNoaXBwYWJsZTogXCJTSElQUEFCTEVcIixcbiAgdGVhbWNpdHk6IFwiVEVBTUNJVFlfVkVSU0lPTlwiLFxuICB0ZWFtZm91bmRhdGlvbjogaXNUZWFtRm91bmRhdGlvbixcbiAgdHJhdmlzOiBcIlRSQVZJU1wiLFxuICB3ZXJja2VyOiBpc1dlcmNrZXIsXG4gIG5ldGxpZnk6IFwiTkVUTElGWVwiLFxuICBsYXllcmNpOiBcIkxBWUVSQ0lcIixcbn07XG5cbmZ1bmN0aW9uIF9kZXRlY3RQcm92aWRlck5hbWUoKTogc3RyaW5nIHwgdW5kZWZpbmVkIHtcbiAgY29uc3QgeyBlbnYgfSA9IHByb2Nlc3M7XG4gIC8vIHJldHVybiB0aGUga2V5IG9mIHRoZSBmaXJzdCBwcm92aWRlclxuICAvLyB3aGljaCBpcyB0cnV0aHlcblxuICByZXR1cm4gXy5maW5kS2V5KENJX1BST1ZJREVSUywgKHZhbHVlKSA9PiB7XG4gICAgaWYgKF8uaXNTdHJpbmcodmFsdWUpKSB7XG4gICAgICByZXR1cm4gZW52W3ZhbHVlXTtcbiAgICB9XG5cbiAgICBpZiAoXy5pc0Z1bmN0aW9uKHZhbHVlKSkge1xuICAgICAgcmV0dXJuIHZhbHVlKCk7XG4gICAgfVxuICB9KTtcbn1cblxuLy8gVE9ETzogZG9uJ3QgZm9yIGFib3V0IGJ1aWxkTnVtYmVyIVxuLy8gbG9vayBhdCB0aGUgb2xkIGNvbW1pdCB0aGF0IHdhcyByZW1vdmVkIHRvIHNlZSBob3cgd2UgZGlkIGl0XG5jb25zdCBfcHJvdmlkZXJDaVBhcmFtcyA9ICgpOiBQcm92aWRlckNpUGFyYW1zUmVzID0+IHtcbiAgcmV0dXJuIHtcbiAgICBhcHB2ZXlvcjogZXh0cmFjdChbXG4gICAgICBcIkFQUFZFWU9SX0pPQl9JRFwiLFxuICAgICAgXCJBUFBWRVlPUl9BQ0NPVU5UX05BTUVcIixcbiAgICAgIFwiQVBQVkVZT1JfUFJPSkVDVF9TTFVHXCIsXG4gICAgICBcIkFQUFZFWU9SX0JVSUxEX05VTUJFUlwiLFxuICAgICAgXCJBUFBWRVlPUl9CVUlMRF9WRVJTSU9OXCIsXG4gICAgICBcIkFQUFZFWU9SX1BVTExfUkVRVUVTVF9OVU1CRVJcIixcbiAgICAgIFwiQVBQVkVZT1JfUFVMTF9SRVFVRVNUX0hFQURfUkVQT19CUkFOQ0hcIixcbiAgICBdKSxcbiAgICBhenVyZTogZXh0cmFjdChbXG4gICAgICBcIkJVSUxEX0JVSUxESURcIixcbiAgICAgIFwiQlVJTERfQlVJTEROVU1CRVJcIixcbiAgICAgIFwiQlVJTERfQ09OVEFJTkVSSURcIixcbiAgICAgIFwiQlVJTERfUkVQT1NJVE9SWV9VUklcIixcbiAgICBdKSxcbiAgICBhd3NDb2RlQnVpbGQ6IGV4dHJhY3QoW1xuICAgICAgXCJDT0RFQlVJTERfQlVJTERfSURcIixcbiAgICAgIFwiQ09ERUJVSUxEX0JVSUxEX05VTUJFUlwiLFxuICAgICAgXCJDT0RFQlVJTERfUkVTT0xWRURfU09VUkNFX1ZFUlNJT05cIixcbiAgICAgIFwiQ09ERUJVSUxEX1NPVVJDRV9SRVBPX1VSTFwiLFxuICAgICAgXCJDT0RFQlVJTERfU09VUkNFX1ZFUlNJT05cIixcbiAgICBdKSxcbiAgICBiYW1ib286IGV4dHJhY3QoW1xuICAgICAgXCJiYW1ib29fYnVpbGROdW1iZXJcIixcbiAgICAgIFwiYmFtYm9vX2J1aWxkUmVzdWx0c1VybFwiLFxuICAgICAgXCJiYW1ib29fcGxhblJlcG9zaXRvcnlfcmVwb3NpdG9yeVVybFwiLFxuICAgICAgXCJiYW1ib29fYnVpbGRLZXlcIixcbiAgICBdKSxcbiAgICBiaXRidWNrZXQ6IGV4dHJhY3QoW1xuICAgICAgXCJCSVRCVUNLRVRfUkVQT19TTFVHXCIsXG4gICAgICBcIkJJVEJVQ0tFVF9SRVBPX09XTkVSXCIsXG4gICAgICBcIkJJVEJVQ0tFVF9CVUlMRF9OVU1CRVJcIixcbiAgICAgIFwiQklUQlVDS0VUX1BBUkFMTEVMX1NURVBcIixcbiAgICAgIFwiQklUQlVDS0VUX1NURVBfUlVOX05VTUJFUlwiLFxuICAgICAgLy8gdGhlIFBSIHZhcmlhYmxlcyBhcmUgb25seSBzZXQgb24gcHVsbCByZXF1ZXN0IGJ1aWxkc1xuICAgICAgXCJCSVRCVUNLRVRfUFJfSURcIixcbiAgICAgIFwiQklUQlVDS0VUX1BSX0RFU1RJTkFUSU9OX0JSQU5DSFwiLFxuICAgICAgXCJCSVRCVUNLRVRfUFJfREVTVElOQVRJT05fQ09NTUlUXCIsXG4gICAgXSksXG4gICAgYnVpbGRraXRlOiBleHRyYWN0KFtcbiAgICAgIFwiQlVJTERLSVRFX1JFUE9cIixcbiAgICAgIFwiQlVJTERLSVRFX1NPVVJDRVwiLFxuICAgICAgXCJCVUlMREtJVEVfSk9CX0lEXCIsXG4gICAgICBcIkJVSUxES0lURV9CVUlMRF9JRFwiLFxuICAgICAgXCJCVUlMREtJVEVfQlVJTERfVVJMXCIsXG4gICAgICBcIkJVSUxES0lURV9CVUlMRF9OVU1CRVJcIixcbiAgICAgIFwiQlVJTERLSVRFX1BVTExfUkVRVUVTVFwiLFxuICAgICAgXCJCVUlMREtJVEVfUFVMTF9SRVFVRVNUX1JFUE9cIixcbiAgICAgIFwiQlVJTERLSVRFX1BVTExfUkVRVUVTVF9CQVNFX0JSQU5DSFwiLFxuICAgIF0pLFxuICAgIGNpcmNsZTogZXh0cmFjdChbXG4gICAgICBcIkNJUkNMRV9KT0JcIixcbiAgICAgIFwiQ0lSQ0xFX0JVSUxEX05VTVwiLFxuICAgICAgXCJDSVJDTEVfQlVJTERfVVJMXCIsXG4gICAgICBcIkNJUkNMRV9QUl9OVU1CRVJcIixcbiAgICAgIFwiQ0lSQ0xFX1BSX1JFUE9OQU1FXCIsXG4gICAgICBcIkNJUkNMRV9QUl9VU0VSTkFNRVwiLFxuICAgICAgXCJDSVJDTEVfQ09NUEFSRV9VUkxcIixcbiAgICAgIFwiQ0lSQ0xFX1dPUktGTE9XX0lEXCIsXG4gICAgICBcIkNJUkNMRV9QVUxMX1JFUVVFU1RcIixcbiAgICAgIFwiQ0lSQ0xFX1JFUE9TSVRPUllfVVJMXCIsXG4gICAgICBcIkNJX1BVTExfUkVRVUVTVFwiLFxuICAgIF0pLFxuICAgIGNvZGVzaGlwQmFzaWM6IGV4dHJhY3QoW1xuICAgICAgXCJDSV9CVUlMRF9JRFwiLFxuICAgICAgXCJDSV9SRVBPX05BTUVcIixcbiAgICAgIFwiQ0lfQlVJTERfVVJMXCIsXG4gICAgICBcIkNJX1BST0pFQ1RfSURcIixcbiAgICAgIFwiQ0lfQlVJTERfTlVNQkVSXCIsXG4gICAgICBcIkNJX1BVTExfUkVRVUVTVFwiLFxuICAgIF0pLFxuICAgIC8vIENvZGVzaGlwUHJvIHByb3ZpZGVzIHZlcnkgZmV3IENJIHZhcmlhYmxlc1xuICAgIC8vIGh0dHBzOi8vZG9jdW1lbnRhdGlvbi5jb2Rlc2hpcC5jb20vcHJvL2J1aWxkcy1hbmQtY29uZmlndXJhdGlvbi9lbnZpcm9ubWVudC12YXJpYWJsZXMvXG4gICAgY29kZXNoaXBQcm86IGV4dHJhY3QoW1wiQ0lfQlVJTERfSURcIiwgXCJDSV9SRVBPX05BTUVcIiwgXCJDSV9QUk9KRUNUX0lEXCJdKSxcbiAgICAvLyBodHRwczovL2NvbmNvdXJzZS1jaS5vcmcvaW1wbGVtZW50aW5nLXJlc291cmNlLXR5cGVzLmh0bWwjcmVzb3VyY2UtbWV0YWRhdGFcbiAgICBjb25jb3Vyc2U6IGV4dHJhY3QoW1xuICAgICAgXCJCVUlMRF9JRFwiLFxuICAgICAgXCJCVUlMRF9OQU1FXCIsXG4gICAgICBcIkJVSUxEX0pPQl9OQU1FXCIsXG4gICAgICBcIkJVSUxEX1BJUEVMSU5FX05BTUVcIixcbiAgICAgIFwiQlVJTERfVEVBTV9OQU1FXCIsXG4gICAgICBcIkFUQ19FWFRFUk5BTF9VUkxcIixcbiAgICBdKSxcbiAgICAvLyBodHRwczovL2NvZGVmcmVzaC5pby9kb2NzL2RvY3MvY29kZWZyZXNoLXlhbWwvdmFyaWFibGVzL1xuICAgIGNvZGVGcmVzaDogZXh0cmFjdChbXG4gICAgICBcIkNGX0JVSUxEX0lEXCIsXG4gICAgICBcIkNGX0JVSUxEX1VSTFwiLFxuICAgICAgXCJDRl9DVVJSRU5UX0FUVEVNUFRcIixcbiAgICAgIFwiQ0ZfU1RFUF9OQU1FXCIsXG4gICAgICBcIkNGX1BJUEVMSU5FX05BTUVcIixcbiAgICAgIFwiQ0ZfUElQRUxJTkVfVFJJR0dFUl9JRFwiLFxuICAgICAgLy8gdmFyaWFibGVzIGFkZGVkIGZvciBwdWxsIHJlcXVlc3RzXG4gICAgICBcIkNGX1BVTExfUkVRVUVTVF9JRFwiLFxuICAgICAgXCJDRl9QVUxMX1JFUVVFU1RfSVNfRk9SS1wiLFxuICAgICAgXCJDRl9QVUxMX1JFUVVFU1RfTlVNQkVSXCIsXG4gICAgICBcIkNGX1BVTExfUkVRVUVTVF9UQVJHRVRcIixcbiAgICBdKSxcbiAgICBkcm9uZTogZXh0cmFjdChbXG4gICAgICBcIkRST05FX0pPQl9OVU1CRVJcIixcbiAgICAgIFwiRFJPTkVfQlVJTERfTElOS1wiLFxuICAgICAgXCJEUk9ORV9CVUlMRF9OVU1CRVJcIixcbiAgICAgIFwiRFJPTkVfUFVMTF9SRVFVRVNUXCIsXG4gICAgXSksXG4gICAgLy8gaHR0cHM6Ly9oZWxwLmdpdGh1Yi5jb20vZW4vYWN0aW9ucy9hdXRvbWF0aW5nLXlvdXItd29ya2Zsb3ctd2l0aC1naXRodWItYWN0aW9ucy91c2luZy1lbnZpcm9ubWVudC12YXJpYWJsZXMjZGVmYXVsdC1lbnZpcm9ubWVudC12YXJpYWJsZXNcbiAgICBnaXRodWJBY3Rpb25zOiBleHRyYWN0KFtcbiAgICAgIFwiR0lUSFVCX1dPUktGTE9XXCIsXG4gICAgICBcIkdJVEhVQl9BQ1RJT05cIixcbiAgICAgIFwiR0lUSFVCX0VWRU5UX05BTUVcIixcbiAgICAgIFwiR0lUSFVCX1JVTl9JRFwiLFxuICAgICAgXCJHSVRIVUJfUlVOX0FUVEVNUFRcIixcbiAgICAgIFwiR0lUSFVCX1JFUE9TSVRPUllcIixcbiAgICBdKSxcbiAgICAvLyBzZWUgaHR0cHM6Ly9kb2NzLmdpdGxhYi5jb20vZWUvY2kvdmFyaWFibGVzL1xuICAgIGdpdGxhYjogZXh0cmFjdChbXG4gICAgICAvLyBwaXBlbGluZSBpcyBjb21tb24gYW1vbmcgYWxsIGpvYnNcbiAgICAgIFwiQ0lfUElQRUxJTkVfSURcIixcbiAgICAgIFwiQ0lfUElQRUxJTkVfVVJMXCIsXG4gICAgICAvLyBpbmRpdmlkdWFsIGpvYnNcbiAgICAgIFwiQ0lfQlVJTERfSURcIiwgLy8gYnVpbGQgaWQgYW5kIGpvYiBpZCBhcmUgYWxpYXNlc1xuICAgICAgXCJDSV9KT0JfSURcIixcbiAgICAgIFwiQ0lfSk9CX1VSTFwiLFxuICAgICAgXCJDSV9KT0JfTkFNRVwiLFxuICAgICAgLy8gb3RoZXIgaW5mb3JtYXRpb25cbiAgICAgIFwiR0lUTEFCX0hPU1RcIixcbiAgICAgIFwiQ0lfUFJPSkVDVF9JRFwiLFxuICAgICAgXCJDSV9QUk9KRUNUX1VSTFwiLFxuICAgICAgXCJDSV9SRVBPU0lUT1JZX1VSTFwiLFxuICAgICAgXCJDSV9FTlZJUk9OTUVOVF9VUkxcIixcbiAgICAgIFwiQ0lfREVGQVVMVF9CUkFOQ0hcIixcbiAgICAgIC8vIGZvciBQUnM6IGh0dHBzOi8vZ2l0bGFiLmNvbS9naXRsYWItb3JnL2dpdGxhYi1jZS9pc3N1ZXMvMjM5MDJcbiAgICBdKSxcbiAgICAvLyBodHRwczovL2RvY3MuZ29jZC5vcmcvY3VycmVudC9mYXEvZGV2X3VzZV9jdXJyZW50X3JldmlzaW9uX2luX2J1aWxkLmh0bWwjc3RhbmRhcmQtZ29jZC1lbnZpcm9ubWVudC12YXJpYWJsZXNcbiAgICBnb0NEOiBleHRyYWN0KFtcbiAgICAgIFwiR09fU0VSVkVSX1VSTFwiLFxuICAgICAgXCJHT19FTlZJUk9OTUVOVF9OQU1FXCIsXG4gICAgICBcIkdPX1BJUEVMSU5FX05BTUVcIixcbiAgICAgIFwiR09fUElQRUxJTkVfQ09VTlRFUlwiLFxuICAgICAgXCJHT19QSVBFTElORV9MQUJFTFwiLFxuICAgICAgXCJHT19TVEFHRV9OQU1FXCIsXG4gICAgICBcIkdPX1NUQUdFX0NPVU5URVJcIixcbiAgICAgIFwiR09fSk9CX05BTUVcIixcbiAgICAgIFwiR09fVFJJR0dFUl9VU0VSXCIsXG4gICAgICBcIkdPX1JFVklTSU9OXCIsXG4gICAgICBcIkdPX1RPX1JFVklTSU9OXCIsXG4gICAgICBcIkdPX0ZST01fUkVWSVNJT05cIixcbiAgICAgIFwiR09fTUFURVJJQUxfSEFTX0NIQU5HRURcIixcbiAgICBdKSxcbiAgICBnb29nbGVDbG91ZDogZXh0cmFjdChbXG4gICAgICAvLyBpbmRpdmlkdWFsIGpvYnNcbiAgICAgIFwiQlVJTERfSURcIixcbiAgICAgIFwiUFJPSkVDVF9JRFwiLFxuICAgICAgLy8gb3RoZXIgaW5mb3JtYXRpb25cbiAgICAgIFwiUkVQT19OQU1FXCIsXG4gICAgICBcIkJSQU5DSF9OQU1FXCIsXG4gICAgICBcIlRBR19OQU1FXCIsXG4gICAgICBcIkNPTU1JVF9TSEFcIixcbiAgICAgIFwiU0hPUlRfU0hBXCIsXG4gICAgICAvLyBodHRwczovL2Nsb3VkLmdvb2dsZS5jb20vY2xvdWQtYnVpbGQvZG9jcy9hcGkvcmVmZXJlbmNlL3Jlc3QvU2hhcmVkLlR5cGVzL0J1aWxkXG4gICAgXSksXG4gICAgamVua2luczogZXh0cmFjdChbXCJCVUlMRF9JRFwiLCBcIkJVSUxEX1VSTFwiLCBcIkJVSUxEX05VTUJFUlwiLCBcImdocHJiUHVsbElkXCJdKSxcbiAgICAvLyBodHRwczovL3NlbWFwaG9yZWNpLmNvbS9kb2NzL2F2YWlsYWJsZS1lbnZpcm9ubWVudC12YXJpYWJsZXMuaHRtbFxuICAgIC8vIHNvbWUgY29tZSBmcm9tIHYxLCBzb21lIGZyb20gdjIgb2Ygc2VtYXBob3JlXG4gICAgc2VtYXBob3JlOiBleHRyYWN0KFtcbiAgICAgIFwiU0VNQVBIT1JFX0JSQU5DSF9JRFwiLFxuICAgICAgXCJTRU1BUEhPUkVfQlVJTERfTlVNQkVSXCIsXG4gICAgICBcIlNFTUFQSE9SRV9DVVJSRU5UX0pPQlwiLFxuICAgICAgXCJTRU1BUEhPUkVfQ1VSUkVOVF9USFJFQURcIixcbiAgICAgIFwiU0VNQVBIT1JFX0VYRUNVVEFCTEVfVVVJRFwiLFxuICAgICAgXCJTRU1BUEhPUkVfR0lUX0JSQU5DSFwiLFxuICAgICAgXCJTRU1BUEhPUkVfR0lUX0RJUlwiLFxuICAgICAgXCJTRU1BUEhPUkVfR0lUX1JFRlwiLFxuICAgICAgXCJTRU1BUEhPUkVfR0lUX1JFRl9UWVBFXCIsXG4gICAgICBcIlNFTUFQSE9SRV9HSVRfUkVQT19TTFVHXCIsXG4gICAgICBcIlNFTUFQSE9SRV9HSVRfU0hBXCIsXG4gICAgICBcIlNFTUFQSE9SRV9HSVRfVVJMXCIsXG4gICAgICBcIlNFTUFQSE9SRV9KT0JfQ09VTlRcIixcbiAgICAgIFwiU0VNQVBIT1JFX0pPQl9JRFwiLCAvLyB2MlxuICAgICAgXCJTRU1BUEhPUkVfSk9CX05BTUVcIixcbiAgICAgIFwiU0VNQVBIT1JFX0pPQl9VVUlEXCIsIC8vIHYxXG4gICAgICBcIlNFTUFQSE9SRV9QSVBFTElORV9JRFwiLFxuICAgICAgXCJTRU1BUEhPUkVfUExBVEZPUk1cIixcbiAgICAgIFwiU0VNQVBIT1JFX1BST0pFQ1RfRElSXCIsXG4gICAgICBcIlNFTUFQSE9SRV9QUk9KRUNUX0hBU0hfSURcIixcbiAgICAgIFwiU0VNQVBIT1JFX1BST0pFQ1RfSURcIiwgLy8gdjJcbiAgICAgIFwiU0VNQVBIT1JFX1BST0pFQ1RfTkFNRVwiLFxuICAgICAgXCJTRU1BUEhPUkVfUFJPSkVDVF9VVUlEXCIsIC8vIHYxXG4gICAgICBcIlNFTUFQSE9SRV9SRVBPX1NMVUdcIixcbiAgICAgIFwiU0VNQVBIT1JFX1RSSUdHRVJfU09VUkNFXCIsXG4gICAgICBcIlNFTUFQSE9SRV9XT1JLRkxPV19JRFwiLFxuICAgICAgXCJQVUxMX1JFUVVFU1RfTlVNQkVSXCIsIC8vIHB1bGwgcmVxdWVzdHMgZnJvbSBmb3JrcyBPTkxZXG4gICAgXSksXG4gICAgLy8gc2VlIGh0dHA6Ly9kb2NzLnNoaXBwYWJsZS5jb20vY2kvZW52LXZhcnMvXG4gICAgc2hpcHBhYmxlOiBleHRyYWN0KFtcbiAgICAgIC8vIGJ1aWxkIHZhcmlhYmxlc1xuICAgICAgXCJTSElQUEFCTEVfQlVJTERfSURcIiwgLy8gXCI1YjkzMzU0Y2FiZmFiYjA3MDA3ZjAxZmRcIlxuICAgICAgXCJTSElQUEFCTEVfQlVJTERfTlVNQkVSXCIsIC8vIFwiNFwiXG4gICAgICBcIlNISVBQQUJMRV9DT01NSVRfUkFOR0VcIiwgLy8gXCJzaGExLi4uc2hhMlwiXG4gICAgICBcIlNISVBQQUJMRV9DT05UQUlORVJfTkFNRVwiLCAvLyBcImMuZXhlYy5jeXByZXNzLWV4YW1wbGUta2l0Y2hlbnNpbmsuNC4xXCJcbiAgICAgIFwiU0hJUFBBQkxFX0pPQl9JRFwiLCAvLyBcIjFcIlxuICAgICAgXCJTSElQUEFCTEVfSk9CX05VTUJFUlwiLCAvLyBcIjFcIlxuICAgICAgXCJTSElQUEFCTEVfUkVQT19TTFVHXCIsIC8vIFwiPHVzZXJuYW1lPi88cmVwbz5cIlxuICAgICAgLy8gYWRkaXRpb25hbCBpbmZvcm1hdGlvbiB0aGF0IFNoaXBwYWJsZSBwcm92aWRlc1xuICAgICAgXCJJU19GT1JLXCIsIC8vIFwidHJ1ZVwiXG4gICAgICBcIklTX0dJVF9UQUdcIiwgLy8gXCJmYWxzZVwiXG4gICAgICBcIklTX1BSRVJFTEVBU0VcIiwgLy8gXCJmYWxzZVwiXG4gICAgICBcIklTX1JFTEVBU0VcIiwgLy8gXCJmYWxzZVwiXG4gICAgICBcIlJFUE9TSVRPUllfVVJMXCIsIC8vIFwiaHR0cHM6Ly9naXRodWIuY29tLy4uLi5naXRcIlxuICAgICAgXCJSRVBPX0ZVTExfTkFNRVwiLCAvLyBcIjx1c2VybmFtZT4vPHJlcG8+XCJcbiAgICAgIFwiUkVQT19OQU1FXCIsIC8vIFwiY3lwcmVzcy1leGFtcGxlLWtpdGNoZW5zaW5rXCJcbiAgICAgIFwiQlVJTERfVVJMXCIsIC8vIFwiaHR0cHM6Ly9hcHAuc2hpcHBhYmxlLmNvbS9naXRodWIvPHVzZXJuYW1lPi88cmVwbz4vcnVucy8xXCJcbiAgICAgIC8vIFB1bGwgcmVxdWVzdCBpbmZvcm1hdGlvblxuICAgICAgXCJCQVNFX0JSQU5DSFwiLCAvLyBOYW1lIG9mIHRoZSB0YXJnZXQgYnJhbmNoIGludG8gd2hpY2ggdGhlIHB1bGwgcmVxdWVzdCBjaGFuZ2VzIHdpbGwgYmUgbWVyZ2VkLlxuICAgICAgXCJIRUFEX0JSQU5DSFwiLCAvLyBUaGlzIGlzIG9ubHkgc2V0IGZvciBwdWxsIHJlcXVlc3RzIGFuZCBpcyB0aGUgbmFtZSBvZiB0aGUgYnJhbmNoIHRoZSBwdWxsIHJlcXVlc3Qgd2FzIG9wZW5lZCBmcm9tLlxuICAgICAgXCJJU19QVUxMX1JFUVVFU1RcIiwgLy8gXCJmYWxzZVwiIG9yIFwidHJ1ZVwiXG4gICAgICBcIlBVTExfUkVRVUVTVFwiLCAvLyBQdWxsIHJlcXVlc3QgbnVtYmVyIGlmIHRoZSBqb2IgaXMgYSBwdWxsIHJlcXVlc3QuIElmIG5vdCwgdGhpcyB3aWxsIGJlIHNldCB0byBmYWxzZS5cbiAgICAgIFwiUFVMTF9SRVFVRVNUX0JBU0VfQlJBTkNIXCIsIC8vIE5hbWUgb2YgdGhlIGJyYW5jaCB0aGF0IHRoZSBwdWxsIHJlcXVlc3Qgd2lsbCBiZSBtZXJnZWQgaW50by4gSXQgc2hvdWxkIGJlIHRoZSBzYW1lIGFzIEJBU0VfQlJBTkNILlxuICAgICAgXCJQVUxMX1JFUVVFU1RfUkVQT19GVUxMX05BTUVcIiwgLy8gRnVsbCBuYW1lIG9mIHRoZSByZXBvc2l0b3J5IGZyb20gd2hlcmUgdGhlIHB1bGwgcmVxdWVzdCBvcmlnaW5hdGVkLlxuICAgIF0pLFxuICAgIHRlYW1jaXR5OiBudWxsLFxuICAgIHRlYW1mb3VuZGF0aW9uOiBleHRyYWN0KFtcbiAgICAgIFwiQlVJTERfQlVJTERJRFwiLFxuICAgICAgXCJCVUlMRF9CVUlMRE5VTUJFUlwiLFxuICAgICAgXCJCVUlMRF9DT05UQUlORVJJRFwiLFxuICAgIF0pLFxuICAgIHRyYXZpczogZXh0cmFjdChbXG4gICAgICBcIlRSQVZJU19KT0JfSURcIixcbiAgICAgIFwiVFJBVklTX0JVSUxEX0lEXCIsXG4gICAgICBcIlRSQVZJU19CVUlMRF9XRUJfVVJMXCIsXG4gICAgICBcIlRSQVZJU19SRVBPX1NMVUdcIixcbiAgICAgIFwiVFJBVklTX0pPQl9OVU1CRVJcIixcbiAgICAgIFwiVFJBVklTX0VWRU5UX1RZUEVcIixcbiAgICAgIFwiVFJBVklTX0NPTU1JVF9SQU5HRVwiLFxuICAgICAgXCJUUkFWSVNfQlVJTERfTlVNQkVSXCIsXG4gICAgICBcIlRSQVZJU19QVUxMX1JFUVVFU1RcIixcbiAgICAgIFwiVFJBVklTX1BVTExfUkVRVUVTVF9CUkFOQ0hcIixcbiAgICAgIFwiVFJBVklTX1BVTExfUkVRVUVTVF9TSEFcIixcbiAgICBdKSxcbiAgICB3ZXJja2VyOiBudWxsLFxuICAgIC8vIGh0dHBzOi8vZG9jcy5uZXRsaWZ5LmNvbS9jb25maWd1cmUtYnVpbGRzL2Vudmlyb25tZW50LXZhcmlhYmxlcy8jZGVwbG95LXVybHMtYW5kLW1ldGFkYXRhXG4gICAgbmV0bGlmeTogZXh0cmFjdChbXG4gICAgICBcIkJVSUxEX0lEXCIsXG4gICAgICBcIkNPTlRFWFRcIixcbiAgICAgIFwiVVJMXCIsXG4gICAgICBcIkRFUExPWV9VUkxcIixcbiAgICAgIFwiREVQTE9ZX1BSSU1FX1VSTFwiLFxuICAgICAgXCJERVBMT1lfSURcIixcbiAgICBdKSxcbiAgICAvLyBodHRwczovL2xheWVyY2kuY29tL2RvY3MvbGF5ZXJmaWxlLXJlZmVyZW5jZS9idWlsZC1lbnZcbiAgICBsYXllcmNpOiBleHRyYWN0KFtcbiAgICAgIFwiTEFZRVJDSV9KT0JfSURcIixcbiAgICAgIFwiTEFZRVJDSV9SVU5ORVJfSURcIixcbiAgICAgIFwiUkVUUllfSU5ERVhcIixcbiAgICAgIFwiTEFZRVJDSV9QVUxMX1JFUVVFU1RcIixcbiAgICAgIFwiTEFZRVJDSV9SRVBPX05BTUVcIixcbiAgICAgIFwiTEFZRVJDSV9SRVBPX09XTkVSXCIsXG4gICAgICBcIkxBWUVSQ0lfQlJBTkNIXCIsXG4gICAgICBcIkdJVF9UQUdcIiwgLy8gc2hvcnQgaGV4IGZvciBjb21taXRzXG4gICAgXSksXG4gIH07XG59O1xuXG4vLyB0cmllcyB0byBncmFiIGNvbW1pdCBpbmZvcm1hdGlvbiBmcm9tIENJIGVudmlyb25tZW50IHZhcmlhYmxlc1xuLy8gdmVyeSB1c2VmdWwgdG8gZmlsbCBtaXNzaW5nIGluZm9ybWF0aW9uIHdoZW4gR2l0IGNhbm5vdCBncmFiIGNvcnJlY3QgdmFsdWVzXG5jb25zdCBfcHJvdmlkZXJDb21taXRQYXJhbXMgPSAoKTogUHJvdmlkZXJDb21taXRQYXJhbXNSZXMgPT4ge1xuICBjb25zdCB7IGVudiB9ID0gcHJvY2VzcztcblxuICByZXR1cm4ge1xuICAgIGFwcHZleW9yOiB7XG4gICAgICBzaGE6IGVudi5BUFBWRVlPUl9SRVBPX0NPTU1JVCxcbiAgICAgIC8vIHNpbmNlIEFQUFZFWU9SX1JFUE9fQlJBTkNIIHdpbGwgYmUgdGhlIHRhcmdldCBicmFuY2ggb24gYSBQUlxuICAgICAgLy8gd2UgbmVlZCB0byB1c2UgUFVMTF9SRVFVRVNUX0hFQURfUkVQT19CUkFOQ0ggaWYgaXQgZXhpc3RzLlxuICAgICAgLy8gZS5nLiBpZiB5b3UgaGF2ZSBhIFBSOiBkZXZlbG9wIDwtIG15LWZlYXR1cmUtYnJhbmNoXG4gICAgICAvLyBteS1mZWF0dXJlLWJyYW5jaCBpcyBBUFBWRVlPUl9QVUxMX1JFUVVFU1RfSEVBRF9SRVBPX0JSQU5DSFxuICAgICAgLy8gZGV2ZWxvcCAgICAgICAgICAgaXMgQVBQVkVZT1JfUkVQT19CUkFOQ0hcbiAgICAgIGJyYW5jaDpcbiAgICAgICAgZW52LkFQUFZFWU9SX1BVTExfUkVRVUVTVF9IRUFEX1JFUE9fQlJBTkNIIHx8IGVudi5BUFBWRVlPUl9SRVBPX0JSQU5DSCxcbiAgICAgIG1lc3NhZ2U6IGpvaW4oXG4gICAgICAgIFwiXFxuXCIsXG4gICAgICAgIGVudi5BUFBWRVlPUl9SRVBPX0NPTU1JVF9NRVNTQUdFLFxuICAgICAgICBlbnYuQVBQVkVZT1JfUkVQT19DT01NSVRfTUVTU0FHRV9FWFRFTkRFRFxuICAgICAgKSxcbiAgICAgIGF1dGhvck5hbWU6IGVudi5BUFBWRVlPUl9SRVBPX0NPTU1JVF9BVVRIT1IsXG4gICAgICBhdXRob3JFbWFpbDogZW52LkFQUFZFWU9SX1JFUE9fQ09NTUlUX0FVVEhPUl9FTUFJTCxcbiAgICAgIC8vIHJlbW90ZU9yaWdpbjogPz8/XG4gICAgICAvLyBkZWZhdWx0QnJhbmNoOiA/Pz9cbiAgICB9LFxuICAgIGF3c0NvZGVCdWlsZDoge1xuICAgICAgc2hhOiBlbnYuQ09ERUJVSUxEX1JFU09MVkVEX1NPVVJDRV9WRVJTSU9OLFxuICAgICAgLy8gYnJhbmNoOiA/Pz8sXG4gICAgICAvLyBtZXNzYWdlOiA/Pz9cbiAgICAgIC8vIGF1dGhvck5hbWU6ID8/P1xuICAgICAgLy8gYXV0aG9yRW1haWw6ID8/P1xuICAgICAgcmVtb3RlT3JpZ2luOiBlbnYuQ09ERUJVSUxEX1NPVVJDRV9SRVBPX1VSTCxcbiAgICAgIC8vIGRlZmF1bHRCcmFuY2g6ID8/P1xuICAgIH0sXG4gICAgYXp1cmU6IHtcbiAgICAgIHNoYTogZW52LkJVSUxEX1NPVVJDRVZFUlNJT04sXG4gICAgICBicmFuY2g6IGVudi5CVUlMRF9TT1VSQ0VCUkFOQ0hOQU1FLFxuICAgICAgbWVzc2FnZTogZW52LkJVSUxEX1NPVVJDRVZFUlNJT05NRVNTQUdFLFxuICAgICAgYXV0aG9yTmFtZTogZW52LkJVSUxEX1NPVVJDRVZFUlNJT05BVVRIT1IsXG4gICAgICBhdXRob3JFbWFpbDogZW52LkJVSUxEX1JFUVVFU1RFREZPUkVNQUlMLFxuICAgIH0sXG4gICAgYmFtYm9vOiB7XG4gICAgICBzaGE6IGVudi5iYW1ib29fcGxhblJlcG9zaXRvcnlfcmV2aXNpb24sXG4gICAgICBicmFuY2g6IGVudi5iYW1ib29fcGxhblJlcG9zaXRvcnlfYnJhbmNoLFxuICAgICAgLy8gbWVzc2FnZTogPz8/XG4gICAgICBhdXRob3JOYW1lOiBlbnYuYmFtYm9vX3BsYW5SZXBvc2l0b3J5X3VzZXJuYW1lLFxuICAgICAgLy8gYXV0aG9yRW1haWw6ID8/P1xuICAgICAgcmVtb3RlT3JpZ2luOiBlbnYuYmFtYm9vX3BsYW5SZXBvc2l0b3J5X3JlcG9zaXRvcnlVUkwsXG4gICAgICAvLyBkZWZhdWx0QnJhbmNoOiA/Pz9cbiAgICB9LFxuICAgIGJpdGJ1Y2tldDoge1xuICAgICAgc2hhOiBlbnYuQklUQlVDS0VUX0NPTU1JVCxcbiAgICAgIGJyYW5jaDogZW52LkJJVEJVQ0tFVF9CUkFOQ0gsXG4gICAgICAvLyBtZXNzYWdlOiA/Pz9cbiAgICAgIC8vIGF1dGhvck5hbWU6ID8/P1xuICAgICAgLy8gYXV0aG9yRW1haWw6ID8/P1xuICAgICAgLy8gcmVtb3RlT3JpZ2luOiA/Pz9cbiAgICAgIC8vIGRlZmF1bHRCcmFuY2g6ID8/P1xuICAgIH0sXG4gICAgYnVpbGRraXRlOiB7XG4gICAgICBzaGE6IGVudi5CVUlMREtJVEVfQ09NTUlULFxuICAgICAgYnJhbmNoOiBlbnYuQlVJTERLSVRFX0JSQU5DSCxcbiAgICAgIG1lc3NhZ2U6IGVudi5CVUlMREtJVEVfTUVTU0FHRSxcbiAgICAgIGF1dGhvck5hbWU6IGVudi5CVUlMREtJVEVfQlVJTERfQ1JFQVRPUixcbiAgICAgIGF1dGhvckVtYWlsOiBlbnYuQlVJTERLSVRFX0JVSUxEX0NSRUFUT1JfRU1BSUwsXG4gICAgICByZW1vdGVPcmlnaW46IGVudi5CVUlMREtJVEVfUkVQTyxcbiAgICAgIGRlZmF1bHRCcmFuY2g6IGVudi5CVUlMREtJVEVfUElQRUxJTkVfREVGQVVMVF9CUkFOQ0gsXG4gICAgfSxcbiAgICBjaXJjbGU6IHtcbiAgICAgIHNoYTogZW52LkNJUkNMRV9TSEExLFxuICAgICAgYnJhbmNoOiBlbnYuQ0lSQ0xFX0JSQU5DSCxcbiAgICAgIC8vIG1lc3NhZ2U6ID8/P1xuICAgICAgYXV0aG9yTmFtZTogZW52LkNJUkNMRV9VU0VSTkFNRSxcbiAgICAgIC8vIGF1dGhvckVtYWlsOiA/Pz9cbiAgICAgIHJlbW90ZU9yaWdpbjogZW52LkNJUkNMRV9SRVBPU0lUT1JZX1VSTCxcbiAgICAgIC8vIGRlZmF1bHRCcmFuY2g6ID8/P1xuICAgIH0sXG4gICAgY29kZXNoaXBCYXNpYzoge1xuICAgICAgc2hhOiBlbnYuQ0lfQ09NTUlUX0lELFxuICAgICAgYnJhbmNoOiBlbnYuQ0lfQlJBTkNILFxuICAgICAgbWVzc2FnZTogZW52LkNJX0NPTU1JVF9NRVNTQUdFLFxuICAgICAgYXV0aG9yTmFtZTogZW52LkNJX0NPTU1JVFRFUl9OQU1FLFxuICAgICAgYXV0aG9yRW1haWw6IGVudi5DSV9DT01NSVRURVJfRU1BSUwsXG4gICAgICAvLyByZW1vdGVPcmlnaW46ID8/P1xuICAgICAgLy8gZGVmYXVsdEJyYW5jaDogPz8/XG4gICAgfSxcbiAgICBjb2Rlc2hpcFBybzoge1xuICAgICAgc2hhOiBlbnYuQ0lfQ09NTUlUX0lELFxuICAgICAgYnJhbmNoOiBlbnYuQ0lfQlJBTkNILFxuICAgICAgbWVzc2FnZTogZW52LkNJX0NPTU1JVF9NRVNTQUdFLFxuICAgICAgYXV0aG9yTmFtZTogZW52LkNJX0NPTU1JVFRFUl9OQU1FLFxuICAgICAgYXV0aG9yRW1haWw6IGVudi5DSV9DT01NSVRURVJfRU1BSUwsXG4gICAgICAvLyByZW1vdGVPcmlnaW46ID8/P1xuICAgICAgLy8gZGVmYXVsdEJyYW5jaDogPz8/XG4gICAgfSxcbiAgICBjb2RlRnJlc2g6IHtcbiAgICAgIHNoYTogZW52LkNGX1JFVklTSU9OLFxuICAgICAgYnJhbmNoOiBlbnYuQ0ZfQlJBTkNILFxuICAgICAgbWVzc2FnZTogZW52LkNGX0NPTU1JVF9NRVNTQUdFLFxuICAgICAgYXV0aG9yTmFtZTogZW52LkNGX0NPTU1JVF9BVVRIT1IsXG4gICAgfSxcbiAgICBkcm9uZToge1xuICAgICAgc2hhOiBlbnYuRFJPTkVfQ09NTUlUX1NIQSxcbiAgICAgIC8vIGh0dHBzOi8vZG9jcy5kcm9uZS5pby9waXBlbGluZS9lbnZpcm9ubWVudC9yZWZlcmVuY2UvZHJvbmUtc291cmNlLWJyYW5jaC9cbiAgICAgIGJyYW5jaDogZW52LkRST05FX1NPVVJDRV9CUkFOQ0gsXG4gICAgICBtZXNzYWdlOiBlbnYuRFJPTkVfQ09NTUlUX01FU1NBR0UsXG4gICAgICBhdXRob3JOYW1lOiBlbnYuRFJPTkVfQ09NTUlUX0FVVEhPUixcbiAgICAgIGF1dGhvckVtYWlsOiBlbnYuRFJPTkVfQ09NTUlUX0FVVEhPUl9FTUFJTCxcbiAgICAgIHJlbW90ZU9yaWdpbjogZW52LkRST05FX0dJVF9IVFRQX1VSTCxcbiAgICAgIGRlZmF1bHRCcmFuY2g6IGVudi5EUk9ORV9SRVBPX0JSQU5DSCxcbiAgICB9LFxuICAgIGdpdGh1YkFjdGlvbnM6IHtcbiAgICAgIHNoYTogZW52LkdJVEhVQl9TSEEsXG4gICAgICBicmFuY2g6IGVudi5HSF9CUkFOQ0ggfHwgZW52LkdJVEhVQl9SRUYsXG4gICAgICBkZWZhdWx0QnJhbmNoOiBlbnYuR0lUSFVCX0JBU0VfUkVGLFxuICAgICAgcmVtb3RlQnJhbmNoOiBlbnYuR0lUSFVCX0hFQURfUkVGLFxuICAgICAgcnVuQXR0ZW1wdDogZW52LkdJVEhVQl9SVU5fQVRURU1QVCxcbiAgICB9LFxuICAgIGdpdGxhYjoge1xuICAgICAgc2hhOiBlbnYuQ0lfQ09NTUlUX1NIQSxcbiAgICAgIGJyYW5jaDogZW52LkNJX0NPTU1JVF9SRUZfTkFNRSxcbiAgICAgIG1lc3NhZ2U6IGVudi5DSV9DT01NSVRfTUVTU0FHRSxcbiAgICAgIGF1dGhvck5hbWU6IGVudi5HSVRMQUJfVVNFUl9OQU1FLFxuICAgICAgYXV0aG9yRW1haWw6IGVudi5HSVRMQUJfVVNFUl9FTUFJTCxcbiAgICAgIHJlbW90ZU9yaWdpbjogZW52LkNJX1JFUE9TSVRPUllfVVJMLFxuICAgICAgZGVmYXVsdEJyYW5jaDogZW52LkNJX0RFRkFVTFRfQlJBTkNILFxuICAgIH0sXG4gICAgZ29vZ2xlQ2xvdWQ6IHtcbiAgICAgIHNoYTogZW52LkNPTU1JVF9TSEEsXG4gICAgICBicmFuY2g6IGVudi5CUkFOQ0hfTkFNRSxcbiAgICAgIC8vIG1lc3NhZ2U6ID8/XG4gICAgICAvLyBhdXRob3JOYW1lOiA/P1xuICAgICAgLy8gYXV0aG9yRW1haWw6ID8/XG4gICAgICAvLyByZW1vdGVPcmlnaW46ID8/P1xuICAgICAgLy8gZGVmYXVsdEJyYW5jaDogPz9cbiAgICB9LFxuICAgIGplbmtpbnM6IHtcbiAgICAgIHNoYTogZW52LkdJVF9DT01NSVQsXG4gICAgICBicmFuY2g6IGVudi5HSVRfQlJBTkNILFxuICAgICAgLy8gbWVzc2FnZTogPz8/XG4gICAgICAvLyBhdXRob3JOYW1lOiA/Pz9cbiAgICAgIC8vIGF1dGhvckVtYWlsOiA/Pz9cbiAgICAgIC8vIHJlbW90ZU9yaWdpbjogPz8/XG4gICAgICAvLyBkZWZhdWx0QnJhbmNoOiA/Pz9cbiAgICB9LFxuICAgIC8vIE9ubHkgZnJvbSBmb3Jrcz8gaHR0cHM6Ly9zZW1hcGhvcmVjaS5jb20vZG9jcy9hdmFpbGFibGUtZW52aXJvbm1lbnQtdmFyaWFibGVzLmh0bWxcbiAgICBzZW1hcGhvcmU6IHtcbiAgICAgIHNoYTogZW52LlNFTUFQSE9SRV9HSVRfU0hBLFxuICAgICAgYnJhbmNoOiBlbnYuU0VNQVBIT1JFX0dJVF9CUkFOQ0gsXG4gICAgICAvLyBtZXNzYWdlOiA/Pz9cbiAgICAgIC8vIGF1dGhvck5hbWU6ID8/P1xuICAgICAgLy8gYXV0aG9yRW1haWw6ID8/P1xuICAgICAgcmVtb3RlT3JpZ2luOiBlbnYuU0VNQVBIT1JFX0dJVF9SRVBPX1NMVUcsXG4gICAgICAvLyBkZWZhdWx0QnJhbmNoOiA/Pz9cbiAgICB9LFxuICAgIHNoaXBwYWJsZToge1xuICAgICAgc2hhOiBlbnYuQ09NTUlULFxuICAgICAgYnJhbmNoOiBlbnYuQlJBTkNILFxuICAgICAgbWVzc2FnZTogZW52LkNPTU1JVF9NRVNTQUdFLFxuICAgICAgYXV0aG9yTmFtZTogZW52LkNPTU1JVFRFUixcbiAgICAgIC8vIGF1dGhvckVtYWlsOiA/Pz9cbiAgICAgIC8vIHJlbW90ZU9yaWdpbjogPz8/XG4gICAgICAvLyBkZWZhdWx0QnJhbmNoOiA/Pz9cbiAgICB9LFxuICAgIHNuYXA6IG51bGwsXG4gICAgdGVhbWNpdHk6IG51bGwsXG4gICAgdGVhbWZvdW5kYXRpb246IHtcbiAgICAgIHNoYTogZW52LkJVSUxEX1NPVVJDRVZFUlNJT04sXG4gICAgICBicmFuY2g6IGVudi5CVUlMRF9TT1VSQ0VCUkFOQ0hOQU1FLFxuICAgICAgbWVzc2FnZTogZW52LkJVSUxEX1NPVVJDRVZFUlNJT05NRVNTQUdFLFxuICAgICAgYXV0aG9yTmFtZTogZW52LkJVSUxEX1NPVVJDRVZFUlNJT05BVVRIT1IsXG4gICAgfSxcbiAgICB0cmF2aXM6IHtcbiAgICAgIHNoYTogZW52LlRSQVZJU19QVUxMX1JFUVVFU1RfU0hBIHx8IGVudi5UUkFWSVNfQ09NTUlULFxuICAgICAgLy8gZm9yIFBScywgVFJBVklTX0JSQU5DSCBpcyB0aGUgYmFzZSBicmFuY2ggYmVpbmcgbWVyZ2VkIGludG9cbiAgICAgIGJyYW5jaDogZW52LlRSQVZJU19QVUxMX1JFUVVFU1RfQlJBTkNIIHx8IGVudi5UUkFWSVNfQlJBTkNILFxuICAgICAgLy8gYXV0aG9yTmFtZTogPz8/XG4gICAgICAvLyBhdXRob3JFbWFpbDogPz8/XG4gICAgICBtZXNzYWdlOiBlbnYuVFJBVklTX0NPTU1JVF9NRVNTQUdFLFxuICAgICAgLy8gcmVtb3RlT3JpZ2luOiA/Pz9cbiAgICAgIC8vIGRlZmF1bHRCcmFuY2g6ID8/P1xuICAgIH0sXG4gICAgd2VyY2tlcjogbnVsbCxcbiAgICBuZXRsaWZ5OiB7XG4gICAgICBzaGE6IGVudi5DT01NSVRfUkVGLFxuICAgICAgYnJhbmNoOiBlbnYuQlJBTkNILFxuICAgICAgcmVtb3RlT3JpZ2luOiBlbnYuUkVQT1NJVE9SWV9VUkwsXG4gICAgfSxcbiAgICBsYXllcmNpOiB7XG4gICAgICBzaGE6IGVudi5HSVRfQ09NTUlULFxuICAgICAgYnJhbmNoOiBlbnYuTEFZRVJDSV9CUkFOQ0gsXG4gICAgICBtZXNzYWdlOiBlbnYuR0lUX0NPTU1JVF9USVRMRSxcbiAgICB9LFxuICB9O1xufTtcblxudHlwZSBDaVByb3ZpZGVyRGF0YSA9IHtcbiAgc2hhPzogc3RyaW5nO1xuICBicmFuY2g/OiBzdHJpbmc7XG4gIG1lc3NhZ2U/OiBzdHJpbmc7XG4gIGF1dGhvck5hbWU/OiBzdHJpbmc7XG4gIGF1dGhvckVtYWlsPzogc3RyaW5nO1xuICByZW1vdGVPcmlnaW4/OiBzdHJpbmc7XG4gIGRlZmF1bHRCcmFuY2g/OiBzdHJpbmc7XG4gIHJlbW90ZUJyYW5jaD86IHN0cmluZztcbiAgcnVuQXR0ZW1wdD86IHN0cmluZztcbn07XG5cbmludGVyZmFjZSBQcm92aWRlckNvbW1pdFBhcmFtc1JlcyB7XG4gIFtrZXk6IHN0cmluZ106IENpUHJvdmlkZXJEYXRhIHwgbnVsbDtcbn1cblxuaW50ZXJmYWNlIFByb3ZpZGVyQ2lQYXJhbXNSZXMge1xuICBba2V5OiBzdHJpbmddOiB7XG4gICAgW2tleTogc3RyaW5nXTogc3RyaW5nIHwgdW5kZWZpbmVkO1xuICB9IHwgbnVsbDtcbn1cblxuY29uc3QgX2dldCA9IChmbjogKCkgPT4gUHJvdmlkZXJDb21taXRQYXJhbXNSZXMgfCBQcm92aWRlckNpUGFyYW1zUmVzKSA9PiB7XG4gIGNvbnN0IHByb3ZpZGVyTmFtZSA9IGdldENpUHJvdmlkZXIoKTtcbiAgaWYgKCFwcm92aWRlck5hbWUpIHJldHVybiB7fTtcblxuICByZXR1cm4gXy5jaGFpbihmbigpKS5nZXQocHJvdmlkZXJOYW1lKS52YWx1ZSgpO1xufTtcblxuLyoqXG4gKiBJZiB0aGVyZSBpcyBubyBidWlsZCBJRCBzcGVjaWZpY2FsbHkgcHJvdmlkZWQgYnkgdXNlclxuICogQ2hlY2sgaWYgd2UgY2FuIGZldGNoIGl0IGF1dG9tYXRpY2FsbHkgZnJvbSBDSSB2YXJpYWJsZXMuXG4gKiBUaGUgcHJvY2VzcyB3aWxsIHN0b3AgaWYgd2UgY2Fubm90IGRvIGl0XG4gKiBodHRwczovL2RvY3MuY3lwcmVzcy5pby9ndWlkZXMvcmVmZXJlbmNlcy9lcnJvci1tZXNzYWdlcyNXZS1jb3VsZC1ub3QtZGV0ZXJtaW5lLWEtdW5pcXVlLUNJLWJ1aWxkLUlEXG4gKi9cbmZ1bmN0aW9uIGNoZWNrRm9yQ2lCdWlsZEZyb21DaShjaVByb3ZpZGVyOiBzdHJpbmcgfCBudWxsKSB7XG4gIGlmIChjaVByb3ZpZGVyICYmIGRldGVjdGFibGVDaUJ1aWxkSWRQcm92aWRlcnMoKS5pbmNsdWRlcyhjaVByb3ZpZGVyKSlcbiAgICByZXR1cm4gdHJ1ZTtcblxuICB0aHJvdyBuZXcgVmFsaWRhdGlvbkVycm9yKFxuICAgIGBDb3VsZCBub3QgZGV0ZXJtaW5lIENJIGJ1aWxkIElEIGZyb20gdGhlIGVudmlyb25tZW50LiBQbGVhc2UgcHJvdmlkZSBhIHVuaXF1ZSBDSSBidWlsZCBJRCB1c2luZyB0aGUgLS1jaS1idWlsZC1pZCBDTEkgZmxhZyBvciAnY2lCdWlsZElkJyBwYXJhbWV0ZXIgZm9yICdydW4nIG1ldGhvZC5gXG4gICk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBsaXN0KCkge1xuICByZXR1cm4gXy5rZXlzKENJX1BST1ZJREVSUyk7XG59XG5cbi8vIGdyYWIgYWxsIGRldGVjdGFibGUgcHJvdmlkZXJzXG4vLyB0aGF0IHdlIGNhbiBleHRyYWN0IGNpQnVpbGRJZCBmcm9tXG5leHBvcnQgZnVuY3Rpb24gZGV0ZWN0YWJsZUNpQnVpbGRJZFByb3ZpZGVycygpIHtcbiAgcmV0dXJuIF8uY2hhaW4oX3Byb3ZpZGVyQ2lQYXJhbXMoKSkub21pdEJ5KF8uaXNOdWxsKS5rZXlzKCkudmFsdWUoKTtcbn1cblxuZXhwb3J0IHR5cGUgQ2lQcm92aWRlciA9IHN0cmluZyB8IG51bGw7XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRDaVByb3ZpZGVyKCk6IENpUHJvdmlkZXIge1xuICByZXR1cm4gX2RldGVjdFByb3ZpZGVyTmFtZSgpIHx8IG51bGw7XG59XG5cbmV4cG9ydCB0eXBlIENpUGFyYW1zID0ge1xuICBba2V5OiBzdHJpbmddOiBzdHJpbmcgfCB1bmRlZmluZWQ7XG59O1xuXG5leHBvcnQgZnVuY3Rpb24gZ2V0Q2lQYXJhbXMoKSB7XG4gIHJldHVybiBfZ2V0KF9wcm92aWRlckNpUGFyYW1zKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldENvbW1pdFBhcmFtcygpIHtcbiAgcmV0dXJuIF9nZXQoX3Byb3ZpZGVyQ29tbWl0UGFyYW1zKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldENJKGNpQnVpbGRJZD86IHN0cmluZykge1xuICBjb25zdCBwYXJhbXMgPSBnZXRDaVBhcmFtcygpO1xuICBjb25zdCBwcm92aWRlciA9IGdldENpUHJvdmlkZXIoKTtcbiAgaWYgKCFjaUJ1aWxkSWQpIGNoZWNrRm9yQ2lCdWlsZEZyb21DaShwcm92aWRlcik7XG5cbiAgZGVidWcoXCJkZXRlY3RlZCBDSSBwcm92aWRlcjogJXNcIiwgcHJvdmlkZXIpO1xuICBkZWJ1ZyhcImRldGVjdGVkIENJIHBhcmFtczogJU9cIiwgcGFyYW1zKTtcbiAgcmV0dXJuIHtcbiAgICBwYXJhbXMsXG4gICAgcHJvdmlkZXIsXG4gIH07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRDb21taXREZWZhdWx0cyhleGlzdGluZ0luZm86IENpUHJvdmlkZXJEYXRhKSB7XG4gIGRlYnVnKFwiZ2l0IGNvbW1pdCBleGlzdGluZyBpbmZvXCIpO1xuICBkZWJ1ZyhleGlzdGluZ0luZm8pO1xuXG4gIGNvbnN0IGNvbW1pdFBhcmFtc09iaiA9IGdldENvbW1pdFBhcmFtcygpO1xuXG4gIGRlYnVnKFwiY29tbWl0IGluZm8gZnJvbSBwcm92aWRlciBlbnZpcm9ubWVudCB2YXJpYWJsZXM6ICVPXCIsIGNvbW1pdFBhcmFtc09iaik7XG5cbiAgLy8gYmFzZWQgb24gdGhlIGV4aXN0aW5nSW5mbyBwcm9wZXJ0aWVzXG4gIC8vIG1lcmdlIGluIHRoZSBjb21taXRQYXJhbXMgaWYgbnVsbCBvciB1bmRlZmluZWRcbiAgLy8gZGVmYXVsdGluZyBiYWNrIHRvIG51bGwgaWYgYWxsIGZhaWxzXG4gIC8vIE5PVEU6IG9ubHkgcHJvcGVydGllcyBkZWZpbmVkIGluIFwiZXhpc3RpbmdJbmZvXCIgd2lsbCBiZSByZXR1cm5lZFxuICBjb25zdCBjb21iaW5lZCA9IF8udHJhbnNmb3JtKFxuICAgIGV4aXN0aW5nSW5mbyxcbiAgICAoXG4gICAgICBtZW1vOiB7IFttZW1vS2V5OiBzdHJpbmddOiBzdHJpbmcgfCBudWxsIH0sXG4gICAgICB2YWx1ZTogc3RyaW5nLFxuICAgICAga2V5OiBzdHJpbmdcbiAgICApID0+IHtcbiAgICAgIHJldHVybiAobWVtb1trZXldID0gXy5kZWZhdWx0VG8odmFsdWUgfHwgY29tbWl0UGFyYW1zT2JqW2tleV0sIG51bGwpKTtcbiAgICB9XG4gICk7XG5cbiAgZGVidWcoXCJjb21iaW5lZCBnaXQgYW5kIGVudmlyb25tZW50IHZhcmlhYmxlcyBmcm9tIHByb3ZpZGVyXCIpO1xuICBkZWJ1Zyhjb21iaW5lZCk7XG5cbiAgcmV0dXJuIGNvbWJpbmVkO1xufVxuIiwgImV4cG9ydCAqIGZyb20gXCIuL2NvbmZpZ1wiO1xuZXhwb3J0ICogZnJvbSBcIi4vcGFyYW1zXCI7XG4iLCAiaW1wb3J0IERlYnVnIGZyb20gXCJkZWJ1Z1wiO1xuaW1wb3J0IHBhdGggZnJvbSBcInBhdGhcIjtcbmltcG9ydCB7IERldGVjdGVkQnJvd3NlciwgVmFsaWRhdGVkQ3VycmVudHNQYXJhbWV0ZXJzIH0gZnJvbSBcIi4uLy4uL3R5cGVzXCI7XG5pbXBvcnQgeyBib290Q3lwcmVzcyB9IGZyb20gXCIuLi9ib290c3RyYXAvYm9vdHN0cmFwXCI7XG5pbXBvcnQgeyB3YXJuIH0gZnJvbSBcIi4uL2xvZ1wiO1xuaW1wb3J0IHsgcmVxdWlyZSB9IGZyb20gXCIuLi9yZXF1aXJlXCI7XG5pbXBvcnQgeyBnZXRSYW5kb21Qb3J0IH0gZnJvbSBcIi4uL3V0aWxzXCI7XG5cbmNvbnN0IGRlYnVnID0gRGVidWcoXCJjdXJyZW50czpjb25maWdcIik7XG5cbmV4cG9ydCB0eXBlIEUyRUNvbmZpZyA9IHtcbiAgYmF0Y2hTaXplOiBudW1iZXI7XG59O1xuZXhwb3J0IHR5cGUgQ29tcG9uZW50Q29uZmlnID0ge1xuICBiYXRjaFNpemU6IG51bWJlcjtcbn07XG5leHBvcnQgdHlwZSBDdXJyZW50c0NvbmZpZyA9IHtcbiAgcHJvamVjdElkPzogc3RyaW5nO1xuICByZWNvcmRLZXk/OiBzdHJpbmc7XG4gIGNsb3VkU2VydmljZVVybDogc3RyaW5nO1xuICBlMmU6IEUyRUNvbmZpZztcbiAgY29tcG9uZW50OiBDb21wb25lbnRDb25maWc7XG59O1xuXG5sZXQgX2NvbmZpZzogQ3VycmVudHNDb25maWcgfCBudWxsID0gbnVsbDtcbmV4cG9ydCBmdW5jdGlvbiBnZXRDdXJyZW50c0NvbmZpZygpOiBDdXJyZW50c0NvbmZpZyB7XG4gIGlmIChfY29uZmlnKSB7XG4gICAgcmV0dXJuIF9jb25maWc7XG4gIH1cblxuICBjb25zdCBjb25maWdGaWxlUGF0aCA9IGdldENvbmZpZ0ZpbGVQYXRoKCk7XG4gIGRlYnVnKFwibG9hZGluZyBjdXJyZW50cyBjb25maWcgZmlsZSBmcm9tICclcydcIiwgY29uZmlnRmlsZVBhdGgpO1xuXG4gIGNvbnN0IGRlZmF1bHRDb25maWc6IEN1cnJlbnRzQ29uZmlnID0ge1xuICAgIGUyZToge1xuICAgICAgYmF0Y2hTaXplOiAzLFxuICAgIH0sXG4gICAgY29tcG9uZW50OiB7XG4gICAgICBiYXRjaFNpemU6IDUsXG4gICAgfSxcbiAgICBjbG91ZFNlcnZpY2VVcmw6IFwiaHR0cHM6Ly9jeS5jdXJyZW50cy5kZXZcIixcbiAgfTtcblxuICB0cnkge1xuICAgIGNvbnN0IGZzQ29uZmlnID0gcmVxdWlyZShjb25maWdGaWxlUGF0aCk7XG4gICAgX2NvbmZpZyA9IHtcbiAgICAgIC4uLmRlZmF1bHRDb25maWcsXG4gICAgICAuLi5mc0NvbmZpZyxcbiAgICB9IGFzIEN1cnJlbnRzQ29uZmlnO1xuICAgIHJldHVybiBfY29uZmlnO1xuICB9IGNhdGNoIChlKSB7XG4gICAgd2FybihcImZhaWxlZCB0byBsb2FkIGNvbmZpZyBmaWxlOiAlc1wiLCBjb25maWdGaWxlUGF0aCk7XG4gICAgZGVidWcoXCJmYWlsdXJlIGRldGFpbHM6ICVzXCIsIGUpO1xuICAgIF9jb25maWcgPSBkZWZhdWx0Q29uZmlnO1xuICAgIHJldHVybiBfY29uZmlnO1xuICB9XG59XG5cbmV4cG9ydCB0eXBlIE1lcmdlZENvbmZpZyA9IEF3YWl0ZWQ8UmV0dXJuVHlwZTx0eXBlb2YgZ2V0TWVyZ2VkQ29uZmlnPj47XG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0TWVyZ2VkQ29uZmlnKHBhcmFtczogVmFsaWRhdGVkQ3VycmVudHNQYXJhbWV0ZXJzKSB7XG4gIGRlYnVnKFwicmVzb2x2aW5nIGN5cHJlc3MgY29uZmlnIFwiKTtcbiAgY29uc3QgY3lwcmVzc1Jlc29sdmVkQ29uZmlnOlxuICAgIHwgKEN5cHJlc3MuUmVzb2x2ZWRDb25maWdPcHRpb25zICYge1xuICAgICAgICBwcm9qZWN0Um9vdDogc3RyaW5nO1xuICAgICAgICByYXdKc29uOiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPjtcbiAgICAgICAgYnJvd3NlcnM6IERldGVjdGVkQnJvd3NlcltdO1xuICAgICAgfSlcbiAgICB8IHVuZGVmaW5lZCA9IGF3YWl0IGJvb3RDeXByZXNzKGdldFJhbmRvbVBvcnQoKSwgcGFyYW1zKTtcblxuICBkZWJ1ZyhcImN5cHJlc3MgcmVzb2x2ZWRDb25maWc6ICVPXCIsIGN5cHJlc3NSZXNvbHZlZENvbmZpZyk7XG5cbiAgLy8gQHRzLWlnbm9yZVxuICBjb25zdCByYXdFMkVQYXR0ZXJuID0gY3lwcmVzc1Jlc29sdmVkQ29uZmlnLnJhd0pzb24/LmUyZT8uc3BlY1BhdHRlcm47XG4gIGxldCBhZGRpdGlvbmFsSWdub3JlUGF0dGVybjogc3RyaW5nW10gPSBbXTtcbiAgaWYgKHBhcmFtcy50ZXN0aW5nVHlwZSA9PT0gXCJjb21wb25lbnRcIiAmJiByYXdFMkVQYXR0ZXJuKSB7XG4gICAgLy8gQHRzLWlnbm9yZVxuICAgIGFkZGl0aW9uYWxJZ25vcmVQYXR0ZXJuID0gcmF3RTJFUGF0dGVybjtcbiAgfVxuXG4gIGNvbnN0IHJlc3VsdCA9IHtcbiAgICBwcm9qZWN0Um9vdDogY3lwcmVzc1Jlc29sdmVkQ29uZmlnPy5wcm9qZWN0Um9vdCB8fCBwcm9jZXNzLmN3ZCgpLFxuICAgIHByb2plY3RJZDogcGFyYW1zLnByb2plY3RJZCxcbiAgICBzcGVjUGF0dGVybjogY3lwcmVzc1Jlc29sdmVkQ29uZmlnPy5zcGVjUGF0dGVybiB8fCBcIioqLyouKlwiLFxuICAgIGV4Y2x1ZGVTcGVjUGF0dGVybjpcbiAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgIGN5cHJlc3NSZXNvbHZlZENvbmZpZz8ucmVzb2x2ZWQuZXhjbHVkZVNwZWNQYXR0ZXJuLnZhbHVlID8/IFtdLFxuICAgIGFkZGl0aW9uYWxJZ25vcmVQYXR0ZXJuLFxuICAgIHJlc29sdmVkOiBjeXByZXNzUmVzb2x2ZWRDb25maWcsXG4gIH07XG4gIGRlYnVnKFwibWVyZ2VkIGNvbmZpZzogJU9cIiwgcmVzdWx0KTtcbiAgcmV0dXJuIHJlc3VsdDtcblxuICAvLyBzZWUgaHR0cHM6Ly9naXRodWIuY29tL2N5cHJlc3MtaW8vY3lwcmVzcy9ibG9iL2VkMDY2OGUyNGMyZWU2NzUzYmJkMjVhZTQ2N2NlOTRhZTU4NTc3NDEvcGFja2FnZXMvY29uZmlnL3NyYy9vcHRpb25zLnRzI0w0NTdcbiAgLy8gYW5kIGh0dHBzOi8vZ2l0aHViLmNvbS9jeXByZXNzLWlvL2N5cHJlc3MvYmxvYi9kZXZlbG9wL3BhY2thZ2VzL2NvbmZpZy9zcmMvcHJvamVjdC91dGlscy50cyNMNDEyXG59XG5cbmZ1bmN0aW9uIGdldENvbmZpZ0ZpbGVQYXRoKGV4cGxpY2l0TG9jYXRpb24gPSBudWxsKSB7XG4gIHJldHVybiBwYXRoLnJlc29sdmUoZXhwbGljaXRMb2NhdGlvbiA/PyBwcm9jZXNzLmN3ZCgpLCBcImN1cnJlbnRzLmNvbmZpZy5qc1wiKTtcbn1cbiIsICJpbXBvcnQgeyBnZXRCaW5QYXRoIH0gZnJvbSBcImN5MlwiO1xuaW1wb3J0IHsgVmFsaWRhdGVkQ3VycmVudHNQYXJhbWV0ZXJzIH0gZnJvbSBcImN5cHJlc3MtY2xvdWQvdHlwZXNcIjtcbmltcG9ydCBEZWJ1ZyBmcm9tIFwiZGVidWdcIjtcbmltcG9ydCBleGVjYSwgeyBFeGVjYUVycm9yIH0gZnJvbSBcImV4ZWNhXCI7XG5pbXBvcnQgZnMgZnJvbSBcImZzXCI7XG5pbXBvcnQgeyBWYWxpZGF0aW9uRXJyb3IgfSBmcm9tIFwiLi4vZXJyb3JzXCI7XG5pbXBvcnQgeyBjcmVhdGVUZW1wRmlsZSB9IGZyb20gXCIuLi9mc1wiO1xuaW1wb3J0IHsgYm9sZCwgaW5mbyB9IGZyb20gXCIuLi9sb2dcIjtcbmltcG9ydCB7IHJlcXVpcmUgfSBmcm9tIFwiLi4vcmVxdWlyZVwiO1xuaW1wb3J0IHsgZ2V0Qm9vdHN0cmFwQXJncyB9IGZyb20gXCIuL3NlcmlhbGl6ZXJcIjtcblxuY29uc3QgZGVidWcgPSBEZWJ1ZyhcImN1cnJlbnRzOmJvb3RcIik7XG5cbmV4cG9ydCBjb25zdCBib290Q3lwcmVzcyA9IGFzeW5jIChcbiAgcG9ydDogbnVtYmVyLFxuICBwYXJhbXM6IFZhbGlkYXRlZEN1cnJlbnRzUGFyYW1ldGVyc1xuKSA9PiB7XG4gIGRlYnVnKFwiYm9vdGluZyBjeXByZXNzLi4uXCIpO1xuICBjb25zdCB0ZW1wRmlsZVBhdGggPSBhd2FpdCBjcmVhdGVUZW1wRmlsZSgpO1xuXG4gIGNvbnN0IGN5cHJlc3NCaW4gPSBhd2FpdCBnZXRCaW5QYXRoKHJlcXVpcmUucmVzb2x2ZShcImN5cHJlc3NcIikpO1xuICBkZWJ1ZyhcImN5cHJlc3MgZXhlY3V0YWJsZSBsb2NhdGlvbjogJXNcIiwgY3lwcmVzc0Jpbik7XG5cbiAgLy8gaXQgaXMgaW1wb3J0YW50IHRvIHBhc3MgdGhlIHNhbWUgYXJncyBpbiBvcmRlciB0byBnZXQgdGhlIHNhbWUgY29uZmlnIGFzIGZvciB0aGUgYWN0dWFsIHJ1blxuICBjb25zdCBhcmdzID0gZ2V0Qm9vdHN0cmFwQXJncyh7IHBvcnQsIHRlbXBGaWxlUGF0aCwgcGFyYW1zIH0pO1xuICBkZWJ1ZyhcImJvb3RpbmcgY3lwcmVzcyB3aXRoIGFyZ3M6ICVvXCIsIGFyZ3MpO1xuICBjb25zdCB7IHN0ZG91dCwgc3RkZXJyIH0gPSBhd2FpdCBleGVjQ3lwcmVzcyhjeXByZXNzQmluLCBhcmdzKTtcblxuICBpZiAoIWZzLmV4aXN0c1N5bmModGVtcEZpbGVQYXRoKSkge1xuICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgIGBDYW5ub3QgcmVzb2x2ZSBjeXByZXNzIGNvbmZpZ3VyYXRpb24gZnJvbSAke3RlbXBGaWxlUGF0aH0uIFBsZWFzZSByZXBvcnQgdGhlIGlzc3VlLmBcbiAgICApO1xuICB9XG4gIHRyeSB7XG4gICAgY29uc3QgZiA9IGZzLnJlYWRGaWxlU3luYyh0ZW1wRmlsZVBhdGgsIFwidXRmLThcIik7XG4gICAgaWYgKCFmKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJJcyBjeXByZXNzLWNsb3VkL3BsdWdpbiBpbnN0YWxsZWQ/XCIpO1xuICAgIH1cbiAgICBkZWJ1ZyhcImN5cHJlc3MgY29uZmlnICclcyc6ICclcydcIiwgdGVtcEZpbGVQYXRoLCBmKTtcbiAgICByZXR1cm4gSlNPTi5wYXJzZShmKTtcbiAgfSBjYXRjaCAoZXJyKSB7XG4gICAgZGVidWcoXCJyZWFkIGNvbmZpZyB0ZW1wIGZpbGUgZmFpbGVkOiAlb1wiLCBlcnIpO1xuICAgIGluZm8oYm9sZChcIkN5cHJlc3Mgc3Rkb3V0OlxcblwiKSwgc3Rkb3V0KTtcbiAgICBpbmZvKGJvbGQoXCJDeXByZXNzIHN0ZGVycjpcXG5cIiksIHN0ZGVycik7XG5cbiAgICB0aHJvdyBuZXcgVmFsaWRhdGlvbkVycm9yKGBVbmFibGUgdG8gcmVzb2x2ZSBjeXByZXNzIGNvbmZpZ3VyYXRpb25cbi0gbWFrZSBzdXJlIHRoYXQgJ2N5cHJlc3MtY2xvdWQvcGx1Z2luJyBpcyBpbnN0YWxsZWRcbi0gcmVwb3J0IHRoZSBpc3N1ZSB0b2dldGhlciB3aXRoIGN5cHJlc3Mgc3Rkb3V0IGFuZCBzdGRlcnJcbmApO1xuICB9XG59O1xuXG5hc3luYyBmdW5jdGlvbiBleGVjQ3lwcmVzcyhjeXByZXNzQmluOiBzdHJpbmcsIGFyZ3M6IHJlYWRvbmx5IHN0cmluZ1tdKSB7XG4gIGxldCBzdGRvdXQgPSBcIlwiO1xuICBsZXQgc3RkZXJyID0gXCJcIjtcbiAgdHJ5IHtcbiAgICBhd2FpdCBleGVjYShjeXByZXNzQmluLCBbXCJydW5cIiwgLi4uYXJnc10sIHtcbiAgICAgIHN0ZGlvOiBcInBpcGVcIixcbiAgICAgIGVudjoge1xuICAgICAgICAuLi5wcm9jZXNzLmVudixcbiAgICAgICAgLy8gcHJldmVudCB3YXJuaW5ncyBhYm91dCByZWNvcmRpbmcgbW9kZVxuICAgICAgICBDWVBSRVNTX1JFQ09SRF9LRVk6IHVuZGVmaW5lZCxcbiAgICAgICAgQ1lQUkVTU19QUk9KRUNUX0lEOiB1bmRlZmluZWQsXG4gICAgICB9LFxuICAgIH0pO1xuICB9IGNhdGNoIChlcnIpIHtcbiAgICBkZWJ1ZyhcImV4ZWMgY3lwcmVzcyBmYWlsZWQgKGNlcnRhaW4gZmFpbHVyZXMgYXJlIGV4cGVjdGVkKTogJW9cIiwgZXJyKTtcbiAgICBzdGRvdXQgPSAoZXJyIGFzIEV4ZWNhRXJyb3IpLnN0ZG91dDtcbiAgICBzdGRlcnIgPSAoZXJyIGFzIEV4ZWNhRXJyb3IpLnN0ZGVycjtcbiAgfVxuICByZXR1cm4geyBzdGRvdXQsIHN0ZGVyciB9O1xufVxuIiwgImltcG9ydCB7IGZpbGUgfSBmcm9tIFwidG1wLXByb21pc2VcIjtcblxuZXhwb3J0IGNvbnN0IGNyZWF0ZVRlbXBGaWxlID0gYXN5bmMgKCkgPT4ge1xuICBjb25zdCB7IHBhdGggfSA9IGF3YWl0IGZpbGUoKTtcbiAgcmV0dXJuIHBhdGg7XG59O1xuIiwgImltcG9ydCB7XG4gIEN1cnJlbnRzUnVuUGFyYW1ldGVycyxcbiAgU3RyaXBwZWRDeXByZXNzTW9kdWxlQVBJT3B0aW9ucyxcbn0gZnJvbSBcImN5cHJlc3MtY2xvdWQvdHlwZXNcIjtcbmltcG9ydCBEZWJ1ZyBmcm9tIFwiZGVidWdcIjtcbmltcG9ydCBfIGZyb20gXCJsb2Rhc2hcIjtcbmltcG9ydCB7IGN1c3RvbUFscGhhYmV0IH0gZnJvbSBcIm5hbm9pZFwiO1xuY29uc3QgZGVidWcgPSBEZWJ1ZyhcImN1cnJlbnRzOmJvb3RcIik7XG5cbmltcG9ydCB7IGdldFN0cmlwcGVkQ3lwcmVzc09wdGlvbnMgfSBmcm9tIFwiLi4vY29uZmlnXCI7XG5jb25zdCBnZXREdW1teVNwZWMgPSBjdXN0b21BbHBoYWJldChcImFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6XCIsIDEwKTtcblxuZXhwb3J0IGZ1bmN0aW9uIGdldEJvb3RzdHJhcEFyZ3Moe1xuICBwYXJhbXMsXG4gIHBvcnQsXG4gIHRlbXBGaWxlUGF0aCxcbn06IHtcbiAgcGFyYW1zOiBDdXJyZW50c1J1blBhcmFtZXRlcnM7XG4gIHBvcnQ6IG51bWJlcjtcbiAgdGVtcEZpbGVQYXRoOiBzdHJpbmc7XG59KSB7XG4gIHJldHVybiBfLmNoYWluKGdldEN5cHJlc3NDTElQYXJhbXMocGFyYW1zKSlcbiAgICAudGhydSgob3B0cykgPT4gKHtcbiAgICAgIC4uLm9wdHMsXG4gICAgICAvLyBtZXJnZSB0aGUgZW52IHdpdGggdGhlIGN1cnJlbnRzIHNwZWNpZmljIGVudiB2YXJpYWJsZXNcbiAgICAgIGVudjoge1xuICAgICAgICAuLi4ob3B0cy5lbnYgPz8ge30pLFxuICAgICAgICBjdXJyZW50c190ZW1wX2ZpbGU6IHRlbXBGaWxlUGF0aCxcbiAgICAgICAgY3VycmVudHNfcG9ydDogcG9ydCxcbiAgICAgICAgY3VycmVudHNfZGVidWdfZW5hYmxlZDogcHJvY2Vzcy5lbnYuREVCVUc/LmluY2x1ZGVzKFwiY3VycmVudHM6XCIpXG4gICAgICAgICAgPyB0cnVlXG4gICAgICAgICAgOiBmYWxzZSxcbiAgICAgIH0sXG4gICAgfSkpXG4gICAgLnRhcCgob3B0cykgPT4ge1xuICAgICAgZGVidWcoXCJjeXByZXNzIGJvb3RzdHJhcCBwYXJhbXM6ICVvXCIsIG9wdHMpO1xuICAgIH0pXG4gICAgLnRocnUoc2VyaWFsaXplT3B0aW9ucylcbiAgICAudGFwKChvcHRzKSA9PiB7XG4gICAgICBkZWJ1ZyhcImN5cHJlc3MgYm9vdHN0cmFwIHNlcmlhbGl6ZWQgcGFyYW1zOiAlb1wiLCBvcHRzKTtcbiAgICB9KVxuICAgIC5maWx0ZXIoQm9vbGVhbilcbiAgICAudGhydSgoYXJncykgPT4ge1xuICAgICAgcmV0dXJuIFtcbiAgICAgICAgLi4uYXJncyxcbiAgICAgICAgXCItLXNwZWNcIixcbiAgICAgICAgZ2V0RHVtbXlTcGVjKCksXG4gICAgICAgIHBhcmFtcy50ZXN0aW5nVHlwZSA9PT0gXCJjb21wb25lbnRcIiA/IFwiLS1jb21wb25lbnRcIiA6IFwiLS1lMmVcIixcbiAgICAgIF07XG4gICAgfSlcbiAgICAudmFsdWUoKTtcbn1cblxuLyoqXG4gKiBDb252ZXJ0cyBDdXJyZW50cyBvcHRpb25zIHRvIEN5cHJlc3MgQ0xJIHBhcmFtcy5cbiAqIEN5cHJlc3MgQ0xJIG9wdGlvbnMgYXJlIGRpZmZlcmVudCBmcm9tIEN5cHJlc3MgbW9kdWxlIEFQSSBvcHRpb25zLlxuICpcbiAqIEBwYXJhbSBwYXJhbXMgQ3VycmVudHMgcGFyYW1cbiAqIEByZXR1cm5zIEN5cHJlc3MgQ0xJIHBhcmFtc1xuICogQHNlZSBodHRwczovL2RvY3MuY3lwcmVzcy5pby9ndWlkZXMvZ3VpZGVzL2NvbW1hbmQtbGluZSNjeXByZXNzLXJ1blxuICogQHNlZSBodHRwczovL2RvY3MuY3lwcmVzcy5pby9hcGkvbW9kdWxlLWFwaVxuICovXG5mdW5jdGlvbiBnZXRDeXByZXNzQ0xJUGFyYW1zKFxuICBwYXJhbXM6IEN1cnJlbnRzUnVuUGFyYW1ldGVyc1xuKTogU3RyaXBwZWRDeXByZXNzTW9kdWxlQVBJT3B0aW9ucyB7XG4gIGNvbnN0IHJlc3VsdCA9IGdldFN0cmlwcGVkQ3lwcmVzc09wdGlvbnMocGFyYW1zKTtcbiAgY29uc3QgdGVzdGluZ1R5cGUgPVxuICAgIHJlc3VsdC50ZXN0aW5nVHlwZSA9PT0gXCJjb21wb25lbnRcIlxuICAgICAgPyB7XG4gICAgICAgICAgY29tcG9uZW50OiB0cnVlLFxuICAgICAgICB9XG4gICAgICA6IHt9O1xuICByZXR1cm4ge1xuICAgIC4uLl8ub21pdChyZXN1bHQsIFwidGVzdGluZ1R5cGVcIiksXG4gICAgLi4udGVzdGluZ1R5cGUsXG4gIH07XG59XG5cbmZ1bmN0aW9uIHNlcmlhbGl6ZU9wdGlvbnMob3B0aW9uczogUmVjb3JkPHN0cmluZywgdW5rbm93bj4pOiBzdHJpbmdbXSB7XG4gIHJldHVybiBPYmplY3QuZW50cmllcyhvcHRpb25zKVxuICAgIC5mbGF0TWFwKChba2V5LCB2YWx1ZV0pID0+IHtcbiAgICAgIGNvbnN0IF9rZXkgPSBkYXNoZWQoa2V5KTtcbiAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT09IFwiYm9vbGVhblwiKSB7XG4gICAgICAgIHJldHVybiB2YWx1ZSA9PT0gdHJ1ZSA/IFtgLS0ke19rZXl9YF0gOiBbXTtcbiAgICAgIH1cblxuICAgICAgaWYgKF8uaXNPYmplY3QodmFsdWUpKSB7XG4gICAgICAgIHJldHVybiBbYC0tJHtfa2V5fWAsIHNlcmlhbGl6ZUNvbXBsZXhQYXJhbSh2YWx1ZSldO1xuICAgICAgfVxuXG4gICAgICAvLyBAdHMtaWdub3JlXG4gICAgICByZXR1cm4gW2AtLSR7X2tleX1gLCB2YWx1ZS50b1N0cmluZygpXTtcbiAgICB9KVxuICAgIC5maWx0ZXIoQm9vbGVhbik7XG59XG5cbmZ1bmN0aW9uIHNlcmlhbGl6ZUNvbXBsZXhQYXJhbShwYXJhbToge30pIHtcbiAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KHBhcmFtKTtcbn1cblxuY29uc3QgZGFzaGVkID0gKHY6IHN0cmluZykgPT4gdi5yZXBsYWNlKC9bQS1aXS9nLCAobSkgPT4gXCItXCIgKyBtLnRvTG93ZXJDYXNlKCkpO1xuIiwgImltcG9ydCBwYXRoIGZyb20gXCJwYXRoXCI7XG5cbmV4cG9ydCBmdW5jdGlvbiB0b0FycmF5KHZhbD86IHN0cmluZyB8IHN0cmluZ1tdKSB7XG4gIHJldHVybiB2YWwgPyAodHlwZW9mIHZhbCA9PT0gXCJzdHJpbmdcIiA/IFt2YWxdIDogdmFsKSA6IFtdO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gdG9Qb3NpeChmaWxlOiBzdHJpbmcsIHNlcDogc3RyaW5nID0gcGF0aC5zZXApIHtcbiAgcmV0dXJuIGZpbGUuc3BsaXQoc2VwKS5qb2luKHBhdGgucG9zaXguc2VwKTtcbn1cblxuZXhwb3J0IGNvbnN0IGdldFJhbmRvbVBvcnQgPSAoKSA9PiB7XG4gIGNvbnN0IG1pbiA9IDEwMjQ7XG4gIGNvbnN0IG1heCA9IDY1NTM1O1xuICByZXR1cm4gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogKG1heCAtIG1pbiArIDEpKSArIG1pbjtcbn07XG4iLCAiaW1wb3J0IHtcbiAgQ3VycmVudHNSdW5QYXJhbWV0ZXJzLFxuICBTdHJpcHBlZEN5cHJlc3NNb2R1bGVBUElPcHRpb25zLFxuICBWYWxpZGF0ZWRDdXJyZW50c1BhcmFtZXRlcnMsXG59IGZyb20gXCJjeXByZXNzLWNsb3VkL3R5cGVzXCI7XG5pbXBvcnQgRGVidWcgZnJvbSBcImRlYnVnXCI7XG5pbXBvcnQgXyBmcm9tIFwibG9kYXNoXCI7XG5pbXBvcnQgeyBWYWxpZGF0aW9uRXJyb3IgfSBmcm9tIFwiLi4vZXJyb3JzXCI7XG5pbXBvcnQgeyBlcnJvciB9IGZyb20gXCIuLi9sb2dcIjtcbmltcG9ydCB7IGdldEN1cnJlbnRzQ29uZmlnIH0gZnJvbSBcIi4vY29uZmlnXCI7XG5jb25zdCBkZWJ1ZyA9IERlYnVnKFwiY3VycmVudHM6dmFsaWRhdGVQYXJhbXNcIik7XG5cbmV4cG9ydCBmdW5jdGlvbiBmYWxsYmFjayguLi5hcmdzOiBzdHJpbmdbXSkge1xuICByZXR1cm4gYXJncy5maW5kKChhcmcpID0+IGFyZyAhPT0gdW5kZWZpbmVkICYmIGFyZyAhPT0gbnVsbCAmJiBhcmcgIT09IFwiXCIpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gcmVzb2x2ZUN1cnJlbnRzUGFyYW1zKFxuICBwYXJhbXM6IEN1cnJlbnRzUnVuUGFyYW1ldGVyc1xuKTogQ3VycmVudHNSdW5QYXJhbWV0ZXJzIHtcbiAgY29uc3QgY29uZmlnRnJvbUZpbGUgPSBnZXRDdXJyZW50c0NvbmZpZygpO1xuXG4gIGNvbnN0IGNsb3VkU2VydmljZVVybCA9XG4gICAgcGFyYW1zLmNsb3VkU2VydmljZVVybCA/P1xuICAgIHByb2Nlc3MuZW52LkNVUlJFTlRTX0FQSV9VUkwgPz9cbiAgICBjb25maWdGcm9tRmlsZS5jbG91ZFNlcnZpY2VVcmw7XG5cbiAgY29uc3QgcmVjb3JkS2V5ID1cbiAgICBwYXJhbXMucmVjb3JkS2V5ID8/XG4gICAgcHJvY2Vzcy5lbnYuQ1VSUkVOVFNfUkVDT1JEX0tFWSA/P1xuICAgIGNvbmZpZ0Zyb21GaWxlLnJlY29yZEtleTtcblxuICBjb25zdCBwcm9qZWN0SWQgPVxuICAgIHBhcmFtcy5wcm9qZWN0SWQgPz9cbiAgICBwcm9jZXNzLmVudi5DVVJSRU5UU19QUk9KRUNUX0lEID8/XG4gICAgY29uZmlnRnJvbUZpbGUucHJvamVjdElkO1xuXG4gIGNvbnN0IHRlc3RpbmdUeXBlID0gcGFyYW1zLnRlc3RpbmdUeXBlID8/IFwiZTJlXCI7XG5cbiAgY29uc3QgYmF0Y2hTaXplID1cbiAgICB0ZXN0aW5nVHlwZSA9PT0gXCJlMmVcIlxuICAgICAgPyBjb25maWdGcm9tRmlsZS5lMmUuYmF0Y2hTaXplXG4gICAgICA6IGNvbmZpZ0Zyb21GaWxlLmNvbXBvbmVudC5iYXRjaFNpemU7XG5cbiAgLy8gYmF0Y2hTaXplIGFuZCBjbG91ZFNlcnZpY2VVcmwgZGVmYXVsdHMgYXJlIGluIGdldEN1cnJlbnRzQ29uZmlnKClcbiAgcmV0dXJuIHtcbiAgICAuLi5wYXJhbXMsXG4gICAgY2xvdWRTZXJ2aWNlVXJsLFxuICAgIHJlY29yZEtleSxcbiAgICBwcm9qZWN0SWQsXG4gICAgYmF0Y2hTaXplLFxuICAgIHRlc3RpbmdUeXBlLFxuICB9O1xufVxuXG5leHBvcnQgY29uc3QgcHJvamVjdElkRXJyb3IgPSBgQ2Fubm90IHJlc29sdmUgcHJvamVjdElkLiBQbGVhc2UgdXNlIG9uZSBvZiB0aGUgZm9sbG93aW5nOlxuLSBzZXQgQ1VSUkVOVFNfUFJPSkVDVF9JRCBlbnZpcm9ubWVudCB2YXJpYWJsZVxuLSBzZXQgXCJwcm9qZWN0SWRcIiBpbiBcImN1cnJlbnRzLmNvbmZpZy5qc1wiIGZpbGVcbi0gcHJvdmlkZSBpdCBhcyBhIFwicHJvamVjdElkXCIgcHJvcGVydHkgZm9yIFwicnVuXCIgQVBJIG1ldGhvZGA7XG5cbmV4cG9ydCBjb25zdCBjbG91ZFNlcnZpY2VVcmxFcnJvciA9IGBDYW5ub3QgcmVzb2x2ZSBjbG91ZCBzZXJ2aWNlIFVSTC4gUGxlYXNlIHVzZSBvbmUgb2YgdGhlIGZvbGxvd2luZzpcbi0gc2V0IENVUlJFTlRTX0FQSV9VUkwgZW52aXJvbm1lbnQgdmFyaWFibGVcbi0gc2V0IFwiY2xvdWRTZXJ2aWNlVXJsXCIgaW4gXCJjdXJyZW50cy5jb25maWcuanNcIiBmaWxlXG4tIHByb3ZpZGUgaXQgYXMgYSBcImNsb3VkU2VydmljZVVybFwiIHByb3BlcnR5IGZvciBcInJ1blwiIEFQSSBtZXRob2RgO1xuXG5leHBvcnQgY29uc3QgY2xvdWRTZXJ2aWNlSW52YWxpZFVybEVycm9yID0gYEludmFsaWQgY2xvdWQgc2VydmljZSBVUkwgcHJvdmlkZWRgO1xuXG5leHBvcnQgY29uc3QgcmVjb3JkS2V5RXJyb3IgPSBgQ2Fubm90IHJlc29sdmUgcmVjb3JkIGtleS4gUGxlYXNlIHVzZSBvbmUgb2YgdGhlIGZvbGxvd2luZzpcbi0gc2V0IENVUlJFTlRTX1JFQ09SRF9LRVkgZW52aXJvbm1lbnQgdmFyaWFibGVcbi0gcGFzcyBpdCBhcyBhIGNsaSBmbGFnICctaywgLS1rZXkgPHJlY29yZC1rZXk+J1xuLSBzZXQgXCJyZWNvcmRLZXlcIiBpbiBcImN1cnJlbnRzLmNvbmZpZy5qc1wiIGZpbGVcbi0gcHJvdmlkZSBpdCBhcyBhIFwicmVjb3JkS2V5XCIgcHJvcGVydHkgZm9yIFwicnVuXCIgQVBJIG1ldGhvZGA7XG5cbmV4cG9ydCBmdW5jdGlvbiB2YWxpZGF0ZVBhcmFtcyhcbiAgX3BhcmFtczogQ3VycmVudHNSdW5QYXJhbWV0ZXJzXG4pOiBWYWxpZGF0ZWRDdXJyZW50c1BhcmFtZXRlcnMge1xuICBjb25zdCBwYXJhbXMgPSByZXNvbHZlQ3VycmVudHNQYXJhbXMoX3BhcmFtcyk7XG4gIGlmICghcGFyYW1zLmNsb3VkU2VydmljZVVybCkge1xuICAgIHRocm93IG5ldyBWYWxpZGF0aW9uRXJyb3IoY2xvdWRTZXJ2aWNlVXJsRXJyb3IpO1xuICB9XG4gIGlmICghcGFyYW1zLnByb2plY3RJZCkge1xuICAgIHRocm93IG5ldyBWYWxpZGF0aW9uRXJyb3IocHJvamVjdElkRXJyb3IpO1xuICB9XG4gIGlmICghcGFyYW1zLnJlY29yZEtleSkge1xuICAgIHRocm93IG5ldyBWYWxpZGF0aW9uRXJyb3IocmVjb3JkS2V5RXJyb3IpO1xuICB9XG5cbiAgLy8gdmFsaWRhdGUgY2xvdWRTZXJ2aWNlVXJsXG4gIHRyeSB7XG4gICAgbmV3IFVSTChwYXJhbXMuY2xvdWRTZXJ2aWNlVXJsKTtcbiAgfSBjYXRjaCAoZXJyKSB7XG4gICAgdGhyb3cgbmV3IFZhbGlkYXRpb25FcnJvcihcbiAgICAgIGAke2Nsb3VkU2VydmljZUludmFsaWRVcmxFcnJvcn06IFwiJHtwYXJhbXMuY2xvdWRTZXJ2aWNlVXJsfVwiYFxuICAgICk7XG4gIH1cblxuICBjb25zdCByZXF1aXJlZFBhcmFtZXRlcnM6IEFycmF5PGtleW9mIEN1cnJlbnRzUnVuUGFyYW1ldGVycz4gPSBbXG4gICAgXCJ0ZXN0aW5nVHlwZVwiLFxuICAgIFwiYmF0Y2hTaXplXCIsXG4gIF07XG4gIHJlcXVpcmVkUGFyYW1ldGVycy5mb3JFYWNoKChrZXkpID0+IHtcbiAgICBpZiAodHlwZW9mIHBhcmFtc1trZXldID09PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICBlcnJvcihcbiAgICAgICAgJ01pc3NpbmcgcmVxdWlyZWQgcGFyYW1ldGVyIFwiJXNcIi4gUGxlYXNlIHByb3ZpZGUgYXQgbGVhc3QgdGhlIGZvbGxvd2luZyBwYXJhbWV0ZXJzOiAlcycsXG4gICAgICAgIGtleSxcbiAgICAgICAgcmVxdWlyZWRQYXJhbWV0ZXJzLmpvaW4oXCIsIFwiKVxuICAgICAgKTtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIk1pc3NpbmcgcmVxdWlyZWQgcGFyYW1ldGVyXCIpO1xuICAgIH1cbiAgfSk7XG4gIGRlYnVnKFwidmFsaWRhdGVkIGN1cnJlbnRzIHBhcmFtZXRlczogJW9cIiwgcGFyYW1zKTtcbiAgcmV0dXJuIHBhcmFtcyBhcyBWYWxpZGF0ZWRDdXJyZW50c1BhcmFtZXRlcnM7XG59XG5cbi8qKlxuICpcbiAqIEByZXR1cm5zIEN5cHJlc3Mgbm9uLWVtcHR5IG9wdGlvbnMgd2l0aG91dCB0aGUgb25lcyB0aGF0IGFyZSBub3QgcmVsZXZhbnQgZm9yIHRoZSBydW5uZXJcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldFN0cmlwcGVkQ3lwcmVzc09wdGlvbnMoXG4gIHBhcmFtczogQ3VycmVudHNSdW5QYXJhbWV0ZXJzXG4pOiBTdHJpcHBlZEN5cHJlc3NNb2R1bGVBUElPcHRpb25zIHtcbiAgcmV0dXJuIF8ucGlja0J5KFxuICAgIF8ub21pdChwYXJhbXMsIFtcbiAgICAgIFwiY2xvdWRTZXJ2aWNlVXJsXCIsXG4gICAgICBcImJhdGNoU2l6ZVwiLFxuICAgICAgXCJwcm9qZWN0SWRcIixcbiAgICAgIFwicmVjb3JkXCIsXG4gICAgICBcImtleVwiLFxuICAgICAgXCJyZWNvcmRLZXlcIixcbiAgICAgIFwiZ3JvdXBcIixcbiAgICAgIFwicGFyYWxsZWxcIixcbiAgICAgIFwidGFnXCIsXG4gICAgICBcImNpQnVpbGRJZFwiLFxuICAgICAgXCJzcGVjXCIsXG4gICAgICBcImV4aXRcIixcbiAgICAgIFwiaGVhZGVkXCIsXG4gICAgICBcImhlYWRsZXNzXCIsXG4gICAgXSksXG4gICAgQm9vbGVhblxuICApO1xufVxuIiwgIi8vIEB0cy1pZ25vcmVcbmltcG9ydCBnaXQgZnJvbSBcIkBjeXByZXNzL2NvbW1pdC1pbmZvXCI7XG5pbXBvcnQgeyBnZXRDb21taXREZWZhdWx0cyB9IGZyb20gXCIuL2NpUHJvdmlkZXJcIjtcblxuZXhwb3J0IGNvbnN0IGdldEdpdEluZm8gPSBhc3luYyAocHJvamVjdFJvb3Q6IHN0cmluZykgPT4ge1xuICBjb25zdCBjb21taXRJbmZvID0gYXdhaXQgZ2l0LmNvbW1pdEluZm8ocHJvamVjdFJvb3QpO1xuICByZXR1cm4gZ2V0Q29tbWl0RGVmYXVsdHMoe1xuICAgIGJyYW5jaDogY29tbWl0SW5mby5icmFuY2gsXG4gICAgcmVtb3RlT3JpZ2luOiBjb21taXRJbmZvLnJlbW90ZSxcbiAgICBhdXRob3JFbWFpbDogY29tbWl0SW5mby5lbWFpbCxcbiAgICBhdXRob3JOYW1lOiBjb21taXRJbmZvLmF1dGhvcixcbiAgICBtZXNzYWdlOiBjb21taXRJbmZvLm1lc3NhZ2UsXG4gICAgc2hhOiBjb21taXRJbmZvLnNoYSxcbiAgfSk7XG59O1xuIiwgImltcG9ydCB7IE1lcmdlZENvbmZpZyB9IGZyb20gXCIuLi9jb25maWdcIjtcbmltcG9ydCB7IGd1ZXNzQnJvd3NlciB9IGZyb20gXCIuL2Jyb3dzZXJcIjtcbmltcG9ydCB7IGdldFBsYXRmb3JtSW5mbyB9IGZyb20gXCIuL3BsYXRmb3JtXCI7XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRQbGF0Zm9ybSh7XG4gIGJyb3dzZXIsXG4gIGNvbmZpZyxcbn06IHtcbiAgYnJvd3Nlcj86IHN0cmluZztcbiAgY29uZmlnOiBNZXJnZWRDb25maWc7XG59KSB7XG4gIHJldHVybiB7XG4gICAgLi4uKGF3YWl0IGdldFBsYXRmb3JtSW5mbygpKSxcbiAgICAuLi5ndWVzc0Jyb3dzZXIoYnJvd3NlciA/PyBcImVsZWN0cm9uXCIsIGNvbmZpZy5yZXNvbHZlZD8uYnJvd3NlcnMpLFxuICB9O1xufVxuIiwgImltcG9ydCBEZWJ1ZyBmcm9tIFwiZGVidWdcIjtcbmltcG9ydCB7IERldGVjdGVkQnJvd3NlciwgUGxhdGZvcm0gfSBmcm9tIFwiLi4vLi4vdHlwZXNcIjtcbmltcG9ydCB7IHdhcm4gfSBmcm9tIFwiLi4vbG9nXCI7XG5cbmNvbnN0IGRlYnVnID0gRGVidWcoXCJjdXJyZW50czpicm93c2VyXCIpO1xuXG5leHBvcnQgZnVuY3Rpb24gZ3Vlc3NCcm93c2VyKFxuICBicm93c2VyOiBzdHJpbmcsXG4gIGF2YWlsYWJsZUJyb3dzZXJzOiBEZXRlY3RlZEJyb3dzZXJbXSA9IFtdXG4pOiBQaWNrPFBsYXRmb3JtLCBcImJyb3dzZXJOYW1lXCIgfCBcImJyb3dzZXJWZXJzaW9uXCI+IHtcbiAgZGVidWcoXG4gICAgXCJndWVzc2luZyBicm93c2VyIGZyb20gJyVzJywgYXZhaWxhYmxlIGJyb3dzZXJzOiAlb1wiLFxuICAgIGJyb3dzZXIsXG4gICAgYXZhaWxhYmxlQnJvd3NlcnNcbiAgKTtcbiAgLy8gdHJ5IGlkZW50aWZ5aW5nIHRoZSBicm93c2VyIGJ5IG5hbWUgZmlyc3RcbiAgbGV0IHJlc3VsdCA9IGF2YWlsYWJsZUJyb3dzZXJzLmZpbmQoKGIpID0+IGIubmFtZSA9PT0gYnJvd3Nlcik7XG5cbiAgaWYgKHJlc3VsdCkge1xuICAgIGRlYnVnKFwiaWRlbnRpZmllZCBicm93c2VyIGJ5IG5hbWU6ICVvXCIsIHJlc3VsdCk7XG4gICAgcmV0dXJuIHtcbiAgICAgIGJyb3dzZXJOYW1lOiByZXN1bHQuZGlzcGxheU5hbWUsXG4gICAgICBicm93c2VyVmVyc2lvbjogcmVzdWx0LnZlcnNpb24sXG4gICAgfTtcbiAgfVxuXG4gIC8vIG90aGVyd2lzZSwgdHJ5IGlkZW50aWZ5aW5nIGJ5IHRoZSBwYXRoXG4gIHJlc3VsdCA9IGF2YWlsYWJsZUJyb3dzZXJzLmZpbmQoKGIpID0+IGIucGF0aCA9PT0gYnJvd3Nlcik7XG4gIGlmIChyZXN1bHQpIHtcbiAgICBkZWJ1ZyhcImlkZW50aWZpZWQgYnJvd3NlciBieSBwYXRoOiAlb1wiLCByZXN1bHQpO1xuICAgIHJldHVybiB7XG4gICAgICBicm93c2VyTmFtZTogcmVzdWx0LmRpc3BsYXlOYW1lID8/IHJlc3VsdC5uYW1lLFxuICAgICAgYnJvd3NlclZlcnNpb246IHJlc3VsdC52ZXJzaW9uLFxuICAgIH07XG4gIH1cblxuICB3YXJuKFwiVW5hYmxlIHRvIGlkZW50aWZ5IGJyb3dzZXIgbmFtZSBhbmQgdmVyc2lvblwiKTtcblxuICAvLyBvdGhlcndpc2UsIHJldHVybiBkdW1teSBicm93c2VyXG4gIHJldHVybiB7XG4gICAgYnJvd3Nlck5hbWU6IFwidW5rbm93blwiLFxuICAgIGJyb3dzZXJWZXJzaW9uOiBcInVua25vd25cIixcbiAgfTtcbn1cbiIsICJpbXBvcnQgRGVidWcgZnJvbSBcImRlYnVnXCI7XG5pbXBvcnQgZ2V0b3MgZnJvbSBcImdldG9zXCI7XG5pbXBvcnQgeyBjcHVzLCBmcmVlbWVtLCBwbGF0Zm9ybSwgcmVsZWFzZSwgdG90YWxtZW0gfSBmcm9tIFwib3NcIjtcbmltcG9ydCB7IHByb21pc2lmeSB9IGZyb20gXCJ1dGlsXCI7XG5jb25zdCBkZWJ1ZyA9IERlYnVnKFwiY3VycmVudHM6cGxhdGZvcm1cIik7XG5cbmNvbnN0IGdldE9zVmVyc2lvbiA9IGFzeW5jICgpID0+IHtcbiAgaWYgKHBsYXRmb3JtKCkgPT09IFwibGludXhcIikge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCBsaW51eE9zID0gYXdhaXQgcHJvbWlzaWZ5KGdldG9zKSgpO1xuICAgICAgaWYgKFwiZGlzdFwiIGluIGxpbnV4T3MgJiYgXCJyZWxlYXNlXCIgaW4gbGludXhPcykge1xuICAgICAgICByZXR1cm4gW2xpbnV4T3MuZGlzdCwgbGludXhPcy5yZWxlYXNlXS5qb2luKFwiIC0gXCIpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIHJlbGVhc2UoKTtcbiAgICAgIH1cbiAgICB9IGNhdGNoIHtcbiAgICAgIHJldHVybiByZWxlYXNlKCk7XG4gICAgfVxuICB9XG4gIHJldHVybiByZWxlYXNlKCk7XG59O1xuXG5leHBvcnQgY29uc3QgZ2V0UGxhdGZvcm1JbmZvID0gYXN5bmMgKCkgPT4ge1xuICBjb25zdCBvc1ZlcnNpb24gPSBhd2FpdCBnZXRPc1ZlcnNpb24oKTtcbiAgY29uc3QgcmVzdWx0ID0ge1xuICAgIG9zTmFtZTogcGxhdGZvcm0oKSxcbiAgICBvc1ZlcnNpb24sXG4gICAgb3NDcHVzOiBjcHVzKCksXG4gICAgb3NNZW1vcnk6IHtcbiAgICAgIGZyZWU6IGZyZWVtZW0oKSxcbiAgICAgIHRvdGFsOiB0b3RhbG1lbSgpLFxuICAgIH0sXG4gIH07XG4gIGRlYnVnKFwicGxhdGZvcm0gaW5mbzogJW9cIiwgcmVzdWx0KTtcbiAgcmV0dXJuIHJlc3VsdDtcbn07XG4iLCAiZXhwb3J0ICogZnJvbSBcIi4vcmVzdWx0c1wiO1xuZXhwb3J0ICogZnJvbSBcIi4vdGFibGVcIjtcbmV4cG9ydCAqIGZyb20gXCIuL3VwbG9hZFJlc3VsdHNcIjtcbiIsICJpbXBvcnQgeyBDeXByZXNzUmVzdWx0LCBTY3JlZW5zaG90QXJ0aWZhY3QgfSBmcm9tIFwiY3lwcmVzcy1jbG91ZC90eXBlc1wiO1xuaW1wb3J0IERlYnVnIGZyb20gXCJkZWJ1Z1wiO1xuaW1wb3J0IF8gZnJvbSBcImxvZGFzaFwiO1xuaW1wb3J0IHsgbmFub2lkIH0gZnJvbSBcIm5hbm9pZFwiO1xuaW1wb3J0IHtcbiAgU2V0SW5zdGFuY2VUZXN0c1BheWxvYWQsXG4gIFRlc3RTdGF0ZSxcbiAgVXBkYXRlSW5zdGFuY2VSZXN1bHRzUGF5bG9hZCxcbn0gZnJvbSBcIi4uL2FwaVwiO1xuaW1wb3J0IHsgTWVyZ2VkQ29uZmlnIH0gZnJvbSBcIi4uL2NvbmZpZy9jb25maWdcIjtcblxuY29uc3QgZGVidWcgPSBEZWJ1ZyhcImN1cnJlbnRzOnJlc3VsdHNcIik7XG5cbmV4cG9ydCBjb25zdCBpc1N1Y2Nlc3NSZXN1bHQgPSAoXG4gIHJlc3VsdDogQ3lwcmVzc1Jlc3VsdFxuKTogcmVzdWx0IGlzIEN5cHJlc3NDb21tYW5kTGluZS5DeXByZXNzUnVuUmVzdWx0ID0+IHtcbiAgcmV0dXJuIHJlc3VsdC5zdGF0dXMgPT09IFwiZmluaXNoZWRcIjtcbn07XG5cbmV4cG9ydCBjb25zdCBnZXRTY3JlZW5zaG90c1N1bW1hcnkgPSAoXG4gIHRlc3RzOiBDeXByZXNzQ29tbWFuZExpbmUuVGVzdFJlc3VsdFtdID0gW11cbik6IFNjcmVlbnNob3RBcnRpZmFjdFtdID0+IHtcbiAgcmV0dXJuIHRlc3RzLmZsYXRNYXAoKHRlc3QsIGkpID0+XG4gICAgdGVzdC5hdHRlbXB0cy5mbGF0TWFwKChhLCBhaSkgPT5cbiAgICAgIGEuc2NyZWVuc2hvdHMuZmxhdE1hcCgocykgPT4gKHtcbiAgICAgICAgLi4ucyxcbiAgICAgICAgdGVzdElkOiBgciR7aX1gLFxuICAgICAgICB0ZXN0QXR0ZW1wdEluZGV4OiBhaSxcbiAgICAgICAgc2NyZWVuc2hvdElkOiBuYW5vaWQoKSxcbiAgICAgIH0pKVxuICAgIClcbiAgKTtcbn07XG5cbmV4cG9ydCBjb25zdCBnZXRTdGF0cyA9IChzdGF0czogQ3lwcmVzc0NvbW1hbmRMaW5lLlJ1blJlc3VsdFtcInN0YXRzXCJdKSA9PiB7XG4gIHJldHVybiB7XG4gICAgLi4uc3RhdHMsXG4gICAgd2FsbENsb2NrRHVyYXRpb246IHN0YXRzLmR1cmF0aW9uLFxuICAgIHdhbGxDbG9ja1N0YXJ0ZWRBdDogc3RhdHMuc3RhcnRlZEF0LFxuICAgIHdhbGxDbG9ja0VuZGVkQXQ6IHN0YXRzLmVuZGVkQXQsXG4gIH07XG59O1xuXG5leHBvcnQgY29uc3QgZ2V0VGVzdEF0dGVtcHQgPSAoYXR0ZW1wdDogQ3lwcmVzc0NvbW1hbmRMaW5lLkF0dGVtcHRSZXN1bHQpID0+IHtcbiAgcmV0dXJuIHtcbiAgICAuLi5hdHRlbXB0LFxuICAgIHN0YXRlOiBhdHRlbXB0LnN0YXRlIGFzIFRlc3RTdGF0ZSxcbiAgICB3YWxsQ2xvY2tEdXJhdGlvbjogYXR0ZW1wdC5kdXJhdGlvbixcbiAgICB3YWxsQ2xvY2tTdGFydGVkQXQ6IGF0dGVtcHQuc3RhcnRlZEF0LFxuICB9O1xufTtcblxuZXhwb3J0IGNvbnN0IGdldEluc3RhbmNlUmVzdWx0UGF5bG9hZCA9IChcbiAgcnVuUmVzdWx0OiBDeXByZXNzQ29tbWFuZExpbmUuUnVuUmVzdWx0XG4pOiBVcGRhdGVJbnN0YW5jZVJlc3VsdHNQYXlsb2FkID0+IHtcbiAgY29uc3QgYWx0VGVzdHMgPSBbXTtcbiAgaWYgKHJ1blJlc3VsdC5lcnJvciAmJiAhcnVuUmVzdWx0LnRlc3RzPy5sZW5ndGgpIHtcbiAgICBhbHRUZXN0cy5wdXNoKGdldEZha2VUZXN0RnJvbUV4Y2VwdGlvbihydW5SZXN1bHQuZXJyb3IsIHJ1blJlc3VsdC5zdGF0cykpO1xuICB9XG4gIHJldHVybiB7XG4gICAgc3RhdHM6IGdldFN0YXRzKHJ1blJlc3VsdC5zdGF0cyksXG4gICAgcmVwb3J0ZXJTdGF0czogcnVuUmVzdWx0LnJlcG9ydGVyU3RhdHMsXG4gICAgZXhjZXB0aW9uOiBydW5SZXN1bHQuZXJyb3IgPz8gbnVsbCxcbiAgICB2aWRlbzogISFydW5SZXN1bHQudmlkZW8sIC8vIERpZCB0aGUgaW5zdGFuY2UgZ2VuZXJhdGUgYSB2aWRlbz9cbiAgICBzY3JlZW5zaG90czogZ2V0U2NyZWVuc2hvdHNTdW1tYXJ5KHJ1blJlc3VsdC50ZXN0cyA/PyBbXSksXG4gICAgdGVzdHM6XG4gICAgICBydW5SZXN1bHQudGVzdHM/Lm1hcCgodGVzdCwgaSkgPT4gKHtcbiAgICAgICAgZGlzcGxheUVycm9yOiB0ZXN0LmRpc3BsYXlFcnJvcixcbiAgICAgICAgc3RhdGU6IHRlc3Quc3RhdGUgYXMgVGVzdFN0YXRlLFxuICAgICAgICBob29rczogcnVuUmVzdWx0Lmhvb2tzLFxuICAgICAgICBhdHRlbXB0czogdGVzdC5hdHRlbXB0cz8ubWFwKGdldFRlc3RBdHRlbXB0KSA/PyBbXSxcbiAgICAgICAgY2xpZW50SWQ6IGByJHtpfWAsXG4gICAgICB9KSkgPz8gYWx0VGVzdHMsXG4gIH07XG59O1xuXG5mdW5jdGlvbiBnZXRGYWtlVGVzdEZyb21FeGNlcHRpb24oXG4gIGVycm9yOiBzdHJpbmcsXG4gIHN0YXRzOiBDeXByZXNzQ29tbWFuZExpbmUuUnVuUmVzdWx0W1wic3RhdHNcIl1cbikge1xuICByZXR1cm4ge1xuICAgIHRpdGxlOiBbXCJVbmtub3duXCJdLFxuICAgIGJvZHk6IFwiXCIsXG4gICAgZGlzcGxheUVycm9yOiBlcnJvci5zcGxpdChcIlxcblwiKVswXSxcbiAgICBzdGF0ZTogXCJmYWlsZWRcIixcbiAgICBob29rczogW10sXG4gICAgYXR0ZW1wdHM6IFtcbiAgICAgIGdldFRlc3RBdHRlbXB0KHtcbiAgICAgICAgc3RhdGU6IFwiZmFpbGVkXCIsXG4gICAgICAgIGR1cmF0aW9uOiAwLFxuICAgICAgICBlcnJvcjoge1xuICAgICAgICAgIG5hbWU6IFwiRXJyb3JcIixcbiAgICAgICAgICBtZXNzYWdlOiBlcnJvci5zcGxpdChcIlxcblwiKVswXSxcbiAgICAgICAgICBzdGFjazogZXJyb3IsXG4gICAgICAgIH0sXG4gICAgICAgIHNjcmVlbnNob3RzOiBbXSxcbiAgICAgICAgc3RhcnRlZEF0OiBzdGF0cy5zdGFydGVkQXQsXG4gICAgICAgIHZpZGVvVGltZXN0YW1wOiAwLFxuICAgICAgfSksXG4gICAgXSxcbiAgICBjbGllbnRJZDogXCJyMFwiLFxuICB9O1xufVxuXG5leHBvcnQgY29uc3QgZ2V0SW5zdGFuY2VUZXN0c1BheWxvYWQgPSAoXG4gIHJ1blJlc3VsdDogQ3lwcmVzc0NvbW1hbmRMaW5lLlJ1blJlc3VsdCxcbiAgY29uZmlnOiBDeXByZXNzLlJlc29sdmVkQ29uZmlnT3B0aW9uc1xuKTogU2V0SW5zdGFuY2VUZXN0c1BheWxvYWQgPT4ge1xuICBjb25zdCBhbHRUZXN0cyA9IFtdO1xuICBpZiAocnVuUmVzdWx0LmVycm9yICYmICFydW5SZXN1bHQudGVzdHM/Lmxlbmd0aCkge1xuICAgIGFsdFRlc3RzLnB1c2goZ2V0RmFrZVRlc3RGcm9tRXhjZXB0aW9uKHJ1blJlc3VsdC5lcnJvciwgcnVuUmVzdWx0LnN0YXRzKSk7XG4gIH1cbiAgcmV0dXJuIHtcbiAgICBjb25maWcsXG4gICAgdGVzdHM6XG4gICAgICBydW5SZXN1bHQudGVzdHM/Lm1hcCgodGVzdCwgaSkgPT4gKHtcbiAgICAgICAgdGl0bGU6IHRlc3QudGl0bGUsXG4gICAgICAgIGNvbmZpZzogbnVsbCxcbiAgICAgICAgYm9keTogdGVzdC5ib2R5LFxuICAgICAgICBjbGllbnRJZDogYHIke2l9YCxcbiAgICAgICAgaG9va0lkczogW10sXG4gICAgICB9KSkgPz8gYWx0VGVzdHMsXG4gICAgaG9va3M6IHJ1blJlc3VsdC5ob29rcyxcbiAgfTtcbn07XG5cbmV4cG9ydCBjb25zdCBzdW1tYXJpemVUZXN0UmVzdWx0cyA9IChcbiAgaW5wdXQ6IEN5cHJlc3NDb21tYW5kTGluZS5DeXByZXNzUnVuUmVzdWx0W10sXG4gIGNvbmZpZzogTWVyZ2VkQ29uZmlnXG4pOiBDeXByZXNzQ29tbWFuZExpbmUuQ3lwcmVzc1J1blJlc3VsdCA9PiB7XG4gIGlmICghaW5wdXQubGVuZ3RoKSB7XG4gICAgcmV0dXJuIGdldEVtcHR5Q3lwcmVzc1Jlc3VsdHMoY29uZmlnKTtcbiAgfVxuXG4gIGNvbnN0IG92ZXJhbGwgPSBpbnB1dC5yZWR1Y2UoXG4gICAgKFxuICAgICAgYWNjLFxuICAgICAge1xuICAgICAgICB0b3RhbER1cmF0aW9uLFxuICAgICAgICB0b3RhbEZhaWxlZCxcbiAgICAgICAgdG90YWxQYXNzZWQsXG4gICAgICAgIHRvdGFsUGVuZGluZyxcbiAgICAgICAgdG90YWxTa2lwcGVkLFxuICAgICAgICB0b3RhbFRlc3RzLFxuICAgICAgICB0b3RhbFN1aXRlcyxcbiAgICAgIH1cbiAgICApID0+ICh7XG4gICAgICB0b3RhbER1cmF0aW9uOiBhY2MudG90YWxEdXJhdGlvbiArIHRvdGFsRHVyYXRpb24sXG4gICAgICB0b3RhbFN1aXRlczogYWNjLnRvdGFsU3VpdGVzICsgdG90YWxTdWl0ZXMsXG4gICAgICB0b3RhbFBlbmRpbmc6IGFjYy50b3RhbFBlbmRpbmcgKyB0b3RhbFBlbmRpbmcsXG4gICAgICB0b3RhbEZhaWxlZDogYWNjLnRvdGFsRmFpbGVkICsgdG90YWxGYWlsZWQsXG4gICAgICB0b3RhbFNraXBwZWQ6IGFjYy50b3RhbFNraXBwZWQgKyB0b3RhbFNraXBwZWQsXG4gICAgICB0b3RhbFBhc3NlZDogYWNjLnRvdGFsUGFzc2VkICsgdG90YWxQYXNzZWQsXG4gICAgICB0b3RhbFRlc3RzOiBhY2MudG90YWxUZXN0cyArIHRvdGFsVGVzdHMsXG4gICAgfSksXG4gICAgZW1wdHlTdGF0c1xuICApO1xuICBjb25zdCBmaXJzdFJlc3VsdCA9IGlucHV0WzBdO1xuICBjb25zdCBzdGFydEl0ZW1zID0gaW5wdXQubWFwKChpKSA9PiBpLnN0YXJ0ZWRUZXN0c0F0KS5zb3J0KCk7XG4gIGNvbnN0IGVuZEl0ZW1zID0gaW5wdXQubWFwKChpKSA9PiBpLmVuZGVkVGVzdHNBdCkuc29ydCgpO1xuICBjb25zdCBydW5zID0gaW5wdXQubWFwKChpKSA9PiBpLnJ1bnMpLmZsYXQoKTtcbiAgcmV0dXJuIHtcbiAgICAuLi5vdmVyYWxsLFxuICAgIHJ1bnMsXG4gICAgc3RhcnRlZFRlc3RzQXQ6IF8uZmlyc3Qoc3RhcnRJdGVtcykgYXMgc3RyaW5nLFxuICAgIGVuZGVkVGVzdHNBdDogXy5sYXN0KGVuZEl0ZW1zKSBhcyBzdHJpbmcsXG4gICAgLi4uXy5waWNrKFxuICAgICAgZmlyc3RSZXN1bHQsXG4gICAgICBcImJyb3dzZXJOYW1lXCIsXG4gICAgICBcImJyb3dzZXJWZXJzaW9uXCIsXG4gICAgICBcImJyb3dzZXJQYXRoXCIsXG4gICAgICBcIm9zTmFtZVwiLFxuICAgICAgXCJvc1ZlcnNpb25cIixcbiAgICAgIFwiY3lwcmVzc1ZlcnNpb25cIixcbiAgICAgIFwiY29uZmlnXCJcbiAgICApLFxuICAgIHN0YXR1czogXCJmaW5pc2hlZFwiLFxuICB9O1xufTtcblxuZXhwb3J0IGZ1bmN0aW9uIGdldEVtcHR5Q3lwcmVzc1Jlc3VsdHMoXG4gIGNvbmZpZzogTWVyZ2VkQ29uZmlnXG4pOiBDeXByZXNzQ29tbWFuZExpbmUuQ3lwcmVzc1J1blJlc3VsdCB7XG4gIHJldHVybiB7XG4gICAgLi4uZW1wdHlTdGF0cyxcbiAgICBzdGF0dXM6IFwiZmluaXNoZWRcIixcbiAgICBzdGFydGVkVGVzdHNBdDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxuICAgIGVuZGVkVGVzdHNBdDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxuICAgIHJ1bnM6IFtdLFxuICAgIC8vIEB0cy1pZ25vcmVcbiAgICBjb25maWcsXG4gIH07XG59XG5jb25zdCBlbXB0eVN0YXRzID0ge1xuICB0b3RhbER1cmF0aW9uOiAwLFxuICB0b3RhbFN1aXRlczogMCxcbiAgdG90YWxQZW5kaW5nOiAwLFxuICB0b3RhbEZhaWxlZDogMCxcbiAgdG90YWxTa2lwcGVkOiAwLFxuICB0b3RhbFBhc3NlZDogMCxcbiAgdG90YWxUZXN0czogMCxcbn07XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRGYWlsZWREdW1teVJlc3VsdCh7XG4gIHNwZWNzLFxuICBlcnJvcixcbiAgY29uZmlnLFxufToge1xuICBzcGVjczogc3RyaW5nW107XG4gIGVycm9yOiBzdHJpbmc7XG4gIGNvbmZpZzogYW55OyAvLyBUT0RPIHRpZ2h0ZW4gdGhpcyB1cFxufSk6IEN5cHJlc3NDb21tYW5kTGluZS5DeXByZXNzUnVuUmVzdWx0IHtcbiAgY29uc3Qgc3RhcnQgPSBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCk7XG4gIGNvbnN0IGVuZCA9IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKTtcbiAgcmV0dXJuIHtcbiAgICBjb25maWcsXG4gICAgc3RhdHVzOiBcImZpbmlzaGVkXCIsXG4gICAgc3RhcnRlZFRlc3RzQXQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcbiAgICBlbmRlZFRlc3RzQXQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcbiAgICB0b3RhbER1cmF0aW9uOiAwLFxuICAgIHRvdGFsU3VpdGVzOiAxLFxuICAgIHRvdGFsRmFpbGVkOiAxLFxuICAgIHRvdGFsUGFzc2VkOiAwLFxuICAgIHRvdGFsUGVuZGluZzogMCxcbiAgICB0b3RhbFNraXBwZWQ6IDAsXG4gICAgdG90YWxUZXN0czogMSxcbiAgICBicm93c2VyTmFtZTogXCJ1bmtub3duXCIsXG4gICAgYnJvd3NlclZlcnNpb246IFwidW5rbm93blwiLFxuICAgIGJyb3dzZXJQYXRoOiBcInVua25vd25cIixcbiAgICBvc05hbWU6IFwidW5rbm93blwiLFxuICAgIG9zVmVyc2lvbjogXCJ1bmtub3duXCIsXG4gICAgY3lwcmVzc1ZlcnNpb246IFwidW5rbm93blwiLFxuICAgIHJ1bnM6IHNwZWNzLm1hcCgocykgPT4gKHtcbiAgICAgIHN0YXRzOiB7XG4gICAgICAgIHN1aXRlczogMSxcbiAgICAgICAgdGVzdHM6IDEsXG4gICAgICAgIHBhc3NlczogMCxcbiAgICAgICAgcGVuZGluZzogMCxcbiAgICAgICAgc2tpcHBlZDogMCxcbiAgICAgICAgZmFpbHVyZXM6IDEsXG4gICAgICAgIHN0YXJ0ZWRBdDogc3RhcnQsXG4gICAgICAgIGVuZGVkQXQ6IGVuZCxcbiAgICAgICAgZHVyYXRpb246IDAsXG4gICAgICB9LFxuICAgICAgcmVwb3J0ZXI6IFwic3BlY1wiLFxuICAgICAgcmVwb3J0ZXJTdGF0czoge30sXG4gICAgICBob29rczogW10sXG4gICAgICBlcnJvcixcbiAgICAgIHZpZGVvOiBudWxsLFxuICAgICAgc3BlYzoge1xuICAgICAgICBuYW1lOiBzLFxuICAgICAgICByZWxhdGl2ZTogXCJcIixcbiAgICAgICAgYWJzb2x1dGU6IFwiXCIsXG4gICAgICAgIHJlbGF0aXZlVG9Db21tb25Sb290OiBcIlwiLFxuICAgICAgfSxcbiAgICAgIHRlc3RzOiBbXG4gICAgICAgIHtcbiAgICAgICAgICB0aXRsZTogW1wiVW5rbm93blwiXSxcbiAgICAgICAgICBzdGF0ZTogXCJmYWlsZWRcIixcbiAgICAgICAgICBib2R5OiBcIi8vIFRoaXMgdGVzdCBpcyBhdXRvbWF0aWNhbGx5IGdlbmVyYXRlZCBkdWUgdG8gZXhlY3V0aW9uIGZhaWx1cmVcIixcbiAgICAgICAgICBkaXNwbGF5RXJyb3I6IGVycm9yLFxuICAgICAgICAgIGF0dGVtcHRzOiBbXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIHN0YXRlOiBcImZhaWxlZFwiLFxuICAgICAgICAgICAgICBzdGFydGVkQXQ6IHN0YXJ0LFxuICAgICAgICAgICAgICBkdXJhdGlvbjogMCxcbiAgICAgICAgICAgICAgdmlkZW9UaW1lc3RhbXA6IDAsXG4gICAgICAgICAgICAgIHNjcmVlbnNob3RzOiBbXSxcbiAgICAgICAgICAgICAgZXJyb3I6IHtcbiAgICAgICAgICAgICAgICBuYW1lOiBcIkNsb3VkRXhlY3V0aW9uRXJyb3JcIixcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBlcnJvcixcbiAgICAgICAgICAgICAgICBzdGFjazogXCJcIixcbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgXSxcbiAgICAgICAgfSxcbiAgICAgIF0sXG4gICAgICBzaG91bGRVcGxvYWRWaWRlbzogZmFsc2UsXG4gICAgICBza2lwcGVkU3BlYzogZmFsc2UsXG4gICAgfSkpLFxuICB9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gbm9ybWFsaXplUmF3UmVzdWx0KFxuICByYXdSZXN1bHQ6IEN5cHJlc3NSZXN1bHQsXG4gIHNwZWNzOiBzdHJpbmdbXSxcbiAgY29uZmlnOiBNZXJnZWRDb25maWdcbik6IEN5cHJlc3NDb21tYW5kTGluZS5DeXByZXNzUnVuUmVzdWx0IHtcbiAgaWYgKCFpc1N1Y2Nlc3NSZXN1bHQocmF3UmVzdWx0KSkge1xuICAgIHJldHVybiBnZXRGYWlsZWREdW1teVJlc3VsdCh7XG4gICAgICBzcGVjcyxcbiAgICAgIGVycm9yOiByYXdSZXN1bHQubWVzc2FnZSxcbiAgICAgIGNvbmZpZyxcbiAgICB9KTtcbiAgfVxuICByZXR1cm4gcmF3UmVzdWx0O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0U3VtbWFyeUZvclNwZWMoXG4gIHNwZWM6IHN0cmluZyxcbiAgcnVuUmVzdWx0OiBDeXByZXNzQ29tbWFuZExpbmUuQ3lwcmVzc1J1blJlc3VsdFxuKSB7XG4gIGNvbnN0IHJ1biA9IHJ1blJlc3VsdC5ydW5zLmZpbmQoKHIpID0+IHIuc3BlYy5yZWxhdGl2ZSA9PT0gc3BlYyk7XG4gIGlmICghcnVuKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIGNvbnN0IHN0YXRzID0gZ2V0U3RhdHMocnVuLnN0YXRzKTtcbiAgLy8gYWRqdXN0IHRoZSByZXN1bHQgZm9yIHNpbmdlIHNwZWNcbiAgcmV0dXJuIHtcbiAgICAuLi5ydW5SZXN1bHQsXG4gICAgcnVuczogW3J1bl0sXG4gICAgdG90YWxTdWl0ZXM6IDEsXG4gICAgdG90YWxEdXJhdGlvbjogc3RhdHMud2FsbENsb2NrRHVyYXRpb24sXG4gICAgdG90YWxUZXN0czogc3RhdHMudGVzdHMsXG4gICAgdG90YWxGYWlsZWQ6IHN0YXRzLmZhaWx1cmVzLFxuICAgIHRvdGFsUGFzc2VkOiBzdGF0cy5wYXNzZXMsXG4gICAgdG90YWxQZW5kaW5nOiBzdGF0cy5wZW5kaW5nLFxuICAgIHRvdGFsU2tpcHBlZDogc3RhdHMuc2tpcHBlZCxcbiAgICBzdGFydGVkVGVzdHNBdDogc3RhdHMud2FsbENsb2NrU3RhcnRlZEF0LFxuICAgIGVuZGVkVGVzdHNBdDogc3RhdHMud2FsbENsb2NrRW5kZWRBdCxcbiAgfTtcbn1cbiIsICJpbXBvcnQgXyBmcm9tIFwibG9kYXNoXCI7XG5pbXBvcnQgcHJldHR5TVMgZnJvbSBcInByZXR0eS1tc1wiO1xuaW1wb3J0IHsgdGFibGUgfSBmcm9tIFwidGFibGVcIjtcbmltcG9ydCB7IGN5YW4sIGdyYXksIGdyZWVuLCByZWQsIHdoaXRlIH0gZnJvbSBcIi4uL2xvZ1wiO1xuXG5jb25zdCBmYWlsdXJlSWNvbiA9IHJlZChcIlx1MjcxNlwiKTtcbmNvbnN0IHN1Y2Nlc3NJY29uID0gZ3JlZW4oXCJcdTI3MTRcIik7XG5cbmV4cG9ydCBjb25zdCBzdW1tYXJ5VGFibGUgPSAocjogQ3lwcmVzc0NvbW1hbmRMaW5lLkN5cHJlc3NSdW5SZXN1bHQpID0+IHtcbiAgY29uc3Qgb3ZlcmFsbFNwZWNDb3VudCA9IHIucnVucy5sZW5ndGg7XG4gIGNvbnN0IGZhaWxlZFNwZWNzQ291bnQgPSBfLnN1bShcbiAgICByLnJ1bnMuZmlsdGVyKCh2KSA9PiB2LnN0YXRzLmZhaWx1cmVzICsgdi5zdGF0cy5za2lwcGVkID4gMCkubWFwKCgpID0+IDEpXG4gICk7XG4gIGNvbnN0IGhhc0ZhaWxlZCA9IGZhaWxlZFNwZWNzQ291bnQgPiAwO1xuXG4gIGNvbnN0IHZlcmRpY3QgPSBoYXNGYWlsZWRcbiAgICA/IHJlZChgJHtmYWlsZWRTcGVjc0NvdW50fSBvZiAke292ZXJhbGxTcGVjQ291bnR9IGZhaWxlZGApXG4gICAgOiBvdmVyYWxsU3BlY0NvdW50ID4gMFxuICAgID8gXCJBbGwgc3BlY3MgcGFzc2VkIVwiXG4gICAgOiBcIk5vIHNwZWNzIGV4ZWN1dGVkXCI7XG5cbiAgY29uc3QgZGF0YSA9IHIucnVucy5tYXAoKHIpID0+IFtcbiAgICByLnN0YXRzLmZhaWx1cmVzICsgci5zdGF0cy5za2lwcGVkID4gMCA/IGZhaWx1cmVJY29uIDogc3VjY2Vzc0ljb24sXG4gICAgci5zcGVjLnJlbGF0aXZlVG9Db21tb25Sb290LFxuICAgIGdyYXkocHJldHR5TVMoci5zdGF0cy5kdXJhdGlvbikpLFxuICAgIHdoaXRlKHIuc3RhdHMudGVzdHMgPz8gMCksXG4gICAgci5zdGF0cy5wYXNzZXMgPyBncmVlbihyLnN0YXRzLnBhc3NlcykgOiBncmF5KFwiLVwiKSxcbiAgICByLnN0YXRzLmZhaWx1cmVzID8gcmVkKHIuc3RhdHMuZmFpbHVyZXMpIDogZ3JheShcIi1cIiksXG4gICAgci5zdGF0cy5wZW5kaW5nID8gY3lhbihyLnN0YXRzLnBlbmRpbmcpIDogZ3JheShcIi1cIiksXG4gICAgci5zdGF0cy5za2lwcGVkID8gcmVkKHIuc3RhdHMuc2tpcHBlZCkgOiBncmF5KFwiLVwiKSxcbiAgXSk7XG5cbiAgcmV0dXJuIHRhYmxlKFxuICAgIFtcbiAgICAgIFtcbiAgICAgICAgXCJcIiwgLy8gbWFya2VyXG4gICAgICAgIGdyYXkoXCJTcGVjXCIpLFxuICAgICAgICBcIlwiLFxuICAgICAgICBncmF5KFwiVGVzdHNcIiksXG4gICAgICAgIGdyYXkoXCJQYXNzaW5nXCIpLFxuICAgICAgICBncmF5KFwiRmFpbGluZ1wiKSxcbiAgICAgICAgZ3JheShcIlBlbmRpbmdcIiksXG4gICAgICAgIGdyYXkoXCJTa2lwcGVkXCIpLFxuICAgICAgXSxcbiAgICAgIC4uLmRhdGEsXG4gICAgICBbXG4gICAgICAgIGhhc0ZhaWxlZCA/IGZhaWx1cmVJY29uIDogc3VjY2Vzc0ljb24sIC8vIG1hcmtlclxuICAgICAgICB2ZXJkaWN0LFxuICAgICAgICBncmF5KHByZXR0eU1TKHIudG90YWxEdXJhdGlvbiA/PyAwKSksXG4gICAgICAgIG92ZXJhbGxTcGVjQ291bnQgPiAwID8gd2hpdGUoci50b3RhbFRlc3RzID8/IDApIDogZ3JheShcIi1cIiksXG4gICAgICAgIHIudG90YWxQYXNzZWQgPyBncmVlbihyLnRvdGFsUGFzc2VkKSA6IGdyYXkoXCItXCIpLFxuICAgICAgICByLnRvdGFsRmFpbGVkID8gcmVkKHIudG90YWxGYWlsZWQpIDogZ3JheShcIi1cIiksXG4gICAgICAgIHIudG90YWxQZW5kaW5nID8gY3lhbihyLnRvdGFsUGVuZGluZykgOiBncmF5KFwiLVwiKSxcbiAgICAgICAgci50b3RhbFNraXBwZWQgPyByZWQoci50b3RhbFNraXBwZWQpIDogZ3JheShcIi1cIiksXG4gICAgICBdLFxuICAgIF0sXG4gICAge1xuICAgICAgYm9yZGVyLFxuICAgICAgY29sdW1uRGVmYXVsdDoge1xuICAgICAgICB3aWR0aDogOCxcbiAgICAgIH0sXG4gICAgICBjb2x1bW5zOiBbXG4gICAgICAgIHsgYWxpZ25tZW50OiBcImxlZnRcIiwgd2lkdGg6IDIgfSxcbiAgICAgICAgeyBhbGlnbm1lbnQ6IFwibGVmdFwiLCB3aWR0aDogMzAgfSxcbiAgICAgICAgeyBhbGlnbm1lbnQ6IFwicmlnaHRcIiB9LFxuICAgICAgICB7IGFsaWdubWVudDogXCJyaWdodFwiIH0sXG4gICAgICAgIHsgYWxpZ25tZW50OiBcInJpZ2h0XCIgfSxcbiAgICAgICAgeyBhbGlnbm1lbnQ6IFwicmlnaHRcIiB9LFxuICAgICAgICB7IGFsaWdubWVudDogXCJyaWdodFwiIH0sXG4gICAgICAgIHsgYWxpZ25tZW50OiBcInJpZ2h0XCIgfSxcbiAgICAgIF0sXG4gICAgICAvLyBzaW5nbGVMaW5lOiB0cnVlLFxuICAgICAgZHJhd0hvcml6b250YWxMaW5lOiAobGluZUluZGV4LCByb3dDb3VudCkgPT4ge1xuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgIGxpbmVJbmRleCA9PT0gMSB8fFxuICAgICAgICAgIGxpbmVJbmRleCA9PT0gMCB8fFxuICAgICAgICAgIGxpbmVJbmRleCA9PT0gcm93Q291bnQgLSAxIHx8XG4gICAgICAgICAgbGluZUluZGV4ID09PSByb3dDb3VudFxuICAgICAgICApO1xuICAgICAgfSxcbiAgICAgIGRyYXdWZXJ0aWNhbExpbmU6IChsaW5lSW5kZXgsIHJvd0NvdW50KSA9PiB7XG4gICAgICAgIHJldHVybiBsaW5lSW5kZXggPT09IDAgfHwgcm93Q291bnQgPT09IGxpbmVJbmRleDtcbiAgICAgIH0sXG4gICAgfVxuICApO1xufTtcblxuY29uc3QgYm9yZGVyID0gXy5tYXBWYWx1ZXMoXG4gIHtcbiAgICB0b3BCb2R5OiBgXHUyNTAwYCxcbiAgICB0b3BKb2luOiBgXHUyNTJDYCxcbiAgICB0b3BMZWZ0OiBgICBcdTI1MENgLFxuICAgIHRvcFJpZ2h0OiBgXHUyNTEwYCxcblxuICAgIGJvdHRvbUJvZHk6IGBcdTI1MDBgLFxuICAgIGJvdHRvbUpvaW46IGBcdTI1MzRgLFxuICAgIGJvdHRvbUxlZnQ6IGAgIFx1MjUxNGAsXG4gICAgYm90dG9tUmlnaHQ6IGBcdTI1MThgLFxuXG4gICAgYm9keUxlZnQ6IGAgIFx1MjUwMmAsXG4gICAgYm9keVJpZ2h0OiBgXHUyNTAyYCxcbiAgICBib2R5Sm9pbjogYFx1MjUwMmAsXG5cbiAgICBqb2luQm9keTogYFx1MjUwMGAsXG4gICAgam9pbkxlZnQ6IGAgIFx1MjUxQ2AsXG4gICAgam9pblJpZ2h0OiBgXHUyNTI0YCxcbiAgICBqb2luSm9pbjogYFx1MjUzQ2AsXG4gIH0sXG4gICh2KSA9PiBncmF5KHYpXG4pO1xuIiwgImltcG9ydCBEZWJ1ZyBmcm9tIFwiZGVidWdcIjtcbmltcG9ydCB7XG4gIHJlcG9ydEluc3RhbmNlUmVzdWx0c01lcmdlZCxcbiAgc2V0SW5zdGFuY2VUZXN0cyxcbiAgU2V0SW5zdGFuY2VUZXN0c1BheWxvYWQsXG4gIHVwZGF0ZUluc3RhbmNlUmVzdWx0cyxcbiAgVXBkYXRlSW5zdGFuY2VSZXN1bHRzUGF5bG9hZCxcbn0gZnJvbSBcIi4uL2FwaVwiO1xuaW1wb3J0IHsgdXBsb2FkQXJ0aWZhY3RzLCB1cGxvYWRTdGRvdXRTYWZlIH0gZnJvbSBcIi4uL2FydGlmYWN0c1wiO1xuaW1wb3J0IHsgZ2V0SW5pdGlhbE91dHB1dCB9IGZyb20gXCIuLi9jYXB0dXJlXCI7XG5pbXBvcnQgeyBpc0N1cnJlbnRzIH0gZnJvbSBcIi4uL2VudlwiO1xuaW1wb3J0IHsgd2FybiB9IGZyb20gXCIuLi9sb2dcIjtcbmltcG9ydCB7IGdldEluc3RhbmNlUmVzdWx0UGF5bG9hZCwgZ2V0SW5zdGFuY2VUZXN0c1BheWxvYWQgfSBmcm9tIFwiLi9yZXN1bHRzXCI7XG5jb25zdCBkZWJ1ZyA9IERlYnVnKFwiY3VycmVudHM6cmVzdWx0c1wiKTtcblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldFVwbG9hZFJlc3VsdHNUYXNrKHtcbiAgaW5zdGFuY2VJZCxcbiAgc3BlYyxcbiAgcnVuUmVzdWx0LFxuICBvdXRwdXQsXG59OiB7XG4gIGluc3RhbmNlSWQ6IHN0cmluZztcbiAgc3BlYzogc3RyaW5nO1xuICBydW5SZXN1bHQ6IEN5cHJlc3NDb21tYW5kTGluZS5DeXByZXNzUnVuUmVzdWx0O1xuICBvdXRwdXQ6IHN0cmluZztcbn0pIHtcbiAgY29uc3QgcnVuID0gcnVuUmVzdWx0LnJ1bnMuZmluZCgocikgPT4gci5zcGVjLnJlbGF0aXZlID09PSBzcGVjKTtcbiAgaWYgKCFydW4pIHtcbiAgICB3YXJuKCdDYW5ub3QgZGV0ZXJtaW5lIHJ1biByZXN1bHQgZm9yIHNwZWMgXCIlc1wiJywgc3BlYyk7XG4gICAgcmV0dXJuO1xuICB9XG4gIHJldHVybiBwcm9jZXNzQ3lwcmVzc1Jlc3VsdHMoXG4gICAgaW5zdGFuY2VJZCxcbiAgICB7XG4gICAgICAvLyByZXBsYWNlIHRoZSBydW5zIHdpdGggdGhlIHJ1biBmb3IgdGhlIHNwZWNpZmllZCBzcGVjXG4gICAgICAuLi5ydW5SZXN1bHQsXG4gICAgICBydW5zOiBbcnVuXSxcbiAgICB9LFxuICAgIG91dHB1dFxuICApO1xufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gcHJvY2Vzc0N5cHJlc3NSZXN1bHRzKFxuICBpbnN0YW5jZUlkOiBzdHJpbmcsXG4gIHJlc3VsdHM6IEN5cHJlc3NDb21tYW5kTGluZS5DeXByZXNzUnVuUmVzdWx0LFxuICBzdGRvdXQ6IHN0cmluZ1xuKSB7XG4gIGNvbnN0IHJ1biA9IHJlc3VsdHMucnVuc1swXTtcbiAgaWYgKCFydW4pIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJObyBydW4gZm91bmQgaW4gQ3lwcmVzcyByZXN1bHRzXCIpO1xuICB9XG4gIGNvbnN0IGluc3RhbmNlUmVzdWx0cyA9IGdldEluc3RhbmNlUmVzdWx0UGF5bG9hZChydW4pO1xuICBjb25zdCBpbnN0YW5jZVRlc3RzID0gZ2V0SW5zdGFuY2VUZXN0c1BheWxvYWQocnVuLCByZXN1bHRzLmNvbmZpZyk7XG5cbiAgY29uc3QgeyB2aWRlb1VwbG9hZFVybCwgc2NyZWVuc2hvdFVwbG9hZFVybHMgfSA9IGF3YWl0IHJlcG9ydFJlc3VsdHMoXG4gICAgaW5zdGFuY2VJZCxcbiAgICBpbnN0YW5jZVRlc3RzLFxuICAgIGluc3RhbmNlUmVzdWx0c1xuICApO1xuXG4gIGRlYnVnKFwiaW5zdGFuY2UgJXMgYXJ0aWZhY3QgdXBsb2FkIGluc3RydWN0aW9ucyAlb1wiLCBpbnN0YW5jZUlkLCB7XG4gICAgdmlkZW9VcGxvYWRVcmwsXG4gICAgc2NyZWVuc2hvdFVwbG9hZFVybHMsXG4gIH0pO1xuXG4gIHJldHVybiBQcm9taXNlLmFsbChbXG4gICAgdXBsb2FkQXJ0aWZhY3RzKHtcbiAgICAgIHZpZGVvVXBsb2FkVXJsLFxuICAgICAgdmlkZW9QYXRoOiBydW4udmlkZW8sXG4gICAgICBzY3JlZW5zaG90VXBsb2FkVXJscyxcbiAgICAgIHNjcmVlbnNob3RzOiBpbnN0YW5jZVJlc3VsdHMuc2NyZWVuc2hvdHMsXG4gICAgfSksXG4gICAgdXBsb2FkU3Rkb3V0U2FmZShpbnN0YW5jZUlkLCBnZXRJbml0aWFsT3V0cHV0KCkgKyBzdGRvdXQpLFxuICBdKTtcbn1cblxuYXN5bmMgZnVuY3Rpb24gcmVwb3J0UmVzdWx0cyhcbiAgaW5zdGFuY2VJZDogc3RyaW5nLFxuICBpbnN0YW5jZVRlc3RzOiBTZXRJbnN0YW5jZVRlc3RzUGF5bG9hZCxcbiAgaW5zdGFuY2VSZXN1bHRzOiBVcGRhdGVJbnN0YW5jZVJlc3VsdHNQYXlsb2FkXG4pIHtcbiAgZGVidWcoXCJyZXBvcnRpbmcgaW5zdGFuY2UgJXMgcmVzdWx0cy4uLlwiLCBpbnN0YW5jZUlkKTtcbiAgaWYgKGlzQ3VycmVudHMoKSkge1xuICAgIHJldHVybiByZXBvcnRJbnN0YW5jZVJlc3VsdHNNZXJnZWQoaW5zdGFuY2VJZCwge1xuICAgICAgdGVzdHM6IGluc3RhbmNlVGVzdHMsXG4gICAgICByZXN1bHRzOiBpbnN0YW5jZVJlc3VsdHMsXG4gICAgfSk7XG4gIH1cblxuICAvLyBydW4gb25lIGFmdGVyIGFub3RoZXJcbiAgYXdhaXQgc2V0SW5zdGFuY2VUZXN0cyhpbnN0YW5jZUlkLCBpbnN0YW5jZVRlc3RzKTtcbiAgcmV0dXJuIHVwZGF0ZUluc3RhbmNlUmVzdWx0cyhpbnN0YW5jZUlkLCBpbnN0YW5jZVJlc3VsdHMpO1xufVxuIiwgImltcG9ydCBEZWJ1ZyBmcm9tIFwiZGVidWdcIjtcbmltcG9ydCB7IFNjcmVlbnNob3RBcnRpZmFjdCwgU2NyZWVuc2hvdFVwbG9hZEluc3RydWN0aW9uIH0gZnJvbSBcIi4uL3R5cGVzXCI7XG5pbXBvcnQgeyB1cGRhdGVJbnN0YW5jZVN0ZG91dCB9IGZyb20gXCIuL2FwaVwiO1xuaW1wb3J0IHsgc2FmZSB9IGZyb20gXCIuL2xhbmdcIjtcbmltcG9ydCB7IHdhcm4gfSBmcm9tIFwiLi9sb2dcIjtcbmltcG9ydCB7IHVwbG9hZEltYWdlLCB1cGxvYWRWaWRlbyB9IGZyb20gXCIuL3VwbG9hZFwiO1xuY29uc3QgZGVidWcgPSBEZWJ1ZyhcImN1cnJlbnRzOmFydGlmYWN0c1wiKTtcbmludGVyZmFjZSBVcGxvYWRBcnRpZmFjdHMge1xuICB2aWRlb1BhdGg6IHN0cmluZyB8IG51bGw7XG4gIHZpZGVvVXBsb2FkVXJsPzogc3RyaW5nIHwgbnVsbDtcbiAgc2NyZWVuc2hvdHM6IFNjcmVlbnNob3RBcnRpZmFjdFtdO1xuICBzY3JlZW5zaG90VXBsb2FkVXJsczogU2NyZWVuc2hvdFVwbG9hZEluc3RydWN0aW9uW107XG59XG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gdXBsb2FkQXJ0aWZhY3RzKHtcbiAgdmlkZW9QYXRoLFxuICB2aWRlb1VwbG9hZFVybCxcbiAgc2NyZWVuc2hvdHMsXG4gIHNjcmVlbnNob3RVcGxvYWRVcmxzLFxufTogVXBsb2FkQXJ0aWZhY3RzKSB7XG4gIC8vIHRpdGxlKFwiYmx1ZVwiLCBcIlVwbG9hZGluZyAgUmVzdWx0c1wiKTtcblxuICBkZWJ1ZyhcInVwbG9hZGluZyBhcnRpZmFjdHM6ICVvXCIsIHtcbiAgICB2aWRlb1BhdGgsXG4gICAgdmlkZW9VcGxvYWRVcmwsXG4gICAgc2NyZWVuc2hvdHMsXG4gICAgc2NyZWVuc2hvdFVwbG9hZFVybHMsXG4gIH0pO1xuXG4gIGNvbnN0IHRvdGFsVXBsb2FkcyA9ICh2aWRlb1BhdGggPyAxIDogMCkgKyBzY3JlZW5zaG90cy5sZW5ndGg7XG4gIGlmICh0b3RhbFVwbG9hZHMgPT09IDApIHtcbiAgICAvLyBpbmZvKFwiTm90aGluZyB0byB1cGxvYWRcIik7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgLy8gdXBsb2FkIHZpZGVvXG4gIGlmICh2aWRlb1VwbG9hZFVybCAmJiB2aWRlb1BhdGgpIHtcbiAgICBhd2FpdCBzYWZlKFxuICAgICAgdXBsb2FkVmlkZW8sXG4gICAgICAoZSkgPT4gZGVidWcoXCJmYWlsZWQgdXBsb2FkaW5nIHZpZGVvICVzLiBFcnJvcjogJW9cIiwgdmlkZW9QYXRoLCBlKSxcbiAgICAgICgpID0+IGRlYnVnKFwic3VjY2VzcyB1cGxvYWRpbmdcIiwgdmlkZW9QYXRoKVxuICAgICkodmlkZW9QYXRoLCB2aWRlb1VwbG9hZFVybCk7XG4gIH1cbiAgLy8gdXBsb2FkIHNjcmVlbnNob3RzXG4gIGlmIChzY3JlZW5zaG90VXBsb2FkVXJscy5sZW5ndGgpIHtcbiAgICBhd2FpdCBQcm9taXNlLmFsbChcbiAgICAgIHNjcmVlbnNob3RzLm1hcCgoc2NyZWVuc2hvdCkgPT4ge1xuICAgICAgICBjb25zdCB1cmwgPSBzY3JlZW5zaG90VXBsb2FkVXJscy5maW5kKFxuICAgICAgICAgICh1cmxzKSA9PiB1cmxzLnNjcmVlbnNob3RJZCA9PT0gc2NyZWVuc2hvdC5zY3JlZW5zaG90SWRcbiAgICAgICAgKT8udXBsb2FkVXJsO1xuICAgICAgICBpZiAoIXVybCkge1xuICAgICAgICAgIGRlYnVnKFxuICAgICAgICAgICAgXCJObyB1cGxvYWQgdXJsIGZvciBzY3JlZW5zaG90ICVvLCBzY3JlZW5zaG90VXBsb2FkVXJsczogJW9cIixcbiAgICAgICAgICAgIHNjcmVlbnNob3QsXG4gICAgICAgICAgICBzY3JlZW5zaG90VXBsb2FkVXJsc1xuICAgICAgICAgICk7XG4gICAgICAgICAgd2FybihcIkNhbm5vdCBmaW5kIHVwbG9hZCB1cmwgZm9yIHNjcmVlbnNob3Q6ICVzXCIsIHNjcmVlbnNob3QucGF0aCk7XG4gICAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBzYWZlKFxuICAgICAgICAgIHVwbG9hZEltYWdlLFxuICAgICAgICAgIChlKSA9PlxuICAgICAgICAgICAgZGVidWcoXG4gICAgICAgICAgICAgIFwiZmFpbGVkIHVwbG9hZGluZyBzY3JlZW5zaG90ICVzLiBFcnJvcjogJW9cIixcbiAgICAgICAgICAgICAgc2NyZWVuc2hvdC5wYXRoLFxuICAgICAgICAgICAgICBlXG4gICAgICAgICAgICApLFxuICAgICAgICAgICgpID0+IGRlYnVnKFwic3VjY2VzcyB1cGxvYWRpbmdcIiwgc2NyZWVuc2hvdC5wYXRoKVxuICAgICAgICApKHNjcmVlbnNob3QucGF0aCwgdXJsKTtcbiAgICAgIH0pXG4gICAgKTtcbiAgfVxufVxuXG5leHBvcnQgY29uc3QgdXBsb2FkU3Rkb3V0U2FmZSA9IHNhZmUoXG4gIHVwZGF0ZUluc3RhbmNlU3Rkb3V0LFxuICAoKSA9PiB7fSxcbiAgKCkgPT4ge31cbik7XG4iLCAiZXhwb3J0IGNvbnN0IHNhZmUgPVxuICA8VCBleHRlbmRzIGFueVtdLCBSIGV4dGVuZHMgYW55PihcbiAgICBmbjogKC4uLmFyZ3M6IFQpID0+IFByb21pc2U8Uj4sXG4gICAgaWZGYWxlZDogKGU6IHVua25vd24pID0+IGFueSxcbiAgICBpZlN1Y2NlZWQ6ICgpID0+IGFueVxuICApID0+XG4gIGFzeW5jICguLi5hcmdzOiBUKSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHIgPSBhd2FpdCBmbiguLi5hcmdzKTtcbiAgICAgIGlmU3VjY2VlZCgpO1xuICAgICAgcmV0dXJuIHI7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgaWZGYWxlZChlKTtcbiAgICB9XG4gIH07XG4iLCAiaW1wb3J0IERlYnVnIGZyb20gXCJkZWJ1Z1wiO1xuaW1wb3J0IGZzIGZyb20gXCJmc1wiO1xuaW1wb3J0IHsgbWFrZVJlcXVlc3QgfSBmcm9tIFwiLi9odHRwQ2xpZW50XCI7XG5jb25zdCByZWFkRmlsZSA9IGZzLnByb21pc2VzLnJlYWRGaWxlO1xuY29uc3QgZGVidWcgPSBEZWJ1ZyhcImN1cnJlbnRzOnVwbG9hZFwiKTtcblxuZXhwb3J0IGZ1bmN0aW9uIHVwbG9hZFZpZGVvKGZpbGU6IHN0cmluZywgdXJsOiBzdHJpbmcpIHtcbiAgcmV0dXJuIHVwbG9hZEZpbGUoZmlsZSwgdXJsLCBcInZpZGVvL21wNFwiKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHVwbG9hZEltYWdlKGZpbGU6IHN0cmluZywgdXJsOiBzdHJpbmcpIHtcbiAgcmV0dXJuIHVwbG9hZEZpbGUoZmlsZSwgdXJsLCBcImltYWdlL3BuZ1wiKTtcbn1cblxudHlwZSBVcGxvYWRUeXBlcyA9IFwidmlkZW8vbXA0XCIgfCBcImltYWdlL3BuZ1wiIHwgXCJwbGFpbi90ZXh0XCI7XG5hc3luYyBmdW5jdGlvbiB1cGxvYWRGaWxlKGZpbGU6IHN0cmluZywgdXJsOiBzdHJpbmcsIHR5cGU6IFVwbG9hZFR5cGVzKSB7XG4gIGRlYnVnKCd1cGxvYWRpbmcgZmlsZSBcIiVzXCIgdG8gXCIlc1wiJywgZmlsZSwgdXJsKTtcbiAgY29uc3QgZiA9IGF3YWl0IHJlYWRGaWxlKGZpbGUpO1xuICBhd2FpdCBtYWtlUmVxdWVzdCh7XG4gICAgdXJsLFxuICAgIG1ldGhvZDogXCJQVVRcIixcbiAgICBkYXRhOiBmLFxuICAgIGhlYWRlcnM6IHtcbiAgICAgIFwiQ29udGVudC1UeXBlXCI6IHR5cGUsXG4gICAgfSxcbiAgfSk7XG59XG4iLCAiaW1wb3J0IHsgZ2V0QVBJQmFzZVVybCB9IGZyb20gXCIuL2h0dHBDbGllbnQvY29uZmlnXCI7XG5cbmV4cG9ydCBjb25zdCBpc0N1cnJlbnRzID0gKCkgPT5cbiAgISFwcm9jZXNzLmVudi5DVVJSRU5UU19FTkZPUkNFX0lTX0NVUlJFTlRTIHx8XG4gIGdldEFQSUJhc2VVcmwoKSA9PT0gXCJodHRwczovL2N5LmN1cnJlbnRzLmRldlwiO1xuIiwgImltcG9ydChcIi4vaW5pdFwiKTtcblxuaW1wb3J0IHsgU3VtbWFyeVJlc3VsdCwgVmFsaWRhdGVkQ3VycmVudHNQYXJhbWV0ZXJzIH0gZnJvbSBcIi4uL3R5cGVzXCI7XG5pbXBvcnQgeyBnZXRDYXB0dXJlZE91dHB1dCwgcmVzZXRDYXB0dXJlIH0gZnJvbSBcIi4vY2FwdHVyZVwiO1xuaW1wb3J0IHsgTWVyZ2VkQ29uZmlnIH0gZnJvbSBcIi4vY29uZmlnL2NvbmZpZ1wiO1xuaW1wb3J0IHsgZ2V0U3VtbWFyeUZvclNwZWMsIG5vcm1hbGl6ZVJhd1Jlc3VsdCB9IGZyb20gXCIuL3Jlc3VsdHNcIjtcblxuaW1wb3J0IERlYnVnIGZyb20gXCJkZWJ1Z1wiO1xuaW1wb3J0IHsgY3JlYXRlQmF0Y2hlZEluc3RhbmNlcywgY3JlYXRlSW5zdGFuY2UgfSBmcm9tIFwiLi9hcGkvYXBpXCI7XG5pbXBvcnQge1xuICBDcmVhdGVJbnN0YW5jZVBheWxvYWQsXG4gIEluc3RhbmNlUmVzcG9uc2VTcGVjRGV0YWlscyxcbn0gZnJvbSBcIi4vYXBpL3R5cGVzL2luc3RhbmNlXCI7XG5pbXBvcnQgeyBydW5TcGVjRmlsZVNhZmUgfSBmcm9tIFwiLi9jeXByZXNzXCI7XG5pbXBvcnQgeyBpc0N1cnJlbnRzIH0gZnJvbSBcIi4vZW52XCI7XG5pbXBvcnQgeyBkaXZpZGVyLCBlcnJvciwgaW5mbywgdGl0bGUsIHdhcm4gfSBmcm9tIFwiLi9sb2dcIjtcbmltcG9ydCB7IGdldFVwbG9hZFJlc3VsdHNUYXNrIH0gZnJvbSBcIi4vcmVzdWx0cy91cGxvYWRSZXN1bHRzXCI7XG5cbmNvbnN0IGRlYnVnID0gRGVidWcoXCJjdXJyZW50czpydW5uZXJcIik7XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBydW5UaWxsRG9uZShcbiAge1xuICAgIHJ1bklkLFxuICAgIGdyb3VwSWQsXG4gICAgbWFjaGluZUlkLFxuICAgIHBsYXRmb3JtLFxuICAgIGNvbmZpZyxcbiAgfTogQ3JlYXRlSW5zdGFuY2VQYXlsb2FkICYge1xuICAgIGNvbmZpZzogTWVyZ2VkQ29uZmlnO1xuICB9LFxuICBwYXJhbXM6IFZhbGlkYXRlZEN1cnJlbnRzUGFyYW1ldGVyc1xuKSB7XG4gIGNvbnN0IHN1bW1hcnk6IFN1bW1hcnlSZXN1bHQgPSB7fTtcbiAgY29uc3QgdXBsb2FkVGFza3M6IFByb21pc2U8YW55PltdID0gW107XG4gIGxldCBoYXNNb3JlID0gdHJ1ZTtcblxuICB3aGlsZSAoaGFzTW9yZSkge1xuICAgIGNvbnN0IG5ld1Rhc2tzID0gYXdhaXQgcnVuQmF0Y2goe1xuICAgICAgcnVuTWV0YToge1xuICAgICAgICBydW5JZCxcbiAgICAgICAgZ3JvdXBJZCxcbiAgICAgICAgbWFjaGluZUlkLFxuICAgICAgICBwbGF0Zm9ybSxcbiAgICAgIH0sXG4gICAgICBwYXJhbXMsXG4gICAgICBjb25maWcsXG4gICAgfSk7XG4gICAgaWYgKCFuZXdUYXNrcy5sZW5ndGgpIHtcbiAgICAgIGRlYnVnKFwiTm8gbW9yZSB0YXNrcyB0byBydW4uIFVwbG9hZHMgcXVldWU6ICVkXCIsIHVwbG9hZFRhc2tzLmxlbmd0aCk7XG4gICAgICBoYXNNb3JlID0gZmFsc2U7XG4gICAgICBicmVhaztcbiAgICB9XG4gICAgbmV3VGFza3MuZm9yRWFjaCgodGFzaykgPT4ge1xuICAgICAgaWYgKHRhc2suc3VtbWFyeS5zcGVjU3VtbWFyeSkge1xuICAgICAgICBzdW1tYXJ5W3Rhc2suc3VtbWFyeS5zcGVjXSA9IHRhc2suc3VtbWFyeS5zcGVjU3VtbWFyeTtcbiAgICAgIH1cbiAgICAgIHVwbG9hZFRhc2tzLnB1c2godGFzay51cGxvYWRUYXNrcyk7XG4gICAgfSk7XG4gIH1cblxuICBhd2FpdCBQcm9taXNlLmFsbFNldHRsZWQodXBsb2FkVGFza3MpO1xuICByZXR1cm4gc3VtbWFyeTtcbn1cblxuYXN5bmMgZnVuY3Rpb24gcnVuQmF0Y2goe1xuICBydW5NZXRhLFxuICBjb25maWcsXG4gIHBhcmFtcyxcbn06IHtcbiAgcnVuTWV0YToge1xuICAgIHJ1bklkOiBzdHJpbmc7XG4gICAgZ3JvdXBJZDogc3RyaW5nO1xuICAgIG1hY2hpbmVJZDogc3RyaW5nO1xuICAgIHBsYXRmb3JtOiBDcmVhdGVJbnN0YW5jZVBheWxvYWRbXCJwbGF0Zm9ybVwiXTtcbiAgfTtcbiAgY29uZmlnOiBNZXJnZWRDb25maWc7XG4gIHBhcmFtczogVmFsaWRhdGVkQ3VycmVudHNQYXJhbWV0ZXJzO1xufSkge1xuICBsZXQgYmF0Y2ggPSB7XG4gICAgc3BlY3M6IFtdIGFzIEluc3RhbmNlUmVzcG9uc2VTcGVjRGV0YWlsc1tdLFxuICAgIGNsYWltZWRJbnN0YW5jZXM6IDAsXG4gICAgdG90YWxJbnN0YW5jZXM6IDAsXG4gIH07XG5cbiAgaWYgKGlzQ3VycmVudHMoKSkge1xuICAgIGRlYnVnKFwiR2V0dGluZyBiYXRjaGVkIHRhc2tzOiAlZFwiLCBwYXJhbXMuYmF0Y2hTaXplKTtcbiAgICBiYXRjaCA9IGF3YWl0IGNyZWF0ZUJhdGNoZWRJbnN0YW5jZXMoe1xuICAgICAgLi4ucnVuTWV0YSxcbiAgICAgIGJhdGNoU2l6ZTogcGFyYW1zLmJhdGNoU2l6ZSxcbiAgICB9KTtcbiAgfSBlbHNlIHtcbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGNyZWF0ZUluc3RhbmNlKHJ1bk1ldGEpO1xuXG4gICAgaWYgKHJlc3BvbnNlLnNwZWMgIT09IG51bGwgJiYgcmVzcG9uc2UuaW5zdGFuY2VJZCAhPT0gbnVsbCkge1xuICAgICAgYmF0Y2guc3BlY3MucHVzaCh7XG4gICAgICAgIHNwZWM6IHJlc3BvbnNlLnNwZWMsXG4gICAgICAgIGluc3RhbmNlSWQ6IHJlc3BvbnNlLmluc3RhbmNlSWQsXG4gICAgICB9KTtcbiAgICB9XG4gICAgYmF0Y2guY2xhaW1lZEluc3RhbmNlcyA9IHJlc3BvbnNlLmNsYWltZWRJbnN0YW5jZXM7XG4gICAgYmF0Y2gudG90YWxJbnN0YW5jZXMgPSByZXNwb25zZS50b3RhbEluc3RhbmNlcztcbiAgfVxuXG4gIGlmIChiYXRjaC5zcGVjcy5sZW5ndGggPT09IDApIHtcbiAgICByZXR1cm4gW107XG4gIH1cblxuICBkaXZpZGVyKCk7XG4gIGluZm8oXG4gICAgXCJSdW5uaW5nOiAlcyAoJWQvJWQpXCIsXG4gICAgYmF0Y2guc3BlY3MubWFwKChzKSA9PiBzLnNwZWMpLmpvaW4oXCIsIFwiKSxcbiAgICBiYXRjaC5jbGFpbWVkSW5zdGFuY2VzLFxuICAgIGJhdGNoLnRvdGFsSW5zdGFuY2VzXG4gICk7XG5cbiAgY29uc3QgcmF3UmVzdWx0ID0gYXdhaXQgcnVuU3BlY0ZpbGVTYWZlKFxuICAgIHsgc3BlYzogYmF0Y2guc3BlY3MubWFwKChzKSA9PiBzLnNwZWMpLmpvaW4oXCIsXCIpIH0sXG4gICAgcGFyYW1zXG4gICk7XG4gIGNvbnN0IG5vcm1hbGl6ZWRSZXN1bHQgPSBub3JtYWxpemVSYXdSZXN1bHQoXG4gICAgcmF3UmVzdWx0LFxuICAgIGJhdGNoLnNwZWNzLm1hcCgocykgPT4gcy5zcGVjKSxcbiAgICBjb25maWdcbiAgKTtcblxuICB0aXRsZShcImJsdWVcIiwgXCJSZXBvcnRpbmcgcmVzdWx0cyBhbmQgYXJ0aWZhY3RzIGluIGJhY2tncm91bmQuLi5cIik7XG5cbiAgY29uc3Qgb3V0cHV0ID0gZ2V0Q2FwdHVyZWRPdXRwdXQoKTtcbiAgcmVzZXRDYXB0dXJlKCk7XG5cbiAgY29uc3QgYmF0Y2hSZXN1bHQgPSBiYXRjaC5zcGVjcy5tYXAoKHNwZWMpID0+IHtcbiAgICBjb25zdCBzcGVjU3VtbWFyeSA9IGdldFN1bW1hcnlGb3JTcGVjKHNwZWMuc3BlYywgbm9ybWFsaXplZFJlc3VsdCk7XG4gICAgaWYgKCFzcGVjU3VtbWFyeSkge1xuICAgICAgd2FybignQ2Fubm90IGZpbmQgcnVuIHJlc3VsdCBmb3Igc3BlYyBcIiVzXCInLCBzcGVjLnNwZWMpO1xuICAgIH1cblxuICAgIHJldHVybiB7XG4gICAgICBzdW1tYXJ5OiB7XG4gICAgICAgIHNwZWM6IHNwZWMuc3BlYyxcbiAgICAgICAgc3BlY1N1bW1hcnksXG4gICAgICB9LFxuICAgICAgdXBsb2FkVGFza3M6IGdldFVwbG9hZFJlc3VsdHNUYXNrKHtcbiAgICAgICAgLi4uc3BlYyxcbiAgICAgICAgcnVuUmVzdWx0OiBub3JtYWxpemVkUmVzdWx0LFxuICAgICAgICBvdXRwdXQsXG4gICAgICB9KS5jYXRjaChlcnJvciksXG4gICAgfTtcbiAgfSk7XG5cbiAgcmV0dXJuIGJhdGNoUmVzdWx0O1xufVxuIiwgImltcG9ydCBjeXByZXNzIGZyb20gXCJjeXByZXNzXCI7XG5pbXBvcnQgRGVidWcgZnJvbSBcImRlYnVnXCI7XG5pbXBvcnQgeyBDeXByZXNzUmVzdWx0LCBWYWxpZGF0ZWRDdXJyZW50c1BhcmFtZXRlcnMgfSBmcm9tIFwiLi4vdHlwZXNcIjtcbmltcG9ydCB7IGdldFN0cmlwcGVkQ3lwcmVzc09wdGlvbnMgfSBmcm9tIFwiLi9jb25maWdcIjtcblxuY29uc3QgZGVidWcgPSBEZWJ1ZyhcImN1cnJlbnRzOmN5cHJlc3NcIik7XG5pbnRlcmZhY2UgUnVuQ3lwcmVzc1NwZWNGaWxlIHtcbiAgc3BlYzogc3RyaW5nO1xufVxuLyoqXG4gKiBSdW4gQ3lwcmVzcyB0ZXN0cywgd2UgbmVlZCB0byBwYXNzIGRvd24gdGhlIHN0cmlwcGVkIG9wdGlvbnMgYXMgaWYgd2UndmUgcmVjZWl2ZWQgdGhlbSBmcm9tIHRoZSBDTElcbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHJ1blNwZWNGaWxlKFxuICB7IHNwZWMgfTogUnVuQ3lwcmVzc1NwZWNGaWxlLFxuICBjeXByZXNzUnVuT3B0aW9uczogVmFsaWRhdGVkQ3VycmVudHNQYXJhbWV0ZXJzXG4pIHtcbiAgY29uc3QgcnVuQVBJT3B0aW9ucyA9IGdldFN0cmlwcGVkQ3lwcmVzc09wdGlvbnMoY3lwcmVzc1J1bk9wdGlvbnMpO1xuXG4gIGNvbnN0IG9wdGlvbnMgPSB7XG4gICAgLi4ucnVuQVBJT3B0aW9ucyxcbiAgICBjb25maWc6IHtcbiAgICAgIC4uLnJ1bkFQSU9wdGlvbnMuY29uZmlnLFxuICAgICAgdHJhc2hBc3NldHNCZWZvcmVSdW5zOiBmYWxzZSxcbiAgICB9LFxuICAgIGVudjoge1xuICAgICAgLi4ucnVuQVBJT3B0aW9ucy5lbnYsXG4gICAgICBjdXJyZW50c193czogdHJ1ZSxcbiAgICB9LFxuICAgIHNwZWMsXG4gIH07XG4gIGRlYnVnKFwicnVubmluZyBjeXByZXNzIHdpdGggb3B0aW9ucyAlb1wiLCBvcHRpb25zKTtcbiAgY29uc3QgcmVzdWx0ID0gYXdhaXQgY3lwcmVzcy5ydW4ob3B0aW9ucyk7XG5cbiAgZGVidWcoXCJjeXByZXNzIHJ1biByZXN1bHQgJW9cIiwgcmVzdWx0KTtcbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuZXhwb3J0IGNvbnN0IHJ1blNwZWNGaWxlU2FmZSA9IGFzeW5jIChcbiAgeyBzcGVjIH06IFJ1bkN5cHJlc3NTcGVjRmlsZSxcbiAgY3lwcmVzc1J1bk9wdGlvbnM6IFZhbGlkYXRlZEN1cnJlbnRzUGFyYW1ldGVyc1xuKTogUHJvbWlzZTxDeXByZXNzUmVzdWx0PiA9PiB7XG4gIHRyeSB7XG4gICAgcmV0dXJuIGF3YWl0IHJ1blNwZWNGaWxlKHsgc3BlYyB9LCBjeXByZXNzUnVuT3B0aW9ucyk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgZGVidWcoXCJjeXByZXNzIHJ1biBleGNlcHRpb24gJW9cIiwgZXJyb3IpO1xuICAgIHJldHVybiB7XG4gICAgICBzdGF0dXM6IFwiZmFpbGVkXCIsXG4gICAgICBmYWlsdXJlczogMSxcbiAgICAgIG1lc3NhZ2U6IGBDeXByZXNzIHByb2Nlc3MgY3Jhc2hlZCB3aXRoIGFuIGVycm9yOlxcbiR7XG4gICAgICAgIChlcnJvciBhcyBFcnJvcikubWVzc2FnZVxuICAgICAgfVxcbiR7KGVycm9yIGFzIEVycm9yKS5zdGFja319YCxcbiAgICB9O1xuICB9XG59O1xuIiwgImV4cG9ydCAqIGZyb20gXCIuL2dldFNwZWNGaWxlc1wiO1xuIiwgImltcG9ydCB7IFZhbGlkYXRlZEN1cnJlbnRzUGFyYW1ldGVycyB9IGZyb20gXCIuLi8uLi90eXBlc1wiO1xuaW1wb3J0IHsgTWVyZ2VkQ29uZmlnIH0gZnJvbSBcIi4uL2NvbmZpZy9jb25maWdcIjtcbmltcG9ydCB7IHdhcm4gfSBmcm9tIFwiLi4vbG9nXCI7XG5pbXBvcnQgeyBmaW5kU3BlY3MgfSBmcm9tIFwiLi9zcGVjTWF0Y2hlclwiO1xuXG5jb25zdCBnZXRTcGVjUGF0dGVybiA9IChcbiAgY29uZmlnUGF0dGVybjogTWVyZ2VkQ29uZmlnW1wic3BlY1BhdHRlcm5cIl0sXG4gIGV4cGxpY2l0Pzogc3RyaW5nW11cbikgPT4gZXhwbGljaXQgfHwgY29uZmlnUGF0dGVybjtcblxuZXhwb3J0IGNvbnN0IGdldFNwZWNGaWxlcyA9IGFzeW5jICh7XG4gIGNvbmZpZyxcbiAgcGFyYW1zLFxufToge1xuICBjb25maWc6IE1lcmdlZENvbmZpZztcbiAgcGFyYW1zOiBWYWxpZGF0ZWRDdXJyZW50c1BhcmFtZXRlcnM7XG59KSA9PiB7XG4gIGNvbnN0IHNwZWNQYXR0ZXJuID0gZ2V0U3BlY1BhdHRlcm4oY29uZmlnLnNwZWNQYXR0ZXJuLCBwYXJhbXMuc3BlYyk7XG4gIC8vIGZpbmQgdGhlIHNwZWMgZmlsZXMgYWNjb3JkaW5nIHRvIHRoZSByZXNvbHZlZCBjb25maWd1cmF0aW9uXG4gIGNvbnN0IHNwZWNzID0gYXdhaXQgZmluZFNwZWNzKHtcbiAgICBwcm9qZWN0Um9vdDogY29uZmlnLnByb2plY3RSb290LFxuICAgIHRlc3RpbmdUeXBlOiBwYXJhbXMudGVzdGluZ1R5cGUsXG4gICAgc3BlY1BhdHRlcm4sXG4gICAgY29uZmlnU3BlY1BhdHRlcm46IGNvbmZpZy5zcGVjUGF0dGVybixcbiAgICBleGNsdWRlU3BlY1BhdHRlcm46IGNvbmZpZy5leGNsdWRlU3BlY1BhdHRlcm4sXG4gICAgYWRkaXRpb25hbElnbm9yZVBhdHRlcm46IGNvbmZpZy5hZGRpdGlvbmFsSWdub3JlUGF0dGVybixcbiAgfSk7XG4gIGlmIChzcGVjcy5sZW5ndGggPT09IDApIHtcbiAgICB3YXJuKFwiTm8gc3BlYyBmaWxlcyBmb3VuZCB0byBleGVjdXRlLiBDb25maWd1cmF0aW9uOiAlT1wiLCB7XG4gICAgICBzcGVjUGF0dGVybixcbiAgICAgIGNvbmZpZ1NwZWNQYXR0ZXJuOiBjb25maWcuc3BlY1BhdHRlcm4sXG4gICAgICBleGNsdWRlU3BlY1BhdHRlcm46IFtcbiAgICAgICAgY29uZmlnLmV4Y2x1ZGVTcGVjUGF0dGVybixcbiAgICAgICAgY29uZmlnLmFkZGl0aW9uYWxJZ25vcmVQYXR0ZXJuLFxuICAgICAgXS5mbGF0KDIpLFxuICAgICAgdGVzdGluZ1R5cGU6IHBhcmFtcy50ZXN0aW5nVHlwZSxcbiAgICB9KTtcbiAgICByZXR1cm4geyBzcGVjczogW10sIHNwZWNQYXR0ZXJuIH07XG4gIH1cbiAgcmV0dXJuIHsgc3BlY3MsIHNwZWNQYXR0ZXJuIH07XG59O1xuIiwgImltcG9ydCBEZWJ1ZyBmcm9tIFwiZGVidWdcIjtcbmltcG9ydCBwYXRoIGZyb20gXCJwYXRoXCI7XG5cbmltcG9ydCBjb21tb25QYXRoUHJlZml4IGZyb20gXCJjb21tb24tcGF0aC1wcmVmaXhcIjtcbmltcG9ydCBnbG9iYnksIHsgR2xvYmJ5T3B0aW9ucyB9IGZyb20gXCJnbG9iYnlcIjtcbmltcG9ydCBfIGZyb20gXCJsb2Rhc2hcIjtcbmltcG9ydCBvcyBmcm9tIFwib3NcIjtcbmltcG9ydCB7XG4gIEZpbmRTcGVjcyxcbiAgU3BlY1R5cGUsXG4gIFNwZWNXaXRoUmVsYXRpdmVSb290LFxuICBUZXN0aW5nVHlwZSxcbn0gZnJvbSBcIi4uLy4uL3R5cGVzXCI7XG5pbXBvcnQgeyB0b0FycmF5LCB0b1Bvc2l4IH0gZnJvbSBcIi4uL3V0aWxzXCI7XG5cbmNvbnN0IGRlYnVnID0gRGVidWcoXCJjdXJyZW50czpzcGVjc1wiKTtcblxudHlwZSBHbG9iUGF0dGVybiA9IHN0cmluZyB8IHN0cmluZ1tdO1xuXG4vKipcbiAqIFJlcGxpY2F0ZSBob3cgY3lwcmVzcyBpcyBkaXNjb3ZlcmluZyBzcGVjIGZpbGVzXG4gKiBodHRwczovL2dpdGh1Yi5jb20vY3lwcmVzcy1pby9jeXByZXNzL2Jsb2IvYmM5ZWRiNDQ1MjNkNjJjYTkzNDgyN2I4ZTg3MGYzOGY4NjYzNGNhNC9wYWNrYWdlcy9kYXRhLWNvbnRleHQvc3JjL3NvdXJjZXMvUHJvamVjdERhdGFTb3VyY2UudHMjTDI1MFxuICogaHR0cHM6Ly9naXRodWIuY29tL2N5cHJlc3MtaW8vY3lwcmVzcy9ibG9iL2JjOWVkYjQ0NTIzZDYyY2E5MzQ4MjdiOGU4NzBmMzhmODY2MzRjYTQvcGFja2FnZXMvZGF0YS1jb250ZXh0L3NyYy9hY3Rpb25zL1Byb2plY3RBY3Rpb25zLnRzI0w0MTdcbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGZpbmRTcGVjcyh7XG4gIHByb2plY3RSb290LFxuICB0ZXN0aW5nVHlwZSxcbiAgc3BlY1BhdHRlcm4sXG4gIGNvbmZpZ1NwZWNQYXR0ZXJuLFxuICBleGNsdWRlU3BlY1BhdHRlcm4sXG4gIGFkZGl0aW9uYWxJZ25vcmVQYXR0ZXJuLFxufTogRmluZFNwZWNzPHN0cmluZ1tdIHwgc3RyaW5nPik6IFByb21pc2U8U3BlY1dpdGhSZWxhdGl2ZVJvb3RbXT4ge1xuICBjb25maWdTcGVjUGF0dGVybiA9IHRvQXJyYXkoY29uZmlnU3BlY1BhdHRlcm4pO1xuICBzcGVjUGF0dGVybiA9IHRvQXJyYXkoc3BlY1BhdHRlcm4pO1xuICBleGNsdWRlU3BlY1BhdHRlcm4gPSB0b0FycmF5KGV4Y2x1ZGVTcGVjUGF0dGVybikgfHwgW107XG5cbiAgLy8gZXhjbHVkZSBhbGwgc3BlY3MgbWF0Y2hpbmcgZTJlIGlmIGluIGNvbXBvbmVudCB0ZXN0aW5nXG4gIGFkZGl0aW9uYWxJZ25vcmVQYXR0ZXJuID0gdG9BcnJheShhZGRpdGlvbmFsSWdub3JlUGF0dGVybikgfHwgW107XG5cbiAgZGVidWcoXCJleHBsb3Jpbmcgc3BlYyBmaWxlcyBmb3IgZXhlY3V0aW9uICVPXCIsIHtcbiAgICB0ZXN0aW5nVHlwZSxcbiAgICBwcm9qZWN0Um9vdCxcbiAgICBzcGVjUGF0dGVybixcbiAgICBjb25maWdTcGVjUGF0dGVybixcbiAgICBleGNsdWRlU3BlY1BhdHRlcm4sXG4gICAgYWRkaXRpb25hbElnbm9yZVBhdHRlcm4sXG4gIH0pO1xuXG4gIGlmICghc3BlY1BhdHRlcm4gfHwgIWNvbmZpZ1NwZWNQYXR0ZXJuKSB7XG4gICAgdGhyb3cgRXJyb3IoXCJDb3VsZCBub3QgZmluZCBnbG9iIHBhdHRlcm5zIGZvciBleHBsb3Jpbmcgc3BlY3NcIik7XG4gIH1cblxuICBsZXQgc3BlY0Fic29sdXRlUGF0aHMgPSBhd2FpdCBnZXRGaWxlc0J5R2xvYihwcm9qZWN0Um9vdCwgc3BlY1BhdHRlcm4sIHtcbiAgICBhYnNvbHV0ZTogdHJ1ZSxcbiAgICBpZ25vcmU6IFsuLi5leGNsdWRlU3BlY1BhdHRlcm4sIC4uLmFkZGl0aW9uYWxJZ25vcmVQYXR0ZXJuXSxcbiAgfSk7XG5cbiAgLy8gSWYgdGhlIHNwZWNQYXR0ZXJuIGFuZCBjb25maWdTcGVjUGF0dGVybiBhcmUgZGlmZmVyZW50LFxuICAvLyBpdCBtZWFucyB0aGUgdXNlciBwYXNzZWQgc29tZXRoaW5nIG5vbi1kZWZhdWx0IHZpYSAtLXNwZWMgKHJ1biBtb2RlIG9ubHkpXG4gIC8vIGluIHRoaXMgc2NlbmFyaW8sIHdlIHdhbnQgdG8gZ3JhYiBldmVyeXRoaW5nIHRoYXQgbWF0Y2hlcyBgLS1zcGVjYFxuICAvLyB0aGF0IGZhbGxzIHdpdGhpbiB0aGVpciBkZWZhdWx0IHNwZWNQYXR0ZXJuLiBUaGUgcmVhc29uIGlzIHNvIHdlIGF2b2lkXG4gIC8vIGF0dGVtcHRpbmcgdG8gcnVuIHRoaW5ncyB0aGF0IGFyZSBub3Qgc3BlY3MsIGVnIHNvdXJjZSBjb2RlLCB2aWRlb3MsIGV0Yy5cbiAgLy9cbiAgLy8gRXhhbXBsZTogZGV2ZWxvcGVyIHdhbnRzIHRvIHJ1biB0ZXN0cyBhc3NvY2lhdGVkIHdpdGggdGltZXJzIGluIHBhY2thZ2VzL2RyaXZlclxuICAvLyBTbyB0aGV5IHJ1biB5YXJuIGN5cHJlc3M6cnVuIC0tc3BlYyAqKi90aW1lcnMqXG4gIC8vIHdlIGRvICoqbm90Kiogd2FudCB0byBjYXB0dXJlIGB0aW1lcnMudHNgIChzb3VyY2UgY29kZSkgb3IgYSB2aWRlbyBpblxuICAvLyBjeXByZXNzL3ZpZGVvcy90aW1lcnMuY3kudHMubXA0LCBzbyB3ZSB0YWtlIHRoZSBpbnRlcnNlY3Rpb24gYmV0d2VlbiBzcGVjUGF0dGVyblxuICAvLyBhbmQgLS1zcGVjLlxuICBpZiAoIV8uaXNFcXVhbChzcGVjUGF0dGVybiwgY29uZmlnU3BlY1BhdHRlcm4pKSB7XG4gICAgY29uc3QgZGVmYXVsdFNwZWNBYnNvbHV0ZVBhdGhzID0gYXdhaXQgZ2V0RmlsZXNCeUdsb2IoXG4gICAgICBwcm9qZWN0Um9vdCxcbiAgICAgIGNvbmZpZ1NwZWNQYXR0ZXJuLFxuICAgICAge1xuICAgICAgICBhYnNvbHV0ZTogdHJ1ZSxcbiAgICAgICAgaWdub3JlOiBbLi4uZXhjbHVkZVNwZWNQYXR0ZXJuLCAuLi5hZGRpdGlvbmFsSWdub3JlUGF0dGVybl0sXG4gICAgICB9XG4gICAgKTtcblxuICAgIHNwZWNBYnNvbHV0ZVBhdGhzID0gXy5pbnRlcnNlY3Rpb24oXG4gICAgICBzcGVjQWJzb2x1dGVQYXRocyxcbiAgICAgIGRlZmF1bHRTcGVjQWJzb2x1dGVQYXRoc1xuICAgICk7XG4gIH1cblxuICByZXR1cm4gbWF0Y2hlZFNwZWNzKHtcbiAgICBwcm9qZWN0Um9vdCxcbiAgICB0ZXN0aW5nVHlwZSxcbiAgICBzcGVjQWJzb2x1dGVQYXRocyxcbiAgICBzcGVjUGF0dGVybixcbiAgfSk7XG59XG5cbmFzeW5jIGZ1bmN0aW9uIGdldEZpbGVzQnlHbG9iKFxuICBjd2Q6IHN0cmluZyxcbiAgZ2xvYjogR2xvYlBhdHRlcm4sXG4gIGdsb2JPcHRpb25zOiBHbG9iYnlPcHRpb25zXG4pIHtcbiAgY29uc3QgZ2xvYnMgPSAoW10gYXMgc3RyaW5nW10pLmNvbmNhdChnbG9iKS5tYXAoKGdsb2JQYXR0ZXJuKSA9PiB7XG4gICAgY29uc3Qgd29ya2luZ0RpcmVjdG9yeVByZWZpeCA9IHBhdGguam9pbihjd2QsIHBhdGguc2VwKTtcblxuICAgIC8vIElmIHRoZSBwYXR0ZXJuIGluY2x1ZGVzIHRoZSB3b3JraW5nIGRpcmVjdG9yeSwgd2Ugc3RyaXAgaXQgZnJvbSB0aGUgcGF0dGVybi5cbiAgICAvLyBUaGUgd29ya2luZyBkaXJlY3RvcnkgcGF0aCBtYXkgaW5jbHVkZSBjaGFyYWN0ZXJzIHRoYXQgY29uZmxpY3Qgd2l0aCBnbG9iXG4gICAgLy8gc3ludGF4IChicmFja2V0cywgcGFyZW50aGVzZXMsIGV0Yy4pIGFuZCBjYXVzZSBvdXIgc2VhcmNoZXMgdG8gaW5hZHZlcnRlbnRseSBmYWlsLlxuICAgIC8vIFdlIHNjb3BlIG91ciBzZWFyY2ggdG8gdGhlIHdvcmtpbmcgZGlyZWN0b3J5IHVzaW5nIHRoZSBgY3dkYCBnbG9iYnkgb3B0aW9uLlxuICAgIGlmIChnbG9iUGF0dGVybi5zdGFydHNXaXRoKHdvcmtpbmdEaXJlY3RvcnlQcmVmaXgpKSB7XG4gICAgICByZXR1cm4gZ2xvYlBhdHRlcm4ucmVwbGFjZSh3b3JraW5nRGlyZWN0b3J5UHJlZml4LCBcIlwiKTtcbiAgICB9XG5cbiAgICByZXR1cm4gZ2xvYlBhdHRlcm47XG4gIH0pO1xuXG4gIGNvbnN0IGlnbm9yZUdsb2IgPSAoZ2xvYk9wdGlvbnM/Lmlnbm9yZSA/PyBbXSkuY29uY2F0KFwiKiovbm9kZV9tb2R1bGVzLyoqXCIpO1xuXG4gIGlmIChvcy5wbGF0Zm9ybSgpID09PSBcIndpbjMyXCIpIHtcbiAgICAvLyBnbG9iYnkgY2FuJ3Qgd29yayB3aXRoIGJhY2t3YXJkcyBzbGFzaGVzXG4gICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL3NpbmRyZXNvcmh1cy9nbG9iYnkvaXNzdWVzLzE3OVxuICAgIGRlYnVnKFwidXBkYXRpbmcgZ2xvYiBwYXR0ZXJucyB0byBQT1NJWFwiKTtcbiAgICBmb3IgKGNvbnN0IGkgaW4gZ2xvYnMpIHtcbiAgICAgIGNvbnN0IGN1ciA9IGdsb2JzW2ldO1xuXG4gICAgICBpZiAoIWN1cikgdGhyb3cgbmV3IEVycm9yKFwidW5kZWZpbmVkIGdsb2IgcmVjZWl2ZWRcIik7XG5cbiAgICAgIGdsb2JzW2ldID0gdG9Qb3NpeChjdXIpO1xuICAgIH1cbiAgfVxuXG4gIHRyeSB7XG4gICAgZGVidWcoXCJnbG9iYmluZyBwYXR0ZXJuKHMpOiAlb1wiLCBnbG9icyk7XG4gICAgZGVidWcoXCJ3aXRoaW4gZGlyZWN0b3J5OiAlc1wiLCBjd2QpO1xuXG4gICAgY29uc3QgZmlsZXMgPSBhd2FpdCBtYXRjaEdsb2JzKGdsb2JzLCB7XG4gICAgICBvbmx5RmlsZXM6IHRydWUsXG4gICAgICBhYnNvbHV0ZTogdHJ1ZSxcbiAgICAgIGN3ZCxcbiAgICAgIC4uLmdsb2JPcHRpb25zLFxuICAgICAgaWdub3JlOiBpZ25vcmVHbG9iLFxuICAgIH0pO1xuXG4gICAgcmV0dXJuIGZpbGVzO1xuICB9IGNhdGNoIChlKSB7XG4gICAgZGVidWcoXCJlcnJvciBpbiBnZXRGaWxlc0J5R2xvYiAlb1wiLCBlKTtcblxuICAgIHJldHVybiBbXTtcbiAgfVxufVxuXG5jb25zdCBtYXRjaEdsb2JzID0gYXN5bmMgKGdsb2JzOiBHbG9iUGF0dGVybiwgZ2xvYmJ5T3B0aW9uczogR2xvYmJ5T3B0aW9ucykgPT4ge1xuICByZXR1cm4gYXdhaXQgZ2xvYmJ5KGdsb2JzLCBnbG9iYnlPcHRpb25zKTtcbn07XG5cbmludGVyZmFjZSBNYXRjaGVkU3BlY3Mge1xuICBwcm9qZWN0Um9vdDogc3RyaW5nO1xuICB0ZXN0aW5nVHlwZTogVGVzdGluZ1R5cGU7XG4gIHNwZWNBYnNvbHV0ZVBhdGhzOiBzdHJpbmdbXTtcbiAgc3BlY1BhdHRlcm46IHN0cmluZyB8IHN0cmluZ1tdO1xufVxuXG5mdW5jdGlvbiBtYXRjaGVkU3BlY3Moe1xuICBwcm9qZWN0Um9vdCxcbiAgdGVzdGluZ1R5cGUsXG4gIHNwZWNBYnNvbHV0ZVBhdGhzLFxufTogTWF0Y2hlZFNwZWNzKSB7XG4gIGRlYnVnKFwiZm91bmQgc3BlY3MgJW9cIiwgc3BlY0Fic29sdXRlUGF0aHMpO1xuXG4gIGxldCBjb21tb25Sb290ID0gXCJcIjtcblxuICBpZiAoc3BlY0Fic29sdXRlUGF0aHMubGVuZ3RoID09PSAxKSB7XG4gICAgY29tbW9uUm9vdCA9IHBhdGguZGlybmFtZShzcGVjQWJzb2x1dGVQYXRoc1swXSk7XG4gIH0gZWxzZSB7XG4gICAgY29tbW9uUm9vdCA9IGNvbW1vblBhdGhQcmVmaXgoc3BlY0Fic29sdXRlUGF0aHMpO1xuICB9XG5cbiAgY29uc3Qgc3BlY3MgPSBzcGVjQWJzb2x1dGVQYXRocy5tYXAoKGFic29sdXRlKSA9PiB7XG4gICAgcmV0dXJuIHRyYW5zZm9ybVNwZWMoe1xuICAgICAgcHJvamVjdFJvb3QsXG4gICAgICBhYnNvbHV0ZSxcbiAgICAgIHRlc3RpbmdUeXBlLFxuICAgICAgY29tbW9uUm9vdCxcbiAgICAgIHBsYXRmb3JtOiBvcy5wbGF0Zm9ybSgpLFxuICAgICAgc2VwOiBwYXRoLnNlcCxcbiAgICB9KTtcbiAgfSk7XG5cbiAgcmV0dXJuIHNwZWNzO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFRyYW5zZm9ybVNwZWMge1xuICBwcm9qZWN0Um9vdDogc3RyaW5nO1xuICBhYnNvbHV0ZTogc3RyaW5nO1xuICB0ZXN0aW5nVHlwZTogVGVzdGluZ1R5cGU7XG4gIGNvbW1vblJvb3Q6IHN0cmluZztcbiAgcGxhdGZvcm06IE5vZGVKUy5QbGF0Zm9ybTtcbiAgc2VwOiBzdHJpbmc7XG59XG5cbmZ1bmN0aW9uIHRyYW5zZm9ybVNwZWMoe1xuICBwcm9qZWN0Um9vdCxcbiAgYWJzb2x1dGUsXG4gIHRlc3RpbmdUeXBlLFxuICBjb21tb25Sb290LFxuICBwbGF0Zm9ybSxcbiAgc2VwLFxufTogVHJhbnNmb3JtU3BlYykge1xuICBpZiAocGxhdGZvcm0gPT09IFwid2luMzJcIikge1xuICAgIGFic29sdXRlID0gdG9Qb3NpeChhYnNvbHV0ZSwgc2VwKTtcbiAgICBwcm9qZWN0Um9vdCA9IHRvUG9zaXgocHJvamVjdFJvb3QsIHNlcCk7XG4gIH1cblxuICBjb25zdCByZWxhdGl2ZSA9IHBhdGgucmVsYXRpdmUocHJvamVjdFJvb3QsIGFic29sdXRlKTtcbiAgY29uc3QgcGFyc2VkRmlsZSA9IHBhdGgucGFyc2UoYWJzb2x1dGUpO1xuICBjb25zdCBmaWxlRXh0ZW5zaW9uID0gcGF0aC5leHRuYW1lKGFic29sdXRlKTtcblxuICBjb25zdCBzcGVjRmlsZUV4dGVuc2lvbiA9XG4gICAgW1wiLnNwZWNcIiwgXCIudGVzdFwiLCBcIi1zcGVjXCIsIFwiLXRlc3RcIiwgXCIuY3lcIl1cbiAgICAgIC5tYXAoKGV4dCkgPT4gZXh0ICsgZmlsZUV4dGVuc2lvbilcbiAgICAgIC5maW5kKChleHQpID0+IGFic29sdXRlLmVuZHNXaXRoKGV4dCkpIHx8IGZpbGVFeHRlbnNpb247XG5cbiAgY29uc3QgcGFydHMgPSBhYnNvbHV0ZS5zcGxpdChwcm9qZWN0Um9vdCk7XG4gIGxldCBuYW1lID0gcGFydHNbcGFydHMubGVuZ3RoIC0gMV0gfHwgXCJcIjtcblxuICBpZiAobmFtZS5zdGFydHNXaXRoKFwiL1wiKSkge1xuICAgIG5hbWUgPSBuYW1lLnNsaWNlKDEpO1xuICB9XG5cbiAgY29uc3QgTEVBRElOR19TTEFTSCA9IC9eXFwvfC9nO1xuICBjb25zdCByZWxhdGl2ZVRvQ29tbW9uUm9vdCA9IGFic29sdXRlXG4gICAgLnJlcGxhY2UoY29tbW9uUm9vdCwgXCJcIilcbiAgICAucmVwbGFjZShMRUFESU5HX1NMQVNILCBcIlwiKTtcblxuICByZXR1cm4ge1xuICAgIGZpbGVFeHRlbnNpb24sXG4gICAgYmFzZU5hbWU6IHBhcnNlZEZpbGUuYmFzZSxcbiAgICBmaWxlTmFtZTogcGFyc2VkRmlsZS5iYXNlLnJlcGxhY2Uoc3BlY0ZpbGVFeHRlbnNpb24sIFwiXCIpLFxuICAgIHNwZWNGaWxlRXh0ZW5zaW9uLFxuICAgIHJlbGF0aXZlVG9Db21tb25Sb290LFxuICAgIHNwZWNUeXBlOiAodGVzdGluZ1R5cGUgPT09IFwiY29tcG9uZW50XCJcbiAgICAgID8gXCJjb21wb25lbnRcIlxuICAgICAgOiBcImludGVncmF0aW9uXCIpIGFzIFNwZWNUeXBlLFxuICAgIG5hbWUsXG4gICAgcmVsYXRpdmUsXG4gICAgYWJzb2x1dGUsXG4gIH07XG59XG4iLCAiZXhwb3J0ICogZnJvbSBcIi4vY2xpXCI7XG5leHBvcnQgKiBmcm9tIFwiLi9wcm9ncmFtXCI7XG4iLCAiaW1wb3J0IHsgQ3VycmVudHNSdW5QYXJhbWV0ZXJzLCBUZXN0aW5nVHlwZSB9IGZyb20gXCJjeXByZXNzLWNsb3VkL3R5cGVzXCI7XG5pbXBvcnQgRGVidWcgZnJvbSBcImRlYnVnXCI7XG5pbXBvcnQgeyBzYW5pdGl6ZUFuZENvbnZlcnROZXN0ZWRBcmdzIH0gZnJvbSBcIi4vcGFyc2VyXCI7XG5pbXBvcnQgeyBwcm9ncmFtIH0gZnJvbSBcIi4vcHJvZ3JhbVwiO1xuXG5jb25zdCBkZWJ1ZyA9IERlYnVnKFwiY3VycmVudHM6Y2xpXCIpO1xuXG5leHBvcnQgZnVuY3Rpb24gcGFyc2VDTElPcHRpb25zKFxuICBfcHJvZ3JhbTogdHlwZW9mIHByb2dyYW0gPSBwcm9ncmFtLFxuICAuLi5hcmdzOiBQYXJhbWV0ZXJzPHR5cGVvZiBwcm9ncmFtLnBhcnNlPlxuKSB7XG4gIF9wcm9ncmFtLnBhcnNlKC4uLmFyZ3MpO1xuICBkZWJ1ZyhcInBhcnNlZCBDTEkgZmxhZ3MgJW9cIiwgX3Byb2dyYW0ub3B0cygpKTtcblxuICBjb25zdCB7IGUyZSwgY29tcG9uZW50IH0gPSBfcHJvZ3JhbS5vcHRzKCk7XG4gIGlmIChlMmUgJiYgY29tcG9uZW50KSB7XG4gICAgX3Byb2dyYW0uZXJyb3IoXCJDYW5ub3QgdXNlIGJvdGggZTJlIGFuZCBjb21wb25lbnQgb3B0aW9uc1wiKTtcbiAgfVxuXG4gIHJldHVybiBnZXRSdW5QYXJhbWV0ZXJzRnJvbUNMSShfcHJvZ3JhbS5vcHRzKCkpO1xufVxuXG4vKipcbiAqIFRyYW5zZm9ybXMgdGhlIENMSSBvcHRpb25zIGludG8gdGhlIGZvcm1hdCB0aGF0IHRoZSBgcnVuYCBBUEkgZXhwZWN0c1xuICpcbiAqIEBwYXJhbSBjbGlPcHRpb25zXG4gKiBAcmV0dXJucyBDdXJyZW50cyBydW4gcGFyYW1ldGVyc1xuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0UnVuUGFyYW1ldGVyc0Zyb21DTEkoXG4gIGNsaU9wdGlvbnM6IFJldHVyblR5cGU8dHlwZW9mIHByb2dyYW0ub3B0cz5cbik6IEN1cnJlbnRzUnVuUGFyYW1ldGVycyB7XG4gIGNvbnN0IHsgY29tcG9uZW50LCBlMmUsIC4uLnJlc3RPcHRpb25zIH0gPSBjbGlPcHRpb25zO1xuICBjb25zdCB0ZXN0aW5nVHlwZTogVGVzdGluZ1R5cGUgPSBjb21wb25lbnQgPyBcImNvbXBvbmVudFwiIDogXCJlMmVcIjtcblxuICBjb25zdCByZXN1bHQ6IFBhcnRpYWw8Q3VycmVudHNSdW5QYXJhbWV0ZXJzPiA9IHtcbiAgICAuLi5yZXN0T3B0aW9ucyxcbiAgICBjb25maWc6IHNhbml0aXplQW5kQ29udmVydE5lc3RlZEFyZ3MoY2xpT3B0aW9ucy5jb25maWcsIFwiY29uZmlnXCIpLFxuICAgIGVudjogc2FuaXRpemVBbmRDb252ZXJ0TmVzdGVkQXJncyhjbGlPcHRpb25zLmVudiwgXCJlbnZcIiksXG4gICAgcmVwb3J0ZXJPcHRpb25zOiBzYW5pdGl6ZUFuZENvbnZlcnROZXN0ZWRBcmdzKFxuICAgICAgY2xpT3B0aW9ucy5yZXBvcnRlck9wdGlvbnMsXG4gICAgICBcInJlcG9ydGVyT3B0aW9uc1wiXG4gICAgKSxcbiAgICB0ZXN0aW5nVHlwZSxcbiAgICByZWNvcmRLZXk6IGNsaU9wdGlvbnMua2V5LFxuICB9O1xuXG4gIGRlYnVnKFwicGFyc2VkIHJ1biBwYXJhbXM6ICVvXCIsIHJlc3VsdCk7XG4gIHJldHVybiByZXN1bHQ7XG59XG4iLCAiaW1wb3J0IF8gZnJvbSBcImxvZGFzaFwiO1xuaW1wb3J0IGFzc2VydCBmcm9tIFwibm9kZTphc3NlcnRcIjtcbmltcG9ydCB7IGVycm9yIH0gZnJvbSBcIi4uLy4uL2xpYi9sb2dcIjtcblxuY29uc3QgbmVzdGVkT2JqZWN0c0luQ3VybHlCcmFjZXNSZSA9IC9cXHsoLis/KVxcfS9nO1xuY29uc3QgbmVzdGVkQXJyYXlzSW5TcXVhcmVCcmFja2V0c1JlID0gL1xcWyguKz8pXFxdL2c7XG5jb25zdCBldmVyeXRoaW5nQWZ0ZXJGaXJzdEVxdWFsUmUgPSAvPSguKikvO1xuXG4vLyBodHRwczovL2dpdGh1Yi5jb20vY3lwcmVzcy1pby9jeXByZXNzL2Jsb2IvYWZiNjZhYmM3MDIzY2U3MWUyODkzY2I2ZGU2N2QyNDcwNmZmN2ExZi9wYWNrYWdlcy9zZXJ2ZXIvbGliL3V0aWwvYXJncy5qcyNMMTYyXG5leHBvcnQgY29uc3Qgc2FuaXRpemVBbmRDb252ZXJ0TmVzdGVkQXJncyA9IDxUIGV4dGVuZHMgUmVjb3JkPHN0cmluZywgdW5rbm93bj4+KFxuICBzdHI6IHVua25vd24sXG4gIGFyZ05hbWU6IHVua25vd25cbik6IFQgfCB1bmRlZmluZWQgPT4ge1xuICBpZiAoIXN0cikge1xuICAgIHJldHVybjtcbiAgfVxuICBhc3NlcnQoXy5pc1N0cmluZyhhcmdOYW1lKSAmJiBhcmdOYW1lLnRyaW0oKSAhPT0gXCJcIik7XG5cbiAgdHJ5IHtcbiAgICBpZiAodHlwZW9mIHN0ciA9PT0gXCJvYmplY3RcIikge1xuICAgICAgcmV0dXJuIHN0ciBhcyBUO1xuICAgIH1cblxuICAgIC8vIGlmIHRoaXMgaXMgdmFsaWQgSlNPTiB0aGVuIGp1c3RcbiAgICAvLyBwYXJzZSBpdCBhbmQgY2FsbCBpdCBhIGRheVxuICAgIGNvbnN0IHBhcnNlZCA9IHRyeUpTT05QYXJzZShzdHIgYXMgc3RyaW5nKTtcblxuICAgIGlmIChwYXJzZWQpIHtcbiAgICAgIHJldHVybiBwYXJzZWQ7XG4gICAgfVxuXG4gICAgLy8gaW52YWxpZCBKU09OLCBzbyBhc3N1bWUgbWl4ZWQgdXNhZ2VcbiAgICAvLyBmaXJzdCBmaW5kIGZvbz17YTpiLGI6Y30gYW5kIGJhcj1bMSwyLDNdXG4gICAgLy8gc3ludGF4IGFuZCB0dXJuIHRob3NlIGludG9cbiAgICAvLyBmb286IGE6YnxiOmNcbiAgICAvLyBiYXI6IDF8MnwzXG5cbiAgICByZXR1cm4gXy5jaGFpbihzdHIpXG4gICAgICAucmVwbGFjZShuZXN0ZWRPYmplY3RzSW5DdXJseUJyYWNlc1JlLCBjb21tYXNUb1BpcGVzKVxuICAgICAgLnJlcGxhY2UobmVzdGVkQXJyYXlzSW5TcXVhcmVCcmFja2V0c1JlLCBjb21tYXNUb1BpcGVzKVxuICAgICAgLnNwbGl0KFwiLFwiKVxuICAgICAgLm1hcCgocGFpcikgPT4ge1xuICAgICAgICByZXR1cm4gcGFpci5zcGxpdChldmVyeXRoaW5nQWZ0ZXJGaXJzdEVxdWFsUmUpO1xuICAgICAgfSlcbiAgICAgIC5mcm9tUGFpcnMoKVxuICAgICAgLm1hcFZhbHVlcyhKU09OT3JDb2VyY2UpXG4gICAgICAudmFsdWUoKSBhcyBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiBhcyBUO1xuICB9IGNhdGNoIChlcnIpIHtcbiAgICBlcnJvcihcImNvdWxkIG5vdCBwYXJzZSBDTEkgb3B0aW9uICclcycgdmFsdWU6ICVzXCIsIGFyZ05hbWUsIHN0cik7XG4gICAgZXJyb3IoXCJlcnJvciAlb1wiLCBlcnIpO1xuICAgIHJldHVybiB1bmRlZmluZWQ7XG4gIH1cbn07XG5cbmNvbnN0IHRyeUpTT05QYXJzZSA9IChzdHI6IHN0cmluZykgPT4ge1xuICB0cnkge1xuICAgIHJldHVybiBKU09OLnBhcnNlKHN0cikgPT09IEluZmluaXR5ID8gbnVsbCA6IEpTT04ucGFyc2Uoc3RyKTtcbiAgfSBjYXRjaCAoZXJyKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbn07XG5cbmNvbnN0IGNvbW1hc1RvUGlwZXMgPSAobWF0Y2g6IHN0cmluZykgPT4ge1xuICByZXR1cm4gbWF0Y2guc3BsaXQoXCIsXCIpLmpvaW4oXCJ8XCIpO1xufTtcblxuLy8gZm9vPWJhcix2ZXJzaW9uPTEuMi4zXG5jb25zdCBwaXBlc1RvQ29tbWFzID0gKHN0cjogc3RyaW5nKSA9PiB7XG4gIHJldHVybiBzdHIuc3BsaXQoXCJ8XCIpLmpvaW4oXCIsXCIpO1xufTtcblxuY29uc3QgSlNPTk9yQ29lcmNlID0gKHN0cjogc3RyaW5nKSA9PiB7XG4gIC8vIHZhbGlkIEpTT04/IGhvcnJheVxuICBjb25zdCBwYXJzZWQgPSB0cnlKU09OUGFyc2Uoc3RyKTtcblxuICBpZiAocGFyc2VkKSB7XG4gICAgcmV0dXJuIHBhcnNlZDtcbiAgfVxuXG4gIC8vIGNvbnZlcnQgYmFycyBiYWNrIHRvIGNvbW1hc1xuICBzdHIgPSBwaXBlc1RvQ29tbWFzKHN0cik7XG5cbiAgLy8gdHJ5IHRvIHBhcnNlIGFnYWluP1xuICBjb25zdCBwYXJzZWQyID0gdHJ5SlNPTlBhcnNlKHN0cik7XG5cbiAgaWYgKHBhcnNlZDIpIHtcbiAgICByZXR1cm4gcGFyc2VkMjtcbiAgfVxuXG4gIC8vIG51cGUgOi0oXG4gIHJldHVybiBjb2VyY2Uoc3RyKTtcbn07XG5cbmV4cG9ydCBjb25zdCBjb2VyY2UgPSAodmFsdWU6IGFueSkgPT4ge1xuICBjb25zdCBudW0gPSBfLnRvTnVtYmVyKHZhbHVlKTtcblxuICBpZiAoXy5pbnZva2UobnVtLCBcInRvU3RyaW5nXCIpID09PSB2YWx1ZSkge1xuICAgIHJldHVybiBudW07XG4gIH1cblxuICBjb25zdCBib29sID0gdG9Cb29sZWFuKHZhbHVlKTtcblxuICBpZiAoXy5pbnZva2UoYm9vbCwgXCJ0b1N0cmluZ1wiKSA9PT0gdmFsdWUpIHtcbiAgICByZXR1cm4gYm9vbDtcbiAgfVxuXG4gIGNvbnN0IG9iaiA9IHRyeUpTT05QYXJzZSh2YWx1ZSk7XG5cbiAgaWYgKG9iaiAmJiB0eXBlb2Ygb2JqID09PSBcIm9iamVjdFwiKSB7XG4gICAgcmV0dXJuIG9iajtcbiAgfVxuXG4gIGNvbnN0IGFyciA9IF8udG9BcnJheSh2YWx1ZSk7XG5cbiAgaWYgKF8uaW52b2tlKGFyciwgXCJ0b1N0cmluZ1wiKSA9PT0gdmFsdWUpIHtcbiAgICByZXR1cm4gYXJyO1xuICB9XG5cbiAgcmV0dXJuIHZhbHVlO1xufTtcblxuY29uc3QgdG9Cb29sZWFuID0gKHZhbHVlOiBzdHJpbmcpID0+IHtcbiAgc3dpdGNoICh2YWx1ZSkge1xuICAgIGNhc2UgXCJ0cnVlXCI6XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICBjYXNlIFwiZmFsc2VcIjpcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICBkZWZhdWx0OlxuICAgICAgcmV0dXJuIHZhbHVlO1xuICB9XG59O1xuIiwgIi8vIGh0dHBzOi8vZ2l0aHViLmNvbS9jdXJyZW50cy1kZXYvY3lwcmVzcy1jbG91ZC9pc3N1ZXMvNzFcbi8vIGtlZXAgdGhlIGxvY2FsIGNvcHkgdG8gcHJldmVudCBmcm9tIGltcG9ydGluZ1xuLy8gY29tbWFuZGVyLmpzIGZyb20gdGhlIGdsb2JhbCBub2RlX21vZHVsZXNcbmltcG9ydCB7IENvbW1hbmQsIE9wdGlvbiB9IGZyb20gXCIuL0Bjb21tYW5kZXItanMvZXh0cmEtdHlwaW5nc1wiO1xuXG5leHBvcnQgY29uc3QgY3JlYXRlUHJvZ3JhbSA9IChjb21tYW5kOiBDb21tYW5kID0gbmV3IENvbW1hbmQoKSkgPT5cbiAgY29tbWFuZFxuICAgIC5uYW1lKFwiY3lwcmVzcy1jbG91ZFwiKVxuICAgIC5kZXNjcmlwdGlvbihcbiAgICAgIFwiUnVucyBDeXByZXNzIHRlc3RzIG9uIENJIHVzaW5nIEN1cnJlbnRzIGFzIGFuIG9yY2hlc3RyYXRpb24gYW5kIHJlcG9ydGluZyBzZXJ2aWNlXCJcbiAgICApXG4gICAgLm9wdGlvbihcbiAgICAgIFwiLWIsIC0tYnJvd3NlciA8YnJvd3Nlci1uYW1lLW9yLXBhdGg+XCIsXG4gICAgICBcInJ1bnMgQ3lwcmVzcyBpbiB0aGUgYnJvd3NlciB3aXRoIHRoZSBnaXZlbiBuYW1lOyBpZiBhIGZpbGVzeXN0ZW0gcGF0aCBpcyBzdXBwbGllZCwgQ3lwcmVzcyB3aWxsIGF0dGVtcHQgdG8gdXNlIHRoZSBicm93c2VyIGF0IHRoYXQgcGF0aFwiXG4gICAgKVxuICAgIC5vcHRpb24oXG4gICAgICBcIi0tY2ktYnVpbGQtaWQgPGlkPlwiLFxuICAgICAgXCJ0aGUgdW5pcXVlIGlkZW50aWZpZXIgZm9yIGEgcnVuLCB0aGlzIHZhbHVlIGlzIGF1dG9tYXRpY2FsbHkgZGV0ZWN0ZWQgZm9yIG1vc3QgQ0kgcHJvdmlkZXJzXCJcbiAgICApXG4gICAgLmFkZE9wdGlvbihcbiAgICAgIG5ldyBPcHRpb24oXCItLWNvbXBvbmVudFwiLCBcInJ1bnMgQ3lwcmVzcyBjb21wb25lbnQgdGVzdFwiKVxuICAgICAgICAuZGVmYXVsdChmYWxzZSlcbiAgICAgICAgLmltcGxpZXMoe1xuICAgICAgICAgIGUyZTogZmFsc2UsXG4gICAgICAgIH0pXG4gICAgKVxuICAgIC5vcHRpb24oXG4gICAgICBcIi1jLCAtLWNvbmZpZyA8Y29uZmlnPlwiLFxuICAgICAgXCJzZXRzIEN5cHJlc3MgY29uZmlndXJhdGlvbiB2YWx1ZXMuIHNlcGFyYXRlIG11bHRpcGxlIHZhbHVlcyB3aXRoIGEgY29tbWEuIG92ZXJyaWRlcyBhbnkgdmFsdWUgaW4gY3lwcmVzcy5jb25maWcue2pzLHRzLG1qcyxjanN9XCJcbiAgICApXG4gICAgLm9wdGlvbihcbiAgICAgIFwiLWUsIC0tZW52IDxlbnY+XCIsXG4gICAgICBcInNldHMgZW52aXJvbm1lbnQgdmFyaWFibGVzLiBzZXBhcmF0ZSBtdWx0aXBsZSB2YWx1ZXMgd2l0aCBhIGNvbW1hLiBvdmVycmlkZXMgYW55IHZhbHVlIGluIGN5cHJlc3MuY29uZmlnLntqcyx0cyxtanMsY2pzfSBvciBjeXByZXNzLmVudi5qc29uXCJcbiAgICApXG4gICAgLm9wdGlvbihcbiAgICAgIFwiLUMsIC0tY29uZmlnLWZpbGUgPGNvbmZpZy1maWxlPlwiLFxuICAgICAgJ3NwZWNpZnkgQ3lwcmVzcyBjb25maWcgZmlsZSwgcGF0aCB0byBzY3JpcHQgZmlsZSB3aGVyZSBDeXByZXNzIGNvbmZpZ3VyYXRpb24gdmFsdWVzIGFyZSBzZXQuIGRlZmF1bHRzIHRvIFwiY3lwcmVzcy5jb25maWcue2pzLHRzLG1qcyxjanN9XCInXG4gICAgKVxuICAgIC5hZGRPcHRpb24obmV3IE9wdGlvbihcIi0tZTJlXCIsIFwicnVucyBlbmQgdG8gZW5kIHRlc3RzXCIpLmRlZmF1bHQodHJ1ZSkpXG4gICAgLm9wdGlvbihcIi0tZ3JvdXAgPG5hbWU+XCIsIFwiYSBuYW1lZCBncm91cCBmb3IgcmVjb3JkZWQgcnVucyBpbiBDdXJyZW50c1wiKVxuICAgIC5hZGRPcHRpb24oXG4gICAgICBuZXcgT3B0aW9uKFxuICAgICAgICBcIi1rLCAtLWtleSA8cmVjb3JkLWtleT5cIixcbiAgICAgICAgXCJ5b3VyIHNlY3JldCBSZWNvcmQgS2V5IG9idGFpbmVkIGZyb20gQ3VycmVudHMuIHlvdSBjYW4gb21pdCB0aGlzIGlmIHlvdSBzZXQgYSBDVVJSRU5UU19SRUNPUkRfS0VZIGVudmlyb25tZW50IHZhcmlhYmxlXCJcbiAgICAgICkuZW52KFwiQ1VSUkVOVFNfUkVDT1JEX0tFWVwiKVxuICAgIClcbiAgICAub3B0aW9uKFxuICAgICAgXCItLXBhcmFsbGVsXCIsXG4gICAgICBcImVuYWJsZXMgY29uY3VycmVudCBydW5zIGFuZCBhdXRvbWF0aWMgbG9hZCBiYWxhbmNpbmcgb2Ygc3BlY3MgYWNyb3NzIG11bHRpcGxlIG1hY2hpbmVzIG9yIHByb2Nlc3Nlc1wiLFxuICAgICAgZmFsc2VcbiAgICApXG4gICAgLmFkZE9wdGlvbihcbiAgICAgIG5ldyBPcHRpb24oXG4gICAgICAgIFwiLXAsIC0tcG9ydCA8bnVtYmVyPlwiLFxuICAgICAgICBcInJ1bnMgQ3lwcmVzcyBvbiBhIHNwZWNpZmljIHBvcnQuIG92ZXJyaWRlcyBhbnkgdmFsdWUgaW4gY3lwcmVzcy5jb25maWcue2pzLHRzLG1qcyxjanN9XCJcbiAgICAgICkuYXJnUGFyc2VyKChpKSA9PiBwYXJzZUludChpLCAxMCkpXG4gICAgKVxuICAgIC5vcHRpb24oXG4gICAgICBcIi1QLCAtLXByb2plY3QgPHByb2plY3QtcGF0aD5cIixcbiAgICAgIFwicGF0aCB0byB5b3VyIEN5cHJlc3MgcHJvamVjdCByb290IGxvY2F0aW9uXCJcbiAgICApXG4gICAgLm9wdGlvbihcIi1xLCAtLXF1aWV0XCIsIFwic3VwcHJlc3MgdmVyYm9zZSBvdXRwdXQgZnJvbSBDeXByZXNzXCIpXG4gICAgLmFkZE9wdGlvbihcbiAgICAgIG5ldyBPcHRpb24oXG4gICAgICAgIFwiLS1yZWNvcmQgW2Jvb2xdXCIsXG4gICAgICAgIFwicmVjb3JkcyB0aGUgcnVuIGFuZCBzZW5kcyB0ZXN0IHJlc3VsdHMsIHNjcmVlbnNob3RzIGFuZCB2aWRlb3MgdG8gQ3VycmVudHNcIlxuICAgICAgKVxuICAgICAgICAuZGVmYXVsdCh0cnVlKVxuICAgICAgICAuYXJnUGFyc2VyKChpKSA9PiAoaSA9PT0gXCJmYWxzZVwiID8gZmFsc2UgOiB0cnVlKSlcbiAgICApXG4gICAgLm9wdGlvbihcbiAgICAgIFwiLXIsIC0tcmVwb3J0ZXIgPHJlcG9ydGVyPlwiLFxuICAgICAgJ3VzZSBhIHNwZWNpZmljIG1vY2hhIHJlcG9ydGVyIGZvciBDeXByZXNzLCBwYXNzIGEgcGF0aCB0byB1c2UgYSBjdXN0b20gcmVwb3J0ZXIsIGRlZmF1bHRzIHRvIFwic3BlY1wiJ1xuICAgIClcbiAgICAub3B0aW9uKFxuICAgICAgXCItbywgLS1yZXBvcnRlci1vcHRpb25zIDxyZXBvcnRlci1vcHRpb25zPlwiLFxuICAgICAgJ29wdGlvbnMgZm9yIHRoZSBtb2NoYSByZXBvcnRlci4gZGVmYXVsdHMgdG8gXCJudWxsXCInXG4gICAgKVxuICAgIC5hZGRPcHRpb24oXG4gICAgICBuZXcgT3B0aW9uKFxuICAgICAgICBcIi1zLCAtLXNwZWMgPHNwZWMtcGF0dGVybj5cIixcbiAgICAgICAgJ2RlZmluZSBzcGVjaWZpYyBnbG9iIHBhdHRlcm4gZm9yIHJ1bm5pbmcgdGhlIHNwZWMgZmlsZShzKSwgRGVmYXVsdHMgdG8gdGhlIFwic3BlY01hdGNoXCIgZW50cnkgZnJvbSB0aGUgXCJjeXByZXNzLmNvbmZpZy57anMsdHMsbWpzLGNqc31cIiBmaWxlJ1xuICAgICAgKS5hcmdQYXJzZXIocGFyc2VDb21tYVNlcGFyYXRlZExpc3QpXG4gICAgKVxuICAgIC5vcHRpb24oXG4gICAgICBcIi10LCAtLXRhZyA8dGFnPlwiLFxuICAgICAgXCJjb21tYS1zZXBhcmF0ZWQgdGFnKHMpIGZvciByZWNvcmRlZCBydW5zIGluIEN1cnJlbnRzXCIsXG4gICAgICBwYXJzZUNvbW1hU2VwYXJhdGVkTGlzdFxuICAgICk7XG5cbmV4cG9ydCBjb25zdCBwcm9ncmFtID0gY3JlYXRlUHJvZ3JhbSgpO1xuXG5mdW5jdGlvbiBwYXJzZUNvbW1hU2VwYXJhdGVkTGlzdCh2YWx1ZTogc3RyaW5nLCBwcmV2aW91czogc3RyaW5nW10gPSBbXSkge1xuICBpZiAodmFsdWUpIHtcbiAgICByZXR1cm4gcHJldmlvdXMuY29uY2F0KHZhbHVlLnNwbGl0KFwiLFwiKS5tYXAoKHQpID0+IHQudHJpbSgpKSk7XG4gIH1cbiAgcmV0dXJuIHByZXZpb3VzO1xufVxuIl0sCiAgIm1hcHBpbmdzIjogIjs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQSxJQUtNLGtCQU1PO0FBWGI7QUFBQTtBQUtBLElBQU0sbUJBQW1CLE1BQ3ZCLE9BQU8sYUFBYSxjQUNoQixJQUFJLElBQUksVUFBVSxVQUFVLEVBQUUsT0FDN0Is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QTtBQUFBLE1BQ0E7QUFBQSxNQUNBO0FBQUEsSUFDRixDQUFDO0FBQUE7QUFBQSxJQUVELGVBQWUsUUFBUTtBQUFBLE1BQ3JCO0FBQUEsTUFDQTtBQUFBLE1BQ0E7QUFBQSxNQUNBO0FBQUEsTUFDQTtBQUFBLE1BQ0E7QUFBQSxJQUNGLENBQUM7QUFBQTtBQUFBLElBRUQsUUFBUSxRQUFRO0FBQUE7QUFBQSxNQUVkO0FBQUEsTUFDQTtBQUFBO0FBQUEsTUFFQTtBQUFBO0FBQUEsTUFDQTtBQUFBLE1BQ0E7QUFBQSxNQUNBO0FBQUE7QUFBQSxNQUVBO0FBQUEsTUFDQTtBQUFBLE1BQ0E7QUFBQSxNQUNBO0FBQUEsTUFDQTtBQUFBLE1BQ0E7QUFBQTtBQUFBLElBRUYsQ0FBQztBQUFBO0FBQUEsSUFFRCxNQUFNLFFBQVE7QUFBQSxNQUNaO0FBQUEsTUFDQTtBQUFBLE1BQ0E7QUFBQSxNQUNBO0FBQUEsTUFDQTtBQUFBLE1BQ0E7QUFBQSxNQUNBO0FBQUEsTUFDQTtBQUFBLE1BQ0E7QUFBQSxNQUNBO0FBQUEsTUFDQTtBQUFBLE1BQ0E7QUFBQSxNQUNBO0FBQUEsSUFDRixDQUFDO0FBQUEsSUFDRCxhQUFhLFFBQVE7QUFBQTtBQUFBLE1BRW5CO0FBQUEsTUFDQTtBQUFBO0FBQUEsTUFFQTtBQUFBLE1BQ0E7QUFBQSxNQUNBO0FBQUEsTUFDQTtBQUFBLE1BQ0E7QUFBQTtBQUFBLElBRUYsQ0FBQztBQUFBLElBQ0QsU0FBUyxRQUFRLENBQUMsWUFBWSxhQUFhLGdCQUFnQixhQUFhLENBQUM7QUFBQTtBQUFBO0FBQUEsSUFHekUsV0FBVyxRQUFRO0FBQUEsTUFDakI7QUFBQSxNQUNBO0FBQUEsTUFDQTtBQUFBLE1BQ0E7QUFBQSxNQUNBO0FBQUEsTUFDQTtBQUFBLE1BQ0E7QUFBQSxNQUNBO0FBQUEsTUFDQTtBQUFBLE1BQ0E7QUFBQSxNQUNBO0FBQUEsTUFDQTtBQUFBLE1BQ0E7QUFBQSxNQUNBO0FBQUE7QUFBQSxNQUNBO0FBQUEsTUFDQTtBQUFBO0FBQUEsTUFDQTtBQUFBLE1BQ0E7QUFBQSxNQUNBO0FBQUEsTUFDQTtBQUFBLE1BQ0E7QUFBQTtBQUFBLE1BQ0E7QUFBQSxNQUNBO0FBQUE7QUFBQSxNQUNBO0FBQUEsTUFDQTtBQUFBLE1BQ0E7QUFBQSxNQUNBO0FBQUE7QUFBQSxJQUNGLENBQUM7QUFBQTtBQUFBLElBRUQsV0FBVyxRQUFRO0FBQUE7QUFBQSxNQUVqQjtBQUFBO0FBQUEsTUFDQTtBQUFBO0FBQUEsTUFDQTtBQUFBO0FBQUEsTUFDQTtBQUFBO0FBQUEsTUFDQTtBQUFBO0FBQUEsTUFDQTtBQUFBO0FBQUEsTUFDQTtBQUFBO0FBQUE7QUFBQSxNQUVBO0FBQUE7QUFBQSxNQUNBO0FBQUE7QUFBQSxNQUNBO0FBQUE7QUFBQSxNQUNBO0FBQUE7QUFBQSxNQUNBO0FBQUE7QUFBQSxNQUNBO0FBQUE7QUFBQSxNQUNBO0FBQUE7QUFBQSxNQUNBO0FBQUE7QUFBQTtBQUFBLE1BRUE7QUFBQTtBQUFBLE1BQ0E7QUFBQTtBQUFBLE1BQ0E7QUFBQTtBQUFBLE1BQ0E7QUFBQTtBQUFBLE1BQ0E7QUFBQTtBQUFBLE1BQ0E7QUFBQTtBQUFBLElBQ0YsQ0FBQztBQUFBLElBQ0QsVUFBVTtBQUFBLElBQ1YsZ0JBQWdCLFFBQVE7QUFBQSxNQUN0QjtBQUFBLE1BQ0E7QUFBQSxNQUNBO0FBQUEsSUFDRixDQUFDO0FBQUEsSUFDRCxRQUFRLFFBQVE7QUFBQSxNQUNkO0FBQUEsTUFDQTtBQUFBLE1BQ0E7QUFBQSxNQUNBO0FBQUEsTUFDQTtBQUFBLE1BQ0E7QUFBQSxNQUNBO0FBQUEsTUFDQTtBQUFBLE1BQ0E7QUFBQSxNQUNBO0FBQUEsTUFDQTtBQUFBLElBQ0YsQ0FBQztBQUFBLElBQ0QsU0FBUztBQUFBO0FBQUEsSUFFVCxTQUFTLFFBQVE7QUFBQSxNQUNmO0FBQUEsTUFDQTtBQUFBLE1BQ0E7QUFBQSxNQUNBO0FBQUEsTUFDQTtBQUFBLE1BQ0E7QUFBQSxJQUNGLENBQUM7QUFBQTtBQUFBLElBRUQsU0FBUyxRQUFRO0FBQUEsTUFDZjtBQUFBLE1BQ0E7QUFBQSxNQUNBO0FBQUEsTUFDQTtBQUFBLE1BQ0E7QUFB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TSxnQkFBZ0IsT0FBTyxjQUFjLE9BQU87QUFDbEQsTUFBSSxnQkFBZ0IsR0FBRztBQUNyQixZQUFRLEtBQUssYUFBYTtBQUFBLEVBQzVCO0FBQ0EsVUFBUSxLQUFLLENBQUM7QUFDaEIsQ0FBQyxFQUNBLE1BQU0sQ0FBQyxRQUFRO0FBQ2QsTUFBSSxlQUFlLGlCQUFpQjtBQUNsQyxZQUFRLE1BQU0sVUFBVSxJQUFJLFNBQVMsQ0FBQyxDQUFDO0FBQUEsRUFDekMsT0FBTztBQUNMLFlBQVEsTUFBTSxHQUFHO0FBQUEsRUFDbkI7QUFDQSxVQUFRLEtBQUssQ0FBQztBQUNoQixDQUFDOyIsCiAgIm5hbWVzIjogWyJ1dGlsIiwgImNoYWxrIiwgIl8iLCAiYXhpb3MiLCAiYXhpb3NSZXRyeSIsICJfY29uZmlnIiwgInByZXR0eU1pbGxpc2Vjb25kcyIsICJpbXBvcnRfYXhpb3MiLCAiaW1wb3J0X2xvZGFzaCIsICJEZWJ1ZyIsICJfIiwgImVycm9yIiwgImluaXRfaHR0cENsaWVudCIsICJpbXBvcnRfZGVidWciLCAiZGVidWciLCAiRGVidWciLCAibG9nIiwgInJlcXVpcmUiLCAiY3AiLCAicHJvY2VzcyIsICJpbml0X2h0dHBDbGllbnQiLCAicmVxdWlyZSIsICJtb2R1bGUiLCAiaW1wb3J0X2RlYnVnIiwgImluaXRfaHR0cENsaWVudCIsICJpbXBvcnRfbG9kYXNoIiwgIl8iLCAicGxhdGZvcm0iLCAic3Rkb3V0IiwgImltcG9ydF9kZWJ1ZyIsICJpbXBvcnRfbG9kYXNoIiwgImRlYnVnIiwgImRlYnVnRm4iLCAiXyIsICJfIiwgImRlYnVnIiwgImltcG9ydF9kZWJ1ZyIsICJpbXBvcnRfcGF0aCIsICJpbXBvcnRfZGVidWciLCAicGF0aCIsICJpbXBvcnRfZGVidWciLCAiaW1wb3J0X2xvZGFzaCIsICJkZWJ1ZyIsICJEZWJ1ZyIsICJfIiwgImRlYnVnIiwgIkRlYnVnIiwgInJlcXVpcmUiLCAic3Rkb3V0IiwgImZzIiwgImV4ZWNhIiwgImZpbGUiLCAicGF0aCIsICJkZWJ1ZyIsICJEZWJ1ZyIsICJyZXF1aXJlIiwgInBhdGgiLCAiaW1wb3J0X2RlYnVnIiwgImltcG9ydF9sb2Rhc2giLCAiZGVidWciLCAiRGVidWciLCAiZGVidWciLCAiXyIsICJnaXQiLCAiaW5pdF9odHRwQ2xpZW50IiwgImltcG9ydF9kZWJ1ZyIsICJkZWJ1ZyIsICJEZWJ1ZyIsICJpbXBvcnRfZGVidWciLCAiaW1wb3J0X3V0aWwiLCAiZGVidWciLCAiRGVidWciLCAiZ2V0b3MiLCAiaW1wb3J0X2RlYnVnIiwgImltcG9ydF9sb2Rhc2giLCAiaW1wb3J0X25hbm9pZCIsICJkZWJ1ZyIsICJEZWJ1ZyIsICJlcnJvciIsICJfIiwgInJ1biIsICJpbXBvcnRfbG9kYXNoIiwgImltcG9ydF9wcmV0dHlfbXMiLCAiXyIsICJyIiwgInByZXR0eU1TIiwgImltcG9ydF9kZWJ1ZyIsICJpbXBvcnRfZGVidWciLCAiaW1wb3J0X2RlYnVnIiwgImltcG9ydF9mcyIsICJpbml0X2h0dHBDbGllbnQiLCAiZnMiLCAiZGVidWciLCAiRGVidWciLCAiZmlsZSIsICJkZWJ1ZyIsICJEZWJ1ZyIsICJkZWJ1ZyIsICJEZWJ1ZyIsICJydW4iLCAic3Rkb3V0IiwgImltcG9ydF9kZWJ1ZyIsICJpbXBvcnRfZGVidWciLCAiZGVidWciLCAiRGVidWciLCAiY3lwcmVzcyIsICJlcnJvciIsICJkZWJ1ZyIsICJEZWJ1ZyIsICJwbGF0Zm9ybSIsICJpbXBvcnRfZGVidWciLCAiaW1wb3J0X3BhdGgiLCAiaW1wb3J0X2xvZGFzaCIsICJpbXBvcnRfb3MiLCAiZGVidWciLCAiRGVidWciLCAiXyIsICJwYXRoIiwgIm9zIiwgImdsb2JieSIsICJjb21tb25QYXRoUHJlZml4IiwgInBsYXRmb3JtIiwgImRlYnVnIiwgIkRlYnVnIiwgInBsYXRmb3JtIiwgInJ1biIsICJpbXBvcnRfZGVidWciLCAiaW1wb3J0X2xvZGFzaCIsICJhc3NlcnQiLCAiXyIsICJkZWJ1ZyIsICJEZWJ1ZyJdCn0K